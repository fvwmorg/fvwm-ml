<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets from Tom Alsberg on 2002-07-07 (fvwm-users)</title>
<meta name="Author" content="Tom Alsberg (alsbergt_at_zoopee.org)" />
<meta name="Subject" content="Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets" />
<meta name="Date" content="2002-07-07" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets</h1>
<!-- received="Sun Jul  7 06:43:59 2002" -->
<!-- isoreceived="20020707054359" -->
<!-- sent="Sun, 7 Jul 2002 14:43:02 +0300" -->
<!-- isosent="20020707114302" -->
<!-- name="Tom Alsberg" -->
<!-- email="alsbergt_at_zoopee.org" -->
<!-- subject="Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets" -->
<!-- id="20020707114302.GA3798_at_zoopee.org" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="20020706174055.A25457_at_gmx.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5472" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5473.html" accesskey="d" title="Thomas Gardiner: &quot;FVWM: FvwmPager&quot;">Next message</a> ]
[ <a href="5471.html" title="Dominik Vogt: &quot;Re: FvwmPager? (was: Re: FVWM: OpaqueMove... not enough! ;))&quot;">Previous message</a> ]
[ <a href="5461.html" title="Dominik Vogt: &quot;Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="5497.html" accesskey="t" title="Dominik Vogt: &quot;Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg5472" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg5472" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5472" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5472" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Tom Alsberg &lt;<a href="mailto:alsbergt_at_zoopee.org?Subject=Re%3A%20FVWM%3A%20Automatically%20raise%20certain%20windows%20on%20mouse%20enter%2C%20flickering%20of%20windows%20and%20widgets">alsbergt_at_zoopee.org</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Sun, 7 Jul 2002 14:43:02 +0300</span><br />
</address>
<br />
Hi there...
<br />
Comments below, again:
<br />
<br />On Sat, Jul 06, 2002 at 05:40:55PM +0200, Dominik Vogt wrote:
<br />
<em class="quotelev1">&gt; On Sat, Jul 06, 2002 at 03:02:01PM +0300, Tom Alsberg wrote:
</em><br />
<em class="quotelev2">&gt; &gt; &lt;snip /&gt;
</em><br />
<em class="quotelev2">&gt; &gt; Well, there are other examples, like I noted, with GTK+ buttons,
</em><br />
<em class="quotelev2">&gt; &gt; Netscape toolbars, balloon titles in FvwmPager...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; But what *are* the problems?  I'm not a psychic.
</em><br />
<br />Well, with GTK+ buttons, sometimes the buttons act like the pointer
<br />
enters and leaves them a lot of times in a short time period, getting
<br />
highlighted and un-highlighted - the same with Netscape's toolbars.
<br />
With FvwmPager, when the pointer goes over a window, and then over
<br />
another window, in a short period of time, sometimes the balloon
<br />
showing the title of the window starts to flicker - appears and
<br />
disappears continuously for a short time.
<br />
<br /><em class="quotelev2">&gt; &gt; And sometimes
</em><br />
<em class="quotelev2">&gt; &gt; windows being automatically raised (e.g. FvwmButtons) start
</em><br />
<em class="quotelev2">&gt; &gt; flickering - getting raised and lowered over and over again frequently
</em><br />
<em class="quotelev2">&gt; &gt; in a short time...
</em><br />
<em class="quotelev2">&gt; &gt; I do not have exact tests for those examples, though, as they do not
</em><br />
<em class="quotelev2">&gt; &gt; always happen - only once in a while...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Then please try to pin it down.  I have no such problems with the
</em><br />
<em class="quotelev1">&gt; functions.
</em><br />
<br />I could only pin those problems down to the actual lines in the
<br />
.fvwm2rc which do the automatic raising and lowering.
<br />
As I said, it does not always happen... But in some time with this
<br />
setup, you notice it...
<br />
<br /><em class="quotelev2">&gt; &gt; But if you use this setup for
</em><br />
<em class="quotelev2">&gt; &gt; a while, with some activity with automatically raised and lowered
</em><br />
<em class="quotelev2">&gt; &gt; windows, then you'll probably see it a few times.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Uh, but I won't.  I hate auto raising.  I can't use my desktop
</em><br />
<em class="quotelev1">&gt; with it.  :-)
</em><br />
<br />Oh... Well, I don't really like auto raising of my windows either... I
<br />
just use it for some little windows like the icon manager,
<br />
FvwmButtons, XClock, etc. which I want to see without &quot;effort&quot;
<br />
(clicking, etc.) at times but I don't want them to consume space all
<br />
the time...
<br />
<br /><em class="quotelev2">&gt; &gt; &lt;snip /&gt;
</em><br />
<em class="quotelev2">&gt; &gt; I would ask now - why does this have to be a complex function?
</em><br />
<em class="quotelev2">&gt; &gt; Couldn't it be, instead of a complex function, just some
</em><br />
<em class="quotelev2">&gt; &gt; AutoRaise/AutoLower style?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Well, what would you win with that?  You'd still need a complex
</em><br />
<em class="quotelev1">&gt; function to select the windows to use. 
</em><br />
<br />Well, I suppose just use those windows with the style applied to
<br />
them...
<br />
<br /><em class="quotelev1">&gt; No.  Either you give up most of the flexibility or you have to use
</em><br />
<em class="quotelev1">&gt; complex functions.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &lt;snip /&gt;
</em><br />
<em class="quotelev2">&gt; &gt; By enter and leave events, do you mean events of FVWM (FvwmEvent), or
</em><br />
<em class="quotelev2">&gt; &gt; events in the level of X?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; It's roughly the same.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; After all, FVWM does a lot of things on
</em><br />
<em class="quotelev2">&gt; &gt; enter and leave, including focus, changing window styles, etc etc.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Yes, but it *does not* restack windows triggered by these events.
</em><br />
<em class="quotelev1">&gt; That's the one thing that does not work
</em><br />
<br />Why should that be the one thing that does not work, though?
<br />
<br /><em class="quotelev1">&gt; &lt;snip /&gt;
</em><br />
<em class="quotelev1">&gt; Let me explain.  You probably think that one EnterNotify event is
</em><br />
<em class="quotelev1">&gt; sent when a window is entered and one LeaveNotify event when the
</em><br />
<em class="quotelev1">&gt; window is left.  But that's not true.  Let's assume we have two
</em><br />
<em class="quotelev1">&gt; overlapping windows A and B.  The most simple case would be
</em><br />
<em class="quotelev1">&gt; windows without any children.  In fvwm, the visible window still
</em><br />
<em class="quotelev1">&gt; consists of a lot of sub windows:  The top level window (frame),
</em><br />
<em class="quotelev1">&gt; the Wparent&quot; window which contains the client window, and more
</em><br />
<em class="quotelev1">&gt; than a dozen decorative windows.  Let's assume the pointer is in
</em><br />
<em class="quotelev1">&gt; the client window of A and is moved across the title bar into
</em><br />
<em class="quotelev1">&gt; window B:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;  - pointer moves into the titlebar of A
</em><br />
<em class="quotelev1">&gt;    Events:
</em><br />
<em class="quotelev1">&gt;      leave client A
</em><br />
<em class="quotelev1">&gt;      leave parent A
</em><br />
<em class="quotelev1">&gt;      enter title window A
</em><br />
<em class="quotelev1">&gt;  - Pointer moves into the border of A
</em><br />
<em class="quotelev1">&gt;    Events:
</em><br />
<em class="quotelev1">&gt;      leave title window A
</em><br />
<em class="quotelev1">&gt;      enter border A
</em><br />
<em class="quotelev1">&gt;  - Pointer moves directly into the client window of B.
</em><br />
<em class="quotelev1">&gt;    Events:
</em><br />
<em class="quotelev1">&gt;      leave border A
</em><br />
<em class="quotelev1">&gt;      leave frame A
</em><br />
<em class="quotelev1">&gt;      enter frame B
</em><br />
<em class="quotelev1">&gt;      enter parent B
</em><br />
<em class="quotelev1">&gt;      enter clent B
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; And it get's much worse if pointer grabs are considered:  when an
</em><br />
<em class="quotelev1">&gt; application grabs the pointer, it can specify a grab context
</em><br />
<em class="quotelev1">&gt; window.  For example, if you open a menu (by a key stroke), the
</em><br />
<em class="quotelev1">&gt; client, parent and frame of B are left and the menu window is
</em><br />
<em class="quotelev1">&gt; entered, *even* if the pointer is not over the menu.  The reverse
</em><br />
<em class="quotelev1">&gt; events occur when the grab is released (leave menu, enter frame/
</em><br />
<em class="quotelev1">&gt; parent/client).  The old window even gets enter events if the
</em><br />
<em class="quotelev1">&gt; pointer is no longer over it - immediately followed by the usual
</em><br />
<em class="quotelev1">&gt; leave events and the enter events on the new window hierarchy.
</em><br />
<br />Wow... I didn't know it's that complicated... (I hardly ever dealt
<br />
with those aspects of X - which do not draw in some client window or
<br />
the root window, or something)
<br />
<br /><em class="quotelev1">&gt; (BTW, this grabbing issue is what makes the gv zoom window vanish:
</em><br />
<em class="quotelev1">&gt; the pointer is grabbed by fvwm ==&gt; zoom window receives a leave
</em><br />
<em class="quotelev1">&gt; event and closes.  It should ignore events triggered by grabs).
</em><br />
<br />Why does the pointer being grabbed cause the window to receive a leave
<br />
event?
<br />
<br /><em class="quotelev1">&gt; &lt;snip /&gt;
</em><br />
<em class="quotelev2">&gt; &gt; (and *slow*)?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Because enter and leave events are by fare the most common events
</em><br />
<em class="quotelev1">&gt; (apart from mouse events).  When they are actually communicated to
</em><br />
<em class="quotelev1">&gt; a module, a lot of useless traffic is created.
</em><br />
<br />Oh... understood... Not that I know that there are a lot more enter
<br />
and leave events than I thought...
<br />
<br /><em class="quotelev2">&gt; &gt; &lt;snip /&gt;
</em><br />
<em class="quotelev2">&gt; &gt; Well, might be... But, well... I still find this a bit weird,
</em><br />
<em class="quotelev2">&gt; &gt; considering that some other window managers handle that quite well,
</em><br />
<em class="quotelev2">&gt; &gt; also with gv... And, as I said, the problem is not only with gv... gv
</em><br />
<em class="quotelev2">&gt; &gt; is just a test that always shows the problem.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; No, let's get this straigt:  the gv problem is *completely*
</em><br />
<em class="quotelev1">&gt; different from any problem with windows competing for the top
</em><br />
<em class="quotelev1">&gt; position on the window hierarchy.  It's really just a gv bug.  The
</em><br />
<em class="quotelev1">&gt; developers forgot to grab the pointer when that popup window
</em><br />
<em class="quotelev1">&gt; opens.
</em><br />
<br />I got it now... For some reason I had the idea that it was the same
<br />
problem, but now I see it...
<br />
<br /><em class="quotelev2">&gt; &gt; &lt;snip /&gt;
</em><br />
<em class="quotelev2">&gt; &gt; I tried FvwmAuto for that, and those were exactly my problems... I do
</em><br />
<em class="quotelev2">&gt; &gt; have my focus following the pointer, except windows which have the
</em><br />
<em class="quotelev2">&gt; &gt; ClickToFocus style enabled... And mostly, those are the windows I want
</em><br />
<em class="quotelev2">&gt; &gt; to automatically raise and lower...
</em><br />
<em class="quotelev2">&gt; &gt; That was what my first post on this subject (back near the end of
</em><br />
<em class="quotelev2">&gt; &gt; 2001) was to say... That I need a bit more than FvwmAuto can do, at
</em><br />
<em class="quotelev2">&gt; &gt; that time...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; (much later)
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I've made a patch to FvwmAuto so that it can handle enter and
</em><br />
<em class="quotelev1">&gt; leave events instead of focus events.  Try this with the latest
</em><br />
<em class="quotelev1">&gt; cvs code:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   FvwmAuto 0 -passid -enterleave \
</em><br />
<em class="quotelev1">&gt;     &quot;Silent selective_raiselower raise&quot; \
</em><br />
<em class="quotelev1">&gt;     &quot;Silent selective_raiselower lower&quot;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   DestroyFunc selective_raiselower
</em><br />
<em class="quotelev1">&gt;   AddToFunc selective_raiselower
</em><br />
<em class="quotelev1">&gt;   + I WindowId $1 (FvwmIconMan) $0
</em><br />
<em class="quotelev1">&gt;   + I WindowId $1 (FvwmButtons) $0
</em><br />
<em class="quotelev1">&gt;   + I WindowId $1 (xclock) $0
</em><br />
<em class="quotelev1">&gt;   + I WindowId $1 (xexec) $0
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; (You need the file libs/Flocale.c from the 4th of July - the
</em><br />
<em class="quotelev1">&gt; current one is buggy and may crash fvwm).
</em><br />
<br />Wow... That works great... Almost.
<br />
It does it as expected, responsive, and there seems to be no
<br />
flickering with it...
<br />
But, the problem with gv, which I now completely realize that it is a
<br />
different problem, is still there - it doesn't happen when I just
<br />
automatically raise and lower all windows... Apparently because of the
<br />
pointer grabbing deal... But I don't want to have all windows
<br />
automatically raised...
<br />
Could there be a way to not have to use a function for that? Make it a
<br />
style that FvwmAuto checks or something? That would be perfect then...
<br />
Or maybe there could be a way to cause that specific function
<br />
(selecting the window) not to grab the pointer...
<br />
<br /><em class="quotelev1">&gt; Bye
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dominik ^_^  ^_^
</em><br />
<br />&nbsp;&nbsp;Thanks very much, again... Some of the problem is already solved...
<br />
&nbsp;&nbsp;-- Tom
<br />
<br /><pre>
-- 
  Tom Alsberg - certified insane, complete illiterate.
        e-mail: &lt;alsbergt_at_softhome.net&gt;
	Homepage: <a href="http://www.cs.huji.ac.il/~alsbergt/">http://www.cs.huji.ac.il/~alsbergt/</a>
  * An idea is not responsible for the people who believe in it.
--
Visit the official FVWM web page at &lt;URL: <a href="http://www.fvwm.org/">http://www.fvwm.org/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_fvwm.org.
To report problems, send mail to fvwm-owner_at_fvwm.org.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Jul 07 2002 - 06:43:59 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5472">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5473.html" title="Next message in the list">Thomas Gardiner: "FVWM: FvwmPager"</a></li>
<li><dfn>Previous message</dfn>: <a href="5471.html" title="Previous message in the list">Dominik Vogt: "Re: FvwmPager? (was: Re: FVWM: OpaqueMove... not enough! ;))"</a></li>
<li><dfn>In reply to</dfn>: <a href="5461.html" title="Message to which this message replies">Dominik Vogt: "Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="5497.html" title="Next message in this discussion thread">Dominik Vogt: "Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="5497.html" title="Message sent in reply to this message">Dominik Vogt: "Re: FVWM: Automatically raise certain windows on mouse enter, flickering of windows and widgets"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg5472" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg5472" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5472" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5472" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:37:53 BST
</em></small></p>
</body>
</html>
