#-------------------------------------------------------------------------------#
#            Form for FvwmBacker  by  Alex Wallis <awol@dove.net.au>            #
#-------------------------------------------------------------------------------#
# This form produces a separate file for each desk configuration. To read them all 
# at once, you must place the following line somewhere in your .fvwm2rc
# Piperead 'for i in `ls $FVWM_USERHOME/ConfigFvwmBacker.* 2>/dev/null` ; do echo Read $i ; done'
# and AddToMenu SomeMenu "&B. Backer" Module FvwmForm FormFvwmBacker. 
DestroyModuleConfig FormFvwmBacker.*

*FormFvwmBacker.WarpPointer
*FormFvwmBacker.UseData $FVWM_USERHOME/.ConfigFvwmBacker.${Desk} *FormFvwmBacker.Default
*FormFvwmBacker.Line center
*FormFvwmBacker.Text "Form to configure FvwmBacker"
*FormFvwmBacker.Line center
*FormFvwmBacker.Text "#----------------------------------------#"
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "    "
*FormFvwmBacker.Text "Desk Number :"
*FormFvwmBacker.Input Dsk 3 ""
*FormFvwmBacker.Text "              "
*FormFvwmBacker.Button	quit	"Load Desk"
*FormFvwmBacker.Command DestroyModuleConfig FormFvwmBacker.Default*
*FormFvwmBacker.Command Module FvwmForm FormFvwmBacker. "Desk=$(Dsk)"
*FormFvwmBacker.Line center
*FormFvwmBacker.Text "List of available *FvwmBackerCommand lines."
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "Page x"
*FormFvwmBacker.Input Pgx1 2 ""
*FormFvwmBacker.Text "Page y"
*FormFvwmBacker.Input Pgy1 2 ""
*FormFvwmBacker.Text "Command"
*FormFvwmBacker.Input Com1 50 ""
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "Page x"
*FormFvwmBacker.Input Pgx2 2 ""
*FormFvwmBacker.Text "Page y"
*FormFvwmBacker.Input Pgy2 2 ""
*FormFvwmBacker.Text "Command"
*FormFvwmBacker.Input Com2 50 ""
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "Page x"
*FormFvwmBacker.Input Pgx3 2 ""
*FormFvwmBacker.Text "Page y"
*FormFvwmBacker.Input Pgy3 2 ""
*FormFvwmBacker.Text "Command"
*FormFvwmBacker.Input Com3 50 ""
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "Page x"
*FormFvwmBacker.Input Pgx4 2 ""
*FormFvwmBacker.Text "Page y"
*FormFvwmBacker.Input Pgy4 2 ""
*FormFvwmBacker.Text "Command"
*FormFvwmBacker.Input Com4 50 ""
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "Page x"
*FormFvwmBacker.Input Pgx5 2 ""
*FormFvwmBacker.Text "Page y"
*FormFvwmBacker.Input Pgy5 2 ""
*FormFvwmBacker.Text "Command"
*FormFvwmBacker.Input Com5 50 ""
*FormFvwmBacker.Line left
*FormFvwmBacker.Text "Page x"
*FormFvwmBacker.Input Pgx6 2 ""
*FormFvwmBacker.Text "Page y"
*FormFvwmBacker.Input Pgy6 2 ""
*FormFvwmBacker.Text "Command"
*FormFvwmBacker.Input Com6 50 ""
*FormFvwmBacker.Line center
*FormFvwmBacker.Text "Read \"man FvwmBacker\" for details of options."
*FormFvwmBacker.Line expand
*FormFvwmBacker.Button	quit "F1 - Save" F1
*FormFvwmBacker.Command	!/bin/echo "# This file created by FormFvwmBacker on:`/bin/date`.\n\
*FvwmBackerCommand ("$(Pgx1!Desk -1)$(Pgx1?Desk $(Dsk))$(Pgx1?', Page $(Pgx1)') $(Pgy1?$(Pgy1))") "$(Com1?$(Com1))$(Com1!Colorset -1)"\n\
*FvwmBackerCommand ("$(Pgx2!Desk -1)$(Pgx2?Desk $(Dsk))$(Pgx2?', Page $(Pgx2)') $(Pgy2?$(Pgy2))") "$(Com2?$(Com2))$(Com2!Colorset -1)"\n\
*FvwmBackerCommand ("$(Pgx3!Desk -1)$(Pgx3?Desk $(Dsk))$(Pgx3?', Page $(Pgx3)') $(Pgy3?$(Pgy3))") "$(Com3?$(Com3))$(Com3!Colorset -1)"\n\
*FvwmBackerCommand ("$(Pgx4!Desk -1)$(Pgx4?Desk $(Dsk))$(Pgx4?', Page $(Pgx4)') $(Pgy4?$(Pgy4))") "$(Com4?$(Com4))$(Com4!Colorset -1)"\n\
*FvwmBackerCommand ("$(Pgx5!Desk -1)$(Pgx5?Desk $(Dsk))$(Pgx5?', Page $(Pgx5)') $(Pgy5?$(Pgy5))") "$(Com5?$(Com5))$(Com5!Colorset -1)"\n\
*FvwmBackerCommand ("$(Pgx6!Desk -1)$(Pgx6?Desk $(Dsk))$(Pgx6?', Page $(Pgx6)') $(Pgy6?$(Pgy6))") "$(Com6?$(Com6))$(Com6!Colorset -1)"" > $FVWM_USERHOME/ConfigFvwmBacker.$(Dsk)
*FormFvwmBacker.Command	!/bin/echo "# This file created by FormFvwmBacker on:`/bin/date`.\n\
*FormFvwmBacker.DefaultDsk "$(Dsk)"\n\
*FormFvwmBacker.DefaultPgx1 "$(Pgx1)"\n\
*FormFvwmBacker.DefaultPgy1 "$(Pgy1)"\n\
*FormFvwmBacker.DefaultCom1 "$(Com1)"\n\
*FormFvwmBacker.DefaultPgx2 "$(Pgx2)"\n\
*FormFvwmBacker.DefaultPgy2 "$(Pgy2)"\n\
*FormFvwmBacker.DefaultCom2 "$(Com2)"\n\
*FormFvwmBacker.DefaultPgx3 "$(Pgx3)"\n\
*FormFvwmBacker.DefaultPgy3 "$(Pgy3)"\n\
*FormFvwmBacker.DefaultCom3 "$(Com3)"\n\
*FormFvwmBacker.DefaultPgx4 "$(Pgx4)"\n\
*FormFvwmBacker.DefaultPgy4 "$(Pgy4)"\n\
*FormFvwmBacker.DefaultCom4 "$(Com4)"\n\
*FormFvwmBacker.DefaultPgx5 "$(Pgx5)"\n\
*FormFvwmBacker.DefaultPgy5 "$(Pgy5)"\n\
*FormFvwmBacker.DefaultCom5 "$(Com5)"\n\
*FormFvwmBacker.DefaultPgx6 "$(Pgx6)"\n\
*FormFvwmBacker.DefaultPgy6 "$(Pgy6)"\n\
*FormFvwmBacker.DefaultCom6 "$(Com6)"" > $FVWM_USERHOME/.ConfigFvwmBacker.$(Dsk)
*FormFvwmBacker.Command DestroyModuleConfig FormFvwmBacker.Default*
*FormFvwmBacker.Command	Module FvwmForm FormFvwmBacker. "Desk=$(Dsk)"
*FormFvwmBacker.Button	quit "F4 - Dismiss" F4
*FormFvwmBacker.Command DestroyModuleConfig FormFvwmBacker.Default*
*FormFvwmBacker.Command	Nop
#-----------------------------End of FormFvwmBacker.---------------------------#

