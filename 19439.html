<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>Re: FVWM: lefty cursors from Xris Laas on 1997-03-05 (fvwm-users)</title>
<meta name="Author" content="Xris Laas (chrisl_at_cybercom.net)" />
<meta name="Subject" content="Re: FVWM: lefty cursors" />
<meta name="Date" content="1997-03-05" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>Re: FVWM: lefty cursors</h1>
<!-- received="Wed Mar  5 17:47:37 1997" -->
<!-- isoreceived="19970305174737" -->
<!-- sent="Wed, 5 Mar 1997 18:47:43 -0500 (EST)" -->
<!-- isosent="19970305234743" -->
<!-- name="Xris Laas" -->
<!-- email="chrisl_at_cybercom.net" -->
<!-- subject="Re: FVWM: lefty cursors" -->
<!-- id="199703051347.SAA02668_at_lator.cybercom.net" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="vkhgiri5mg.fsf_at_cdc.noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start19439" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="19440.html" accesskey="d" title="Tom Julien: &quot;Re: FVWM: Re: lefty cursors&quot;">Next message</a> ]
[ <a href="19438.html" title="Trent Piepho: &quot;Re: FVWM: Re: lefty cursors&quot;">Previous message</a> ]
[ <a href="19416.html" title="Mark Borges: &quot;FVWM: lefty cursors&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="19441.html" accesskey="t" title="Mark Borges: &quot;FVWM: Re: lefty cursors&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg19439" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg19439" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg19439" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg19439" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Xris Laas &lt;<a href="mailto:chrisl_at_cybercom.net?Subject=Re%3A%20FVWM%3A%20lefty%20cursors">chrisl_at_cybercom.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 5 Mar 1997 18:47:43 -0500 (EST)</span><br />
</address>
<br />
On  4 Mar, Mark Borges wrote:
<br />
<em class="quotelev1">&gt; is there a simple way (in fvwm-2.0.45) to change the pointer cursor to
</em><br />
<em class="quotelev1">&gt; have a SW-NE orientation instead of SE-NW?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; i was recently advised to switch the mouse to my left hand, and i find
</em><br />
<em class="quotelev1">&gt; it a bit awkward to use the default cursor orientation.
</em><br />
<br />OK, I started a lot of discussion here, but I figure the end issue is
<br />
changing the Fvwm cursors.
<br />
<br />I just wrote a patch that adds simple cursor configurability to fvwm
<br />
with a CursorConfig command.  The patch is against 2.0.43, so it
<br />
may be slightly outdated, but it should probably patch fine.
<br />
<br />Side note to Chuck:  could you add this, or something similar, to the
<br />
distribution?  BTW, I wrote it before I got your message with the
<br />
previous patch, so it's not based on it.  It also doesn't do a refresh
<br />
of all windows, but that might be a good thing, since you might want
<br />
windows to retain their old cursors, i.e.:
<br />
<br />AddToFunc Foo
<br />
+ I CursorConfig title_cursor arrow
<br />
+ I Exec foo
<br />
+ I Wait foo
<br />
+ I CursorConfig title_cursor gumby
<br />
<br />Though that might not be too useful.  Really, the two patches look
<br />
almost the same, other than that, and the fact that mine used lookup
<br />
tables as opposed to if .. else's.
<br />
<br />I neglected to write any docs (sorry) but the syntax is:
<br />
<br />CursorConfig &lt;which cursor&gt; &lt;X11 cursor name&gt;
<br />
<br />where &lt;which cursor&gt; is one of the names in screen.h (not case
<br />
sensitive):  position, title_cursor, default, sys, move, wait, menu,
<br />
select, destroy, top, right, bottom, left, top_left, top_right,
<br />
bottom_left, or bottom_right.  &lt;X11 cursor name&gt; is one of the names in
<br />
&lt;X11/cursorfont.h&gt;, minus the &quot;XC_&quot;.
<br />
<br />(Patch follows signature.  Note: patch -p2 from the distribution root
<br />
is the way to go.)
<br />
<br />--Chris
<br />
<br /><pre>
-- 
The history of the present King of Great Britain is a history of
repeated injuries and usurpations, all having in direct object the
establishment of an absolute tyranny over these states.
    -- Thomas Jefferson, Prologue, &quot;Declaration of Independence&quot;
{ Chris &quot;Xris&quot; Laas }-----{ chrisl_at_cybercom.net }-----{ xris_at_qfl&#46;<!--nospam-->com }
&lt;*&gt;--------------{ <a href="http://www.cybercom.net/~chrisl/">http://www.cybercom.net/~chrisl/</a> }--------------&lt;*&gt;
File fvwm-cursor-config.patch:
------------------------------------------------------------------------
diff -ru /usr/src/fvwm-orig/fvwm/builtins.c ./fvwm-devel/fvwm/builtins.c
--- /usr/src/fvwm-orig/fvwm/builtins.c	Thu Jun 27 10:34:19 1996
+++ ./fvwm-devel/fvwm/builtins.c	Wed Mar  5 17:10:29 1997
_at_&#64; -1139,6 +1139,150 &#64;&#64;
   checkPanFrames();
 }
 
+
+#define CTYPE(type) { #type , type }
+static struct {
+  char *name;
+  int id;
+} cursor_type_names[] = {
+  CTYPE(POSITION),
+  CTYPE(TITLE_CURSOR),
+  CTYPE(DEFAULT),
+  CTYPE(SYS),
+  CTYPE(MOVE),
+  CTYPE(WAIT),
+  CTYPE(MENU),
+  CTYPE(SELECT),
+  CTYPE(DESTROY),
+  CTYPE(TOP),
+  CTYPE(RIGHT),
+  CTYPE(BOTTOM),
+  CTYPE(LEFT),
+  CTYPE(TOP_LEFT),
+  CTYPE(TOP_RIGHT),
+  CTYPE(BOTTOM_LEFT),
+  CTYPE(BOTTOM_RIGHT)
+};
+static struct {
+  char *name;
+  int id;
+} cursor_names[] = {
+  {&quot;X_cursor&quot;,                XC_X_cursor},
+  {&quot;arrow&quot;,                   XC_arrow},
+  {&quot;based_arrow_down&quot;,        XC_based_arrow_down},
+  {&quot;based_arrow_up&quot;,          XC_based_arrow_up},
+  {&quot;boat&quot;,                    XC_boat},
+  {&quot;bogosity&quot;,                XC_bogosity},
+  {&quot;bottom_left_corner&quot;,      XC_bottom_left_corner},
+  {&quot;bottom_right_corner&quot;,     XC_bottom_right_corner},
+  {&quot;bottom_side&quot;,             XC_bottom_side},
+  {&quot;bottom_tee&quot;,              XC_bottom_tee},
+  {&quot;box_spiral&quot;,              XC_box_spiral},
+  {&quot;center_ptr&quot;,              XC_center_ptr},
+  {&quot;circle&quot;,                  XC_circle},
+  {&quot;clock&quot;,                   XC_clock},
+  {&quot;coffee_mug&quot;,              XC_coffee_mug},
+  {&quot;cross&quot;,                   XC_cross},
+  {&quot;cross_reverse&quot;,           XC_cross_reverse},
+  {&quot;crosshair&quot;,               XC_crosshair},
+  {&quot;diamond_cross&quot;,           XC_diamond_cross},
+  {&quot;dot&quot;,                     XC_dot},
+  {&quot;dotbox&quot;,                  XC_dotbox},
+  {&quot;double_arrow&quot;,            XC_double_arrow},
+  {&quot;draft_large&quot;,             XC_draft_large},
+  {&quot;draft_small&quot;,             XC_draft_small},
+  {&quot;draped_box&quot;,              XC_draped_box},
+  {&quot;exchange&quot;,                XC_exchange},
+  {&quot;fleur&quot;,                   XC_fleur},
+  {&quot;gobbler&quot;,                 XC_gobbler},
+  {&quot;gumby&quot;,                   XC_gumby},
+  {&quot;hand1&quot;,                   XC_hand1},
+  {&quot;hand2&quot;,                   XC_hand2},
+  {&quot;heart&quot;,                   XC_heart},
+  {&quot;icon&quot;,                    XC_icon},
+  {&quot;iron_cross&quot;,              XC_iron_cross},
+  {&quot;left_ptr&quot;,                XC_left_ptr},
+  {&quot;left_side&quot;,               XC_left_side},
+  {&quot;left_tee&quot;,                XC_left_tee},
+  {&quot;leftbutton&quot;,              XC_leftbutton},
+  {&quot;ll_angle&quot;,                XC_ll_angle},
+  {&quot;lr_angle&quot;,                XC_lr_angle},
+  {&quot;man&quot;,                     XC_man},
+  {&quot;middlebutton&quot;,            XC_middlebutton},
+  {&quot;mouse&quot;,                   XC_mouse},
+  {&quot;pencil&quot;,                  XC_pencil},
+  {&quot;pirate&quot;,                  XC_pirate},
+  {&quot;plus&quot;,                    XC_plus},
+  {&quot;question_arrow&quot;,          XC_question_arrow},
+  {&quot;right_ptr&quot;,               XC_right_ptr},
+  {&quot;right_side&quot;,              XC_right_side},
+  {&quot;right_tee&quot;,               XC_right_tee},
+  {&quot;rightbutton&quot;,             XC_rightbutton},
+  {&quot;rtl_logo&quot;,                XC_rtl_logo},
+  {&quot;sailboat&quot;,                XC_sailboat},
+  {&quot;sb_down_arrow&quot;,           XC_sb_down_arrow},
+  {&quot;sb_h_double_arrow&quot;,       XC_sb_h_double_arrow},
+  {&quot;sb_left_arrow&quot;,           XC_sb_left_arrow},
+  {&quot;sb_right_arrow&quot;,          XC_sb_right_arrow},
+  {&quot;sb_up_arrow&quot;,             XC_sb_up_arrow},
+  {&quot;sb_v_double_arrow&quot;,       XC_sb_v_double_arrow},
+  {&quot;shuttle&quot;,                 XC_shuttle},
+  {&quot;sizing&quot;,                  XC_sizing},
+  {&quot;spider&quot;,                  XC_spider},
+  {&quot;spraycan&quot;,                XC_spraycan},
+  {&quot;star&quot;,                    XC_star},
+  {&quot;target&quot;,                  XC_target},
+  {&quot;tcross&quot;,                  XC_tcross},
+  {&quot;top_left_arrow&quot;,          XC_top_left_arrow},
+  {&quot;top_left_corner&quot;,         XC_top_left_corner},
+  {&quot;top_right_corner&quot;,        XC_top_right_corner},
+  {&quot;top_side&quot;,                XC_top_side},
+  {&quot;top_tee&quot;,                 XC_top_tee},
+  {&quot;trek&quot;,                    XC_trek},
+  {&quot;ul_angle&quot;,                XC_ul_angle},
+  {&quot;umbrella&quot;,                XC_umbrella},
+  {&quot;ur_angle&quot;,                XC_ur_angle},
+  {&quot;watch&quot;,                   XC_watch},
+  {&quot;xterm&quot;,                   XC_xterm}
+};
+#define dim(x) (sizeof(x) / sizeof(x[0]))
+
+void SetCursorConfig(XEvent *eventp,Window w,FvwmWindow *tmp_win,
+					 unsigned long context, char *action,int* Module)
+{
+  char *ctype=NULL, *fontid=NULL;
+  int i, ctypenum, fontnum;
+
+  action = GetNextToken(action, &amp;ctype);
+  GetNextToken(action, &amp;fontid);
+  for (i = 0; i &lt; dim(cursor_type_names); i++) {
+	/* Is using &quot;mystrcasecmp&quot; really necessary?  What's wrong with
+	 * strcasecmp? */
+	if (mystrcasecmp(ctype, cursor_type_names[i].name) == 0) {
+	  ctypenum = cursor_type_names[i].id;
+	  break;
+	}
+  }
+  if (i == dim(cursor_type_names)) {
+    fvwm_msg(ERR,&quot;SetCursorConfig&quot;,&quot;Bad cursor type&quot;);
+    return;
+  }
+  for (i = 0; i &lt; dim(cursor_names); i++) {
+	if (mystrcasecmp(fontid, cursor_names[i].name) == 0) {
+	  fontnum = cursor_names[i].id;
+	  break;
+	}
+  }
+  if (i == dim(cursor_names)) {
+    fvwm_msg(ERR,&quot;SetCursorConfig&quot;,&quot;Bad cursor name&quot;);
+    return;
+  }
+
+  XFreeCursor(dpy, Scr.FvwmCursors[ctypenum]);
+  Scr.FvwmCursors[ctypenum] = XCreateFontCursor(dpy, fontnum);
+}
+
+
 #ifdef XPM
 char *PixmapPath = FVWM_ICONDIR;
 void setPixmapPath(XEvent *eventp,Window w,FvwmWindow *tmp_win,
diff -ru /usr/src/fvwm-orig/fvwm/functions.c ./fvwm-devel/fvwm/functions.c
--- /usr/src/fvwm-orig/fvwm/functions.c	Wed Jun 19 20:01:56 1996
+++ ./fvwm-devel/fvwm/functions.c	Wed Mar  5 16:29:09 1997
_at_&#64; -44,6 +44,7 &#64;&#64;
   {&quot;Close&quot;,        close_function,   F_CLOSE,               FUNC_NEEDS_WINDOW},
   {&quot;ColormapFocus&quot;,SetColormapFocus, F_COLORMAP_FOCUS,      FUNC_NO_WINDOW},
   {&quot;CursorMove&quot;,   movecursor,       F_MOVECURSOR,          FUNC_NO_WINDOW},
+  {&quot;CursorConfig&quot;, SetCursorConfig,  F_CURSORCONFIG,        FUNC_NO_WINDOW},
   {&quot;Delete&quot;,       delete_function,  F_DELETE,              FUNC_NEEDS_WINDOW},
   {&quot;DesktopSize&quot;,  SetDeskSize,       F_SETDESK,            FUNC_NO_WINDOW},
   {&quot;Desk&quot;,         changeDesks_func, F_DESK,                FUNC_NO_WINDOW},
diff -ru /usr/src/fvwm-orig/fvwm/misc.h ./fvwm-devel/fvwm/misc.h
--- /usr/src/fvwm-orig/fvwm/misc.h	Wed Jun 19 21:31:15 1996
+++ ./fvwm-devel/fvwm/misc.h	Wed Mar  5 16:30:49 1997
_at_&#64; -453,6 +453,8 &#64;&#64;
 		   unsigned long context, char *action,int* Module);
 void SetDeskSize(XEvent *eventp,Window w,FvwmWindow *tmp_win,
 		     unsigned long context, char *action,int* Module);
+void SetCursorConfig(XEvent *eventp,Window w,FvwmWindow *tmp_win,
+		     unsigned long context, char *action,int* Module);
 void SetOpaque(XEvent *eventp,Window w,FvwmWindow *tmp_win,
 	       unsigned long context, char *action,int* Module);
 void SetXOR(XEvent *eventp,Window w,FvwmWindow *tmp_win,
diff -ru /usr/src/fvwm-orig/fvwm/parse.h ./fvwm-devel/fvwm/parse.h
--- /usr/src/fvwm-orig/fvwm/parse.h	Thu May 30 14:03:10 1996
+++ ./fvwm-devel/fvwm/parse.h	Wed Mar  5 16:24:01 1997
_at_&#64; -73,6 +73,7 &#64;&#64;
 #define F_COLORMAP_FOCUS        55
 #define F_TITLESTYLE            56
 #define F_EXEC_SETUP            57
+#define F_CURSORCONFIG          58
 /* Functions which require a target window */
 #define F_RESIZE		100
 #define F_RAISE			101
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Mar 05 1997 - 17:47:37 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start19439">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="19440.html" title="Next message in the list">Tom Julien: "Re: FVWM: Re: lefty cursors"</a></li>
<li><dfn>Previous message</dfn>: <a href="19438.html" title="Previous message in the list">Trent Piepho: "Re: FVWM: Re: lefty cursors"</a></li>
<li><dfn>In reply to</dfn>: <a href="19416.html" title="Message to which this message replies">Mark Borges: "FVWM: lefty cursors"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="19441.html" title="Next message in this discussion thread">Mark Borges: "FVWM: Re: lefty cursors"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="19441.html" title="Message sent in reply to this message">Mark Borges: "FVWM: Re: lefty cursors"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg19439" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg19439" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg19439" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg19439" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:38:00 BST
</em></small></p>
</body>
</html>
