<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>FVWM: Re: &quot;active focus&quot; applications (MetaCard) from Charles Hines on 1996-10-24 (fvwm-users)</title>
<meta name="Author" content="Charles Hines (chuck_hines_at_VNET.IBM.COM)" />
<meta name="Subject" content="FVWM: Re: &quot;active focus&quot; applications (MetaCard)" />
<meta name="Date" content="1996-10-24" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>FVWM: Re: &quot;active focus&quot; applications (MetaCard)</h1>
<!-- received="Thu Oct 24 10:10:00 1996" -->
<!-- isoreceived="19961024091000" -->
<!-- sent="Thu, 24 Oct 1996 11:09:12 -0400" -->
<!-- isosent="19961024150912" -->
<!-- name="Charles Hines" -->
<!-- email="chuck_hines_at_VNET.IBM.COM" -->
<!-- subject="FVWM: Re: &quot;active focus&quot; applications (MetaCard)" -->
<!-- id="9610241509.AA49046_at_cold.fishkill.ibm.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="199610241355.AA24164_at_bae.bae.bellcore.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start18227" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="18228.html" accesskey="d" title="I&#0039;m far from a bully and I ain&#0039;t a BUM!!!: &quot;(no subject)&quot;">Next message</a> ]
[ <a href="18226.html" title="Dan Espen: &quot;Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)&quot;">Previous message</a> ]
[ <a href="18226.html" title="Dan Espen: &quot;Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="18253.html" accesskey="t" title="Scott Raney: &quot;Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg18227" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg18227" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg18227" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg18227" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Charles Hines &lt;<a href="mailto:chuck_hines_at_VNET.IBM.COM?Subject=Re%3A%20FVWM%3A%20Re%3A%20%22active%20focus%22%20applications%20(MetaCard)">chuck_hines_at_VNET.IBM.COM</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 24 Oct 1996 11:09:12 -0400</span><br />
</address>
<br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; &quot;Dan&quot; == Dan Espen &lt;dane_at_bae.bellcore.com&gt; writes:
</em><br />
<br />Dan&gt; At first I found this whole discussion pretty annoying, but I
<br />
Dan&gt; have to complement some of you for some interesting discussion of
<br />
Dan&gt; this topic.  I hope I am contributing a new viewpoint on this...
<br />
<br />Dan&gt; We haven't heard from Chuck,
<br />
<br />Yes, I've been deliberately silent on this as I try to stay out of
<br />
'religious' issues of any type.  But since someone noticed I guess I
<br />
have to say something now... :)
<br />
<br />Dan&gt; but my guess is there is no way fvwm2 would change its default
<br />
Dan&gt; focus policy.
<br />
<br />Good guess.  I don't plan to change the default, although for what
<br />
it's worth I actually use ClickToFocus as my focus policy so changing
<br />
the default wouldn't bother me in the least.
<br />
<br />But I see no compelling arguement to change this default at this
<br />
point.  It has been in there since the dawn of fvwm (and into it's
<br />
ancestor twm as well, if I remember correctly).  If people don't like
<br />
it, they can change it individually.
<br />
<br />Dan&gt; The &quot;sample.fvwmrc&quot; that comes with fvwm2, already assumes a
<br />
Dan&gt; default focus policy and supplies overrides of clicktofocus for:
<br />
<br />Dan&gt; FvwmButtons, xbiff, Maker, Appointment, xcalc, xman, xvgr,
<br />
Dan&gt; matlab, xmag, xgraph, sppeed6, and xmosaic.
<br />
<br />Dan&gt; Any change to the default would break every .fvwm2rc file around.
<br />
<br />Probably a safe bet.
<br />
<br />Dan&gt; I would hope that we would worry more about the existing fvwm2
<br />
Dan&gt; user base than some new users.
<br />
<br />I worry about both actually, but I definitely don't want to piss off
<br />
the current users unless I feel a real need to do so, and I don't
<br />
think I need to in this case.
<br />
<br />Dan&gt; I think this viewpoint is more significant than which policy is
<br />
Dan&gt; the better default.  I, for one, would feel compelled to change
<br />
Dan&gt; the source code before installation, if this change was actually
<br />
Dan&gt; made.
<br />
<br />Dan&gt; My guess is that a POLITE request from the metacard people for
<br />
Dan&gt; metacard to be added to the the clicktofocus list in the
<br />
Dan&gt; &quot;sample.fvwmrc&quot;, might be granted.
<br />
<br />Certainly.  Just need to know the window classes/resources to use in
<br />
the style lines.  And it would be easy for MetaCard to provide this
<br />
info as well in the README that Scott said they already supply telling
<br />
how to put other window managers into ClickToFocus mode.
<br />
<br />Dan&gt; Although the arguments that metacard should attempt to get their
<br />
Dan&gt; application to work smoothly under any focus policy seem pretty
<br />
Dan&gt; compelling.
<br />
<br />I have to agree.  As long as the choice of focus policies is present
<br />
(and it is present in pretty much all of the window managers out there
<br />
as far as I know)
<br />
<br />But, on a related note and partly what Scott's original note dealt
<br />
with, I do need to verify that fvwm is handling the 4 input handling
<br />
policies correctly according to the ICCCM, which I'm not 100% certain
<br />
that it does.
<br />
<br />Here is the relevant section from the current ICCCM (thankfully
<br />
available online at <a href="http://www-ihm.lri.fr/~tronche/gui/x/icccm/">http://www-ihm.lri.fr/~tronche/gui/x/icccm/</a>):
<br />
<br />======================================================================
<br />
ICCCM&gt; 4.1.7. Input Focus
<br />
ICCCM&gt;
<br />
ICCCM&gt; There are four models of input handling:
<br />
ICCCM&gt;
<br />
ICCCM&gt;        No Input - The client never expects keyboard input. An example
<br />
ICCCM&gt;        would be xload or another output-only client.
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Passive Input - The client expects keyboard input but never
<br />
ICCCM&gt;        explicitly sets the input focus. An example would be a simple
<br />
ICCCM&gt;        client with no subwindows, which will accept input in
<br />
ICCCM&gt;        PointerRoot mode or when the window manager sets the input
<br />
ICCCM&gt;        focus to its top-level window (in click-to-type mode).
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Locally Active Input - The client expects keyboard input and
<br />
ICCCM&gt;        explicitly sets the input focus, but it only does so when one
<br />
ICCCM&gt;        of its windows already has the focus. An example would be a
<br />
ICCCM&gt;        client with subwindows defining various data entry fields that
<br />
ICCCM&gt;        uses Next and Prev keys to move the input focus between the
<br />
ICCCM&gt;        fields. It does so when its top-level window has acquired the
<br />
ICCCM&gt;        focus in PointerRoot mode or when the window manager sets the
<br />
ICCCM&gt;        input focus to its top-level window (in click-to-type mode).
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Globally Active Input - The client expects keyboard input and
<br />
ICCCM&gt;        explicitly sets the input focus, even when it is in windows the
<br />
ICCCM&gt;        client does not own. An example would be a client with a scroll
<br />
ICCCM&gt;        bar that wants to allow users to scroll the window without
<br />
ICCCM&gt;        disturbing the input focus even if it is in some other
<br />
ICCCM&gt;        window. It wants to acquire the input focus when the user
<br />
ICCCM&gt;        clicks in the scrolled region but not when the user clicks in
<br />
ICCCM&gt;        the scroll bar itself. Thus, it wants to prevent the window
<br />
ICCCM&gt;        manager from setting the input focus to any of its windows.
<br />
ICCCM&gt;
<br />
ICCCM&gt; The four input models and the corresponding values of the input field
<br />
ICCCM&gt; and the presence or absence of the WM_TAKE_FOCUS atom in the
<br />
ICCCM&gt; WM_PROTOCOLS property are listed in the following table:
<br />
ICCCM&gt;
<br />
ICCCM&gt;  Input Model     Input Field   WM_TAKE_FOCUS
<br />
ICCCM&gt;
<br />
ICCCM&gt;  No Input        False         Absent
<br />
ICCCM&gt;  Passive         True          Absent
<br />
ICCCM&gt;  Locally Active  True          Present
<br />
ICCCM&gt;  Globally Active False         Present
<br />
ICCCM&gt;
<br />
ICCCM&gt;
<br />
ICCCM&gt; Passive and Locally Active clients set the input field of WM_HINTS to
<br />
ICCCM&gt; True , which indicates that they require window manager assistance in
<br />
ICCCM&gt; acquiring the input focus. No Input and Globally Active clients set
<br />
ICCCM&gt; the input field to False , which requests that the window manager not
<br />
ICCCM&gt; set the input focus to their top-level window.
<br />
ICCCM&gt;
<br />
ICCCM&gt; Clients that use a SetInputFocus request must set the time field to
<br />
ICCCM&gt; the timestamp of the event that caused them to make the attempt. This
<br />
ICCCM&gt; cannot be a FocusIn event because they do not have timestamps. Clients
<br />
ICCCM&gt; may also acquire the focus without a corresponding EnterNotify . Note
<br />
ICCCM&gt; that clients must not use CurrentTime in the time field.
<br />
ICCCM&gt;
<br />
ICCCM&gt; Clients using the Globally Active model can only use a SetInputFocus
<br />
ICCCM&gt; request to acquire the input focus when they do not already have it on
<br />
ICCCM&gt; receipt of one of the following events:
<br />
ICCCM&gt;
<br />
ICCCM&gt;        ButtonPress
<br />
ICCCM&gt;        ButtonRelease
<br />
ICCCM&gt;        Passive-grabbed KeyPress
<br />
ICCCM&gt;        Passive-grabbed KeyRelease
<br />
ICCCM&gt;
<br />
ICCCM&gt; In general, clients should avoid using passive-grabbed key events for
<br />
ICCCM&gt; this purpose, except when they are unavoidable (as, for example, a
<br />
ICCCM&gt; selection tool that establishes a passive grab on the keys that cut,
<br />
ICCCM&gt; copy, or paste).
<br />
ICCCM&gt;
<br />
ICCCM&gt; The method by which the user commands the window manager to set the
<br />
ICCCM&gt; focus to a window is up to the window manager. For example, clients
<br />
ICCCM&gt; cannot determine whether they will see the click that transfers the
<br />
ICCCM&gt; focus.
<br />
ICCCM&gt;
<br />
ICCCM&gt; Windows with the atom WM_TAKE_FOCUS in their WM_PROTOCOLS property may
<br />
ICCCM&gt; receive a ClientMessage event from the window manager (as described in
<br />
ICCCM&gt; section 4.2.8) with WM_TAKE_FOCUS in its data[0] field and a valid
<br />
ICCCM&gt; timestamp (i.e. not CurrentTime ) in its data[1] field. If they want
<br />
ICCCM&gt; the focus, they should respond with a SetInputFocus request with its
<br />
ICCCM&gt; window field set to the window of theirs that last had the input focus
<br />
ICCCM&gt; or to their default input window, and the time field set to the
<br />
ICCCM&gt; timestamp in the message. For further information, see section 4.2.7.
<br />
ICCCM&gt;
<br />
ICCCM&gt; A client could receive WM_TAKE_FOCUS when opening from an icon or when
<br />
ICCCM&gt; the user has clicked outside the top-level window in an area that
<br />
ICCCM&gt; indicates to the window manager that it should assign the focus (for
<br />
ICCCM&gt; example, clicking in the headline bar can be used to assign the
<br />
ICCCM&gt; focus).
<br />
ICCCM&gt;
<br />
ICCCM&gt; The goal is to support window managers that want to assign the input
<br />
ICCCM&gt; focus to a top-level window in such a way that the top-level window
<br />
ICCCM&gt; either can assign it to one of its subwindows or can decline the offer
<br />
ICCCM&gt; of the focus. For example, a clock or a text editor with no currently
<br />
ICCCM&gt; open frames might not want to take focus even though the window
<br />
ICCCM&gt; manager generally believes that clients should take the input focus
<br />
ICCCM&gt; after being deiconified or raised.
<br />
ICCCM&gt;
<br />
ICCCM&gt; Clients that set the input focus need to decide a value for the
<br />
ICCCM&gt; revert-to field of the SetInputFocus request.  This determines the
<br />
ICCCM&gt; behavior of the input focus if the window the focus has been set to
<br />
ICCCM&gt; becomes not viewable. The value can be any of the following:
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Parent - In general, clients should use this value when
<br />
ICCCM&gt;        assigning focus to one of their subwindows. Unmapping the
<br />
ICCCM&gt;        subwindow will cause focus to revert to the parent, which is
<br />
ICCCM&gt;        probably what you want.
<br />
ICCCM&gt;
<br />
ICCCM&gt;        PointerRoot - Using this value with a click-to-type focus
<br />
ICCCM&gt;        management policy leads to race conditions because the window
<br />
ICCCM&gt;        becoming unviewable may coincide with the window manager
<br />
ICCCM&gt;        deciding to move the focus elsewhere.
<br />
ICCCM&gt;
<br />
ICCCM&gt;        None - Using this value causes problems if the window manager
<br />
ICCCM&gt;        reparents the window, as most window managers will, and then
<br />
ICCCM&gt;        crashes. The input focus will be None , and there will probably
<br />
ICCCM&gt;        be no way to change it.
<br />
ICCCM&gt;
<br />
ICCCM&gt; Note that neither PointerRoot nor None is really safe to use.
<br />
ICCCM&gt;
<br />
ICCCM&gt;                               Convention
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Clients that invoke a SetInputFocus request should set the
<br />
ICCCM&gt;        revert-to argument to Parent.
<br />
ICCCM&gt;
<br />
ICCCM&gt; A convention is also required for clients that want to give up the
<br />
ICCCM&gt; input focus. There is no safe value set for them to set the input
<br />
ICCCM&gt; focus to; therefore, they should ignore input material.
<br />
ICCCM&gt;
<br />
ICCCM&gt;                               Convention
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Clients should not give up the input focus of their own
<br />
ICCCM&gt;        volition. They should ignore input that they receive instead.
<br />
======================================================================
<br />
<br />And the corresponding section on how clients should react to these:
<br />
<br />======================================================================
<br />
ICCCM&gt; 4.2.7. Input Focus
<br />
ICCCM&gt;
<br />
ICCCM&gt; Clients can request notification that they have the input focus by
<br />
ICCCM&gt; selecting for FocusChange events on their top-level windows; they will
<br />
ICCCM&gt; receive FocusIn and FocusOut events. Clients that need to set the
<br />
ICCCM&gt; input focus to one of their subwindows should not do so unless they
<br />
ICCCM&gt; have set WM_TAKE_FOCUS in their WM_PROTOCOLS property and have done
<br />
ICCCM&gt; one of the following:
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Set the input field of WM_HINTS to True and actually have the
<br />
ICCCM&gt;        input focus in one of their top-level windows
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Set the input field of WM_HINTS to False and have received a
<br />
ICCCM&gt;        suitable event as described in section 4.1.7
<br />
ICCCM&gt;
<br />
ICCCM&gt;        Have received a WM_TAKE_FOCUS message as described in section
<br />
ICCCM&gt;        4.1.7
<br />
ICCCM&gt;
<br />
ICCCM&gt; Clients should not warp the pointer in an attempt to transfer the
<br />
ICCCM&gt; focus; they should set the focus and leave the pointer alone. For
<br />
ICCCM&gt; further information, see section 6.2.
<br />
ICCCM&gt;
<br />
ICCCM&gt; Once a client satisfies these conditions, it may transfer the focus to
<br />
ICCCM&gt; another of its windows by using the SetInputFocus request, which is
<br />
ICCCM&gt; defined as follows:
<br />
ICCCM&gt;
<br />
ICCCM&gt;                SetInputFocus
<br />
ICCCM&gt;      focus : WINDOW or PointerRoot or None
<br />
ICCCM&gt;  revert-to : { Parent , PointerRoot , None }
<br />
ICCCM&gt;       time : TIMESTAMP or CurrentTime
<br />
ICCCM&gt;
<br />
ICCCM&gt;
<br />
ICCCM&gt;                              Conventions
<br />
ICCCM&gt;
<br />
ICCCM&gt;     1. Clients that use a SetInputFocus request must set the time
<br />
ICCCM&gt;        argument to the timestamp of the event that caused them to make
<br />
ICCCM&gt;        the attempt. This cannot be a FocusIn event because they do not
<br />
ICCCM&gt;        have timestamps. Clients may also acquire the focus without a
<br />
ICCCM&gt;        corresponding EnterNotify event.  Clients must not use
<br />
ICCCM&gt;        CurrentTime for the time argument.
<br />
ICCCM&gt;     2. Clients that use a SetInputFocus request to set the focus to
<br />
ICCCM&gt;        one of their windows must set the revert-to field to Parent.
<br />
======================================================================
<br />
<br />So, if anyone out there has observed any violations of these
<br />
conventions that seem to need to be fixed in fvwm, please let me know
<br />
the details.
<br />
<br />I'm also planning to add focus policy to the info outputted by
<br />
FvwmIdent for the next beta, but you can use xprop to figure out what
<br />
focus policy a window should have in the meantime.
<br />
<br />Chuck
<br />
<br />*******************************************************************************
<br />
Charles K. Hines &lt;chuck_hines_at_vnet.ibm.com&gt;
<br />
IBM Logic Synthesis Developer [BooleDozer (TM)]
<br />
Martial Arts Instructor [Modern Arnis, Presas Style Filipino Martial Arts]
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Go back to sleep, Chuck.  You're just havin' a nightmare
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- of course, we ARE still in Hell.&quot; (Gary Larson)
<br />
*******************************************************************************
<br />
<pre>
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Oct 24 1996 - 10:10:00 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start18227">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="18228.html" title="Next message in the list">I&#0039;m far from a bully and I ain&#0039;t a BUM!!!: "(no subject)"</a></li>
<li><dfn>Previous message</dfn>: <a href="18226.html" title="Previous message in the list">Dan Espen: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<li><dfn>In reply to</dfn>: <a href="18226.html" title="Message to which this message replies">Dan Espen: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="18253.html" title="Next message in this discussion thread">Scott Raney: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Maybe reply</dfn>: <a href="18205.html" title="Message sent in reply to this message">Jeff Magill: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<li><dfn>Maybe reply</dfn>: <a href="18215.html" title="Message sent in reply to this message">Tom Varga: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<li><dfn>Maybe reply</dfn>: <a href="18220.html" title="Message sent in reply to this message">Jeff Magill: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<li><dfn>Maybe reply</dfn>: <a href="18226.html" title="Message sent in reply to this message">Dan Espen: "Re: FVWM: Re: &#0034;active focus&#0034; applications (MetaCard)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg18227" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg18227" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg18227" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg18227" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:37:59 BST
</em></small></p>
</body>
</html>
