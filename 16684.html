<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>Re: FVWM: Re: UseStyle from Todd Fries on 1996-05-08 (fvwm-users)</title>
<meta name="Author" content="Todd Fries (todd_at_miango.com)" />
<meta name="Subject" content="Re: FVWM: Re: UseStyle" />
<meta name="Date" content="1996-05-08" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>Re: FVWM: Re: UseStyle</h1>
<!-- received="Wed May  8 07:54:55 1996" -->
<!-- isoreceived="19960508065455" -->
<!-- sent="Wed, 8 May 1996 07:55:10 -0500 (CDT)" -->
<!-- isosent="19960508125510" -->
<!-- name="Todd Fries" -->
<!-- email="todd_at_miango.com" -->
<!-- subject="Re: FVWM: Re: UseStyle" -->
<!-- id="199605081255.HAA03076_at_cyber.cyberkom.net" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="vkviigjhvl.fsf_at_cdc.noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start16684" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="16685.html" accesskey="d" title="Brian E. Gallew: &quot;FVWM: Stupid X programs&quot;">Next message</a> ]
[ <a href="16683.html" title="Graeme McCaffery: &quot;Re: FVWM: olwm, scripts&quot;">Previous message</a> ]
[ <a href="16605.html" title="Mark Borges: &quot;FVWM: Re: UseStyle&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="16696.html" accesskey="t" title="Andrew Veliath: &quot;Re: FVWM: Re: UseStyle&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg16684" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg16684" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg16684" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg16684" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Todd Fries &lt;<a href="mailto:todd_at_miango.com?Subject=Re%3A%20FVWM%3A%20Re%3A%20UseStyle">todd_at_miango.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 8 May 1996 07:55:10 -0500 (CDT)</span><br />
</address>
<br />
<em class="quotelev3">&gt; &gt;&gt; Dan Niles(d) wrote:
</em><br />
<em class="quotelev1">&gt; d&gt; I am trying to set up some generic styles so I can use UseStyle for
</em><br />
<em class="quotelev1">&gt; d&gt; many windows.  It seems to work except for Color.
</em><br />
<em class="quotelev1">&gt; d&gt; For example:
</em><br />
[...]
<br />
<em class="quotelev1">&gt; d&gt; it works fine.  I believe there is a bug (or undocumented feature) in
</em><br />
<em class="quotelev1">&gt; d&gt; UseStyle.
</em><br />
<br /><em class="quotelev1">&gt; If it's broke, ditch it. I'm curious -- does UseStyle provide any new
</em><br />
<em class="quotelev1">&gt; functionality that isn't already provided by FvwmCPP/FvwmM4? Seems like
</em><br />
<br /><em class="quotelev1">&gt; #define HIGHLIGHT &quot;Color Black/Red&quot;
</em><br />
<em class="quotelev1">&gt; Style &quot;Window&quot; HIGHLIGHT
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; would be effectively the same. And it's more powerful, since you can
</em><br />
<em class="quotelev1">&gt; customize the setting based on the display, e.g.,
</em><br />
<br /><em class="quotelev1">&gt; /* Window and icon fonts */
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; #if Y_RESOLUTION &gt;= 3700
</em><br />
<em class="quotelev1">&gt; #define WINDOWFONT	-adobe-times-bold-r-*-*-18-*-*-*-*-*-*-*
</em><br />
<em class="quotelev1">&gt; #define ICONFONT	-adobe-helvetica-bold-r-*-*-10-*-*-*-*-*-*-*
</em><br />
<em class="quotelev1">&gt; #else
</em><br />
<em class="quotelev1">&gt; #define WINDOWFONT	-adobe-times-bold-r-*-*-16-*-*-*-*-*-*-*
</em><br />
<em class="quotelev1">&gt; #define ICONFONT	-adobe-helvetica-bold-r-*-*-10-*-*-*-*-*-*-*
</em><br />
<em class="quotelev1">&gt; #endif
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; WindowFont	WINDOWFONT
</em><br />
<em class="quotelev1">&gt; IconFont	ICONFONT
</em><br />
<br /><br /><em class="quotelev1">&gt; Comments?
</em><br />
<br />Sure.  I was the person who submitted the UseStyle patch.  I thought
<br />
that I had a good idea when I searched for the style structure with
<br />
the same name as the style we wanted to mimic....
<br />
<br />&nbsp;nptr = Scr.TheList;
<br />
&nbsp;while(nptr &amp;&amp; mystrncasecmp(restofline,nptr-&gt;name,len) )
<br />
&nbsp;&nbsp;&nbsp;nptr = nptr-&gt;next;
<br />
&nbsp;if (nptr&amp;&amp; !mystrncasecmp(restofline,nptr-&gt;name,len))
<br />
&nbsp;{
<br />
&nbsp;&nbsp;&nbsp;on_flags      = nptr-&gt;on_flags;
<br />
&nbsp;&nbsp;&nbsp;off_flags     = nptr-&gt;off_flags;
<br />
&nbsp;&nbsp;&nbsp;icon_name     = nptr-&gt;value;
<br />
[...]
<br />
<br />It looks like, to me, that the structure is copied entirely..
<br />
Being my 'initiate' patch to fvwm, I would more than bet there
<br />
are things wrong with it...
<br />
<br />Perhaps should the char*'s be strdup'ed? .. of course!
<br />
doit!  I guess this should be fixed...sorry if these have
<br />
caused any problems...
<br />
<br />564c564
<br />
&lt;               icon_name     = strdup(nptr-&gt;value);
<br />
<pre>
---
&gt;               icon_name     = nptr-&gt;value;
568,569c568,569
&lt;               forecolor     = strdup(nptr-&gt;ForeColor);
&lt;               backcolor     = strdup(nptr-&gt;BackColor);
---
&gt;               forecolor     = nptr-&gt;ForeColor;
&gt;               backcolor     = nptr-&gt;BackColor = backcolor;
See if this helps things out abit...
Also, to address the question at hand...does m4/cpp preprocessing
already provide the same functionality as UseStyle.
To some degree.  However, you can't use an m4 macro in FvwmTalk,
and an m4 macro isn't quite the same as copying the binary
contents of a structure.  An m4 macro couldn't do, for
example:
Style &quot;a&quot; Color Black/Red
Style &quot;b&quot; UseStyle a
Style &quot;a&quot; NoTitle
To jump the fence, so to speak....however....UseStyle was
originally intended to be 'macro-like' and what better way
to do something 'like' a macro than to use a macro itself?
What does anybody else think?
-- 
Todd Fries
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Wed May 08 1996 - 07:54:55 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start16684">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="16685.html" title="Next message in the list">Brian E. Gallew: "FVWM: Stupid X programs"</a></li>
<li><dfn>Previous message</dfn>: <a href="16683.html" title="Previous message in the list">Graeme McCaffery: "Re: FVWM: olwm, scripts"</a></li>
<li><dfn>In reply to</dfn>: <a href="16605.html" title="Message to which this message replies">Mark Borges: "FVWM: Re: UseStyle"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="16696.html" title="Next message in this discussion thread">Andrew Veliath: "Re: FVWM: Re: UseStyle"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="16696.html" title="Message sent in reply to this message">Andrew Veliath: "Re: FVWM: Re: UseStyle"</a></li>
<li><dfn>Reply</dfn>: <a href="16729.html" title="Message sent in reply to this message">Peter Funk: "Re^2: FVWM: Re: UseStyle"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg16684" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg16684" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg16684" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg16684" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:37:58 BST
</em></small></p>
</body>
</html>
