<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More! from Dan Espen on 1997-04-25 (fvwm-users)</title>
<meta name="Author" content="Dan Espen (dane_at_bae.bellcore.com)" />
<meta name="Subject" content="Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!" />
<meta name="Date" content="1997-04-25" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!</h1>
<!-- received="Fri Apr 25 08:24:52 1997" -->
<!-- isoreceived="19970425072452" -->
<!-- sent="Fri, 25 Apr 1997 09:22:43 -0400" -->
<!-- isosent="19970425132243" -->
<!-- name="Dan Espen" -->
<!-- email="dane_at_bae.bellcore.com" -->
<!-- subject="Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!" -->
<!-- id="199704251322.AA03503_at_bae.bae.bellcore.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="qrrenc33o0p.fsf&#64;methow.cs.washington.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start19869" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="19870.html" accesskey="d" title="Maxwell Spangler: &quot;FVWM: Compiling 2.0.45 on SCO 5.0.2&quot;">Next message</a> ]
[ <a href="19868.html" title="Maxwell Spangler: &quot;FVWM: FVWM2 on SCO OS 5.0.2&quot;">Previous message</a> ]
[ <a href="19860.html" title="Greg Badros: &quot;FVWM: Animated Menus, Animated Moves, Improved Menus, and More!&quot;">Maybe in reply to</a> ]
<!-- unextthread="start" -->
[ <a href="20114.html" accesskey="t" title="Tim Phipps: &quot;Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg19869" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg19869" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg19869" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg19869" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Dan Espen &lt;<a href="mailto:dane_at_bae.bellcore.com?Subject=Re%3A%20FVWM%3A%20Animated%20Menus%2C%20Animated%20Moves%2C%20Improved%20Menus%2C%20and%20More!">dane_at_bae.bellcore.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 25 Apr 1997 09:22:43 -0400</span><br />
</address>
<br />
Greg Badros &lt;gjb_at_cs.washington.edu&gt; writes:
<br />
<em class="quotelev1">&gt; I spent the weekend rewriting the menu code for fvwm-2.0.45 to better
</em><br />
<em class="quotelev1">&gt; support the keyboard (improving on my earlier patch).  In the process I
</em><br />
<em class="quotelev1">&gt; added several other useful features.  The description of the patch
</em><br />
<em class="quotelev1">&gt; appears below.  The actual patch is available at:
</em><br />
<em class="quotelev1">&gt; &lt;A HREF=&quot;
</em><br />
<em class="quotelev1">&gt; <a href="http://www.cs.washington.edu/homes/gjb/patches/fvwm-2.0.45-menus-animation-gj">http://www.cs.washington.edu/homes/gjb/patches/fvwm-2.0.45-menus-animation-gj</a>
</em><br />
<em class="quotelev1">&gt; b.patch
</em><br />
<em class="quotelev1">&gt; &quot;&gt; patch &lt;/A&gt;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; To apply the patch, do something like
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; cd fvwm-2.0.45
</em><br />
<em class="quotelev1">&gt; patch -p1 &lt;fvwm-2.0.45-menus-animation-gjb.patch
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Look for *.rej files, then rebuild.  The description and patch are also
</em><br />
<em class="quotelev1">&gt; available on my web page under &quot;Newer stuff.&quot;  I tested the changes and
</em><br />
<em class="quotelev1">&gt; applying the patch on a slackware-like Linux 2.0.29. The patch should
</em><br />
<em class="quotelev1">&gt; apply cleanly to an unmodified 2.0.45 tree.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Please cc: comments to me.  I read the fvwm-workers list regularly, but
</em><br />
<em class="quotelev1">&gt; I don't subscribe to the fvwm list currently.
</em><br />
<br />I tried this patch.
<br />
<br />I used Solaris 2.4 on a Sun.
<br />
<br /><em class="quotelev1">&gt; Greg J. Badros
</em><br />
<em class="quotelev1">&gt; gjb_at_cs.washington.edu
</em><br />
<em class="quotelev1">&gt; Seattle, WA  USA
</em><br />
<em class="quotelev1">&gt; <a href="http://www.cs.washington.edu/homes/gjb">http://www.cs.washington.edu/homes/gjb</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; DESCRIPTION:
</em><br />
<em class="quotelev1">&gt; ------------
</em><br />
<em class="quotelev1">&gt; This patch includes lots:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Added new commands:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   AnimatedMove -- works like move
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   SetAnimation -- customizes how the animated moves (and menu movement) looks
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   SetMenuDelay -- change how long to delay before popping up a submenu
</em><br />
<em class="quotelev1">&gt;                   when resting on a menu item (ala the famous win OS's menus)
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   SetEnv       -- Allow setting of environment which processes started
</em><br />
<em class="quotelev1">&gt;                   by fvwm2 will inherit.  This uses &quot;putenv&quot; system call.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Changed commands:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   Move   -- added greater flexibility so you can give destination
</em><br />
<em class="quotelev1">&gt; positions as stuff like &quot;w+5p&quot; to mean current window position + 5
</em><br />
<em class="quotelev1">&gt; pixels or &quot;-2&quot; to mean its right edge should be 2% of the screen height
</em><br />
<em class="quotelev2">&gt; &gt; from the bottom [works for horizonal, too, of course].  See new man page
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   MenuStyle -- added &quot;animated&quot; qualifier, along with type &quot;win&quot; to
</em><br />
<em class="quotelev1">&gt;                emulate more closely the famous win OS's menus look and feel
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;   AddToMenu --  Menus titles take side-pixmaps between &quot;_at_&quot; (at) characters an
</em><br />
<em class="quotelev1">&gt; d
</em><br />
<em class="quotelev1">&gt; 		side-pixmap background colors between &quot;^&quot; (caret) characters.  
</em><br />
<em class="quotelev1">&gt; Also,
</em><br />
<em class="quotelev1">&gt; 		substrings denoting regular pixmaps (between &quot;%&quot; characters) ar
</em><br />
<em class="quotelev1">&gt; e removed
</em><br />
<em class="quotelev1">&gt; 		even if that pixmap cannot be located; thus your menu still loo
</em><br />
<em class="quotelev1">&gt; ks ok.  A
</em><br />
<em class="quotelev1">&gt; 		warning is printed to stderr, instead.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Almost complete rewrite of menus code:
</em><br />
<em class="quotelev1">&gt; --------------------------------------
</em><br />
<em class="quotelev1">&gt; These new menus support the keyboard much better than before.  See the
</em><br />
<em class="quotelev1">&gt; improved man page.  They also can animate out of your way when at the
</em><br />
<em class="quotelev1">&gt; right edge of the screen.  Use animated menustyle and try it-- it's
</em><br />
<em class="quotelev1">&gt; easier to watch than explain.  Also now supported is a delay before
</em><br />
<em class="quotelev1">&gt; popping up child menus when you rest on a menu item.
</em><br />
<br />Keyboarding worked great.  Animation was neat.
<br />
<br />The default animation backup and  then move forward effect didn't seem
<br />
to add anything for me, but I was using a  slow machine (Sparc 1+).  I
<br />
didn't experiment with other animation values.
<br />
<br />I was torn between the reverse imaging effect from the &quot;win&quot; menus and
<br />
the 3d appearance from  the &quot;mwm&quot; menus.   I'm  not sure how  it would
<br />
look  but too bad I couldn't  use both 3d  appearance and the stronger
<br />
feedback from reverse imaging the current selection.
<br />
<br />By creating menu styles of &quot;fvwm&quot;, &quot;mwm&quot;  and &quot;win&quot;, we sort of create
<br />
packages  of effects.  If  you want &quot;auto-popup&quot;, you  can get it with
<br />
mwm or win.  If you want 3d you can get it with fvwm or mwm.  It might
<br />
be nice to just specify the effects wanted.
<br />
<br />I was  able to fool  the animation logic  that tries to put  the mouse
<br />
pointer back where it  started by moving  the pointer out of  the left
<br />
side of a menu.  I had to go out of  my way to do  this, and don't see
<br />
how anyone could be disturbed by this.
<br />
<br /><em class="quotelev1">&gt; Note that the animation and the menu delay require the &quot;usleep&quot;
</em><br />
<em class="quotelev1">&gt; (micro-second sleep) system call.  If you don't have it, &quot;select&quot; can
</em><br />
<em class="quotelev1">&gt; probably be contorted to do the right thing.  See the man page for
</em><br />
<em class="quotelev1">&gt; &quot;select&quot; for your OS.
</em><br />
<br />I had linking problems with usleep.  I read that if I use Solaris 2.5,
<br />
usleep would have been  OK.  I changed  the code to  use select, and I
<br />
read that I could have used poll.  I guess that using usleep is OK.
<br />
<br /><em class="quotelev1">&gt; Internal Changes
</em><br />
<em class="quotelev1">&gt; ----------------
</em><br />
<em class="quotelev1">&gt; I reindent some places where the indentation was not uniform and
</em><br />
<em class="quotelev1">&gt; confusing.  I also changed a lot of #define-s to enum-s. Menu code is
</em><br />
<em class="quotelev1">&gt; *way* better now (though certainly could get even better-- in
</em><br />
<em class="quotelev1">&gt; particular, I didn't do anything specific to facilitate sticky menus).
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Uses gperf to build &quot;fvwm-command-hasher.c&quot; which gets included by
</em><br />
<em class="quotelev1">&gt; functions.c.  Reworked functions.c to use a hash lookup on a built-in's
</em><br />
<em class="quotelev1">&gt; name instead of linear lookup.  Reduced my startup time by 15% or so.
</em><br />
<em class="quotelev1">&gt; You may need to give -DNO_GPERF if you have problems with this.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; BUGS?
</em><br />
<em class="quotelev1">&gt; -----
</em><br />
<em class="quotelev1">&gt; Sure, there's gotta be plenty.  Email me at gjb_at_cs.washington.edu and let
</em><br />
<em class="quotelev1">&gt; me know.  In particular, send me a minimal startup file and descriptions
</em><br />
<em class="quotelev1">&gt; of what to do to see the problem.  Also send me your configure.h, I
</em><br />
<em class="quotelev1">&gt; suppose and tell me what platform you're working on.
</em><br />
<br />I  think this is   a great package  of changes.   I  don't see why  it
<br />
shouldn't be incorporated into a future release.
<br />
<br /><em class="quotelev1">&gt; USE AT YOUR OWN RISK!  I am not responsible for the use of, the misuse
</em><br />
<em class="quotelev1">&gt; of, or anything to do with this patch.
</em><br />
<em class="quotelev1">&gt; --
</em><br />
<br /><pre>
--
Dan Espen                                    Phone: (908) 699-5570
dane_at_bae.bellcore.com
444 Hoes Lane  Room RRC 1C-214
Piscataway, NJ 08854
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Apr 25 1997 - 08:24:52 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start19869">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="19870.html" title="Next message in the list">Maxwell Spangler: "FVWM: Compiling 2.0.45 on SCO 5.0.2"</a></li>
<li><dfn>Previous message</dfn>: <a href="19868.html" title="Previous message in the list">Maxwell Spangler: "FVWM: FVWM2 on SCO OS 5.0.2"</a></li>
<li><dfn>Maybe in reply to</dfn>: <a href="19860.html" title="Message to which this message replies">Greg Badros: "FVWM: Animated Menus, Animated Moves, Improved Menus, and More!"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="20114.html" title="Next message in this discussion thread">Tim Phipps: "Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg19869" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg19869" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg19869" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg19869" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:38:00 BST
</em></small></p>
</body>
</html>
