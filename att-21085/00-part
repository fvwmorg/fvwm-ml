To: "Fvwm Mailinglist" <fvwm@hpc.uh.edu>
Subject: Fvwm IconBoxes patch
x-face: -:-!LDdizWr~[l?RsG!7/BSm'=,`y>~^N7a#qX+.-ZUy"%YF.bP?t_E$lZG54!X1`_>u8>V
 /DpeH-oUPJ".cJfU'!(om[k{>?!DzZP&UYPi!W/]`[K`Ga+S()<~)mZlm;m}0fId<>1}XS.O+zV%w"
 1)-+K#MqP:&_@FrPF}_}R?_\"z9mHc!)e{e/DNzDY&*QoH,HGZJP#LszzhoGERD7$J4ebNt9oh-nvL
 *IX4w6m=+qtbLQrrI{-jd2Q+(ZUg,a`n58O}z/zl"
Mime-Version: 1.0 (generated by tm-edit 7.106)
Content-Type: multipart/mixed;
 boundary="Multipart_Mon_Oct__6_22:53:46_1997-1"
Content-Transfer-Encoding: 7bit

--Multipart_Mon_Oct__6_22:53:46_1997-1
Content-Type: text/plain; charset=US-ASCII


This  rather large patch   is version 1.0   of the "Icon Boxes" patch.
After applying this patch, there can be multiple Icon Boxes defined in
1 style command.  Optional Icon Grids can also be defined.

This patch does not provide for alternate Icon Box Gravities.

Since I had to  change the style parsing,  storage and retrieval,  the
style code is pretty much rewritten.

Any opinions on whether we can remove  "great style flag rewrite" from
the TO-DO list?

Apply this patch from the base of the fvwm source tree with the "-p 0"
option.


--Multipart_Mon_Oct__6_22:53:46_1997-1
Content-Type: application/octet-stream
Content-Disposition: attachment; filename="iconbox.dif"
Content-Transfer-Encoding: base64

KioqIFRPLURPLm9yaWcJTW9uIE9jdCAgNiAyMjowNzowMyAxOTk3Ci0tLSBUTy1ETwlNb24g
T2N0ICA2IDIyOjEwOjA2IDE5OTcKKioqKioqKioqKioqKioqCioqKiAxMzgsMTQ0ICoqKioK
ICAKICAgIC0gTW91c2UgYnV0dG9uIGNob3JkaW5nPwogIAohICAgLSBHcmlkIHRoZSBpY29u
IGJveCBhcmVhcz8gIEFkZCBiZXR0ZXIgb3ZlcmFsbCBpY29uIGhhbmRsaW5nIG9wdGlvbnM/
CiAgICAgIE1ha2UgYW4gb3B0aW9uYWwgZ2xvYmFsIGZyZWUgaWNvbiBwbGFjZW1lbnQgZ3Jp
ZD8KICAgIC0gSWNvbkJveEdyYXZpdHkgdG8gY29udHJvbCBwbGFjZW1lbnQgd2l0aGluIHRo
ZSBJY29uQm94CiAgICAgIChsZWZ0L3JpZ2h0L3RvcC9ib3R0b20pPwotLS0gMTM4LDE0NCAt
LS0tCiAgCiAgICAtIE1vdXNlIGJ1dHRvbiBjaG9yZGluZz8KICAKISAgIC0gQWRkIGJldHRl
ciBvdmVyYWxsIGljb24gaGFuZGxpbmcgb3B0aW9ucz8KICAgICAgTWFrZSBhbiBvcHRpb25h
bCBnbG9iYWwgZnJlZSBpY29uIHBsYWNlbWVudCBncmlkPwogICAgLSBJY29uQm94R3Jhdml0
eSB0byBjb250cm9sIHBsYWNlbWVudCB3aXRoaW4gdGhlIEljb25Cb3gKICAgICAgKGxlZnQv
cmlnaHQvdG9wL2JvdHRvbSk/CioqKioqKioqKioqKioqKgoqKiogMjI3LDIzNCAqKioqCiAg
ICAtIEFsbG93IGVudiB2YXIgdG8gc3BlY2lmeSBhbiBhZGRpdGlvbmFsIHJlYWQgZGlyZWN0
b3J5ICgkRlZXTVJDRElSCiAgICAgIG9yICRGVldNSE9NRSBvciBzb21ldGhpbmcgc2ltaWxp
YXIpPwogIAotICAgLSBBbGxvdyBtdWx0aXBsZSBJY29uQm94J3MgZm9yIHNhbWUgc3R5bGUg
ZGVmPwotIAogICAgLSBBZGQgd2F5IHRvIHNwZWNpZnkgbWF4ICgmIG1pbj8pIGRlc2sgbnVt
YmVyLCBhbmQgbWFrZSBkZXNrIGNoYW5nZQogICAgICBmdW5jdGlvbnMgd3JhcCBhdCBib3Vu
ZHM/CiAgCi0tLSAyMjcsMjMyIC0tLS0KKioqIGZ2d20vZnZ3bS5tYW4ub3JpZwlNb24gT2N0
ICA2IDIxOjA4OjE1IDE5OTcKLS0tIGZ2d20vZnZ3bS5tYW4JTW9uIE9jdCAgNiAyMjoxNjoy
NyAxOTk3CioqKioqKioqKioqKioqKgoqKiogMTUwMSwxNTA2ICoqKioKLS0tIDE1MDEsMTUw
NyAtLS0tCiAgCiAgXGZJb3B0aW9uc1xmUCBpcyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0IGNv
bnRhaW5pbmcgc29tZSBvciBhbGwgb2YgdGhlCiAga2V5d29yZHMgQm9yZGVyV2lkdGgsIEhh
bmRsZVdpZHRoLCBOb0ljb24vSWNvbiwgTWluaUljb24sIEljb25Cb3gsCisgSWNvbkdyaWQs
CiAgTm9UaXRsZS9UaXRsZSwgTm9IYW5kbGVzL0hhbmRsZXMsIFdpbmRvd0xpc3RTa2lwL1dp
bmRvd0xpc3RIaXQsCiAgQ2lyY3VsYXRlU2tpcC9DaXJjdWxhdGVIaXQsIFN0YXlzT25Ub3Av
U3RheXNQdXQsIFN0aWNreS9TbGlwcGVyeSwKICBTdGFydEljb25pYy9TdGFydE5vcm1hbCwg
Q29sb3IsIEZvcmVDb2xvciwgQmFja0NvbG9yLAoqKioqKioqKioqKioqKioKKioqIDE1MjEs
MTUzNiAqKioqCiAgSWNvbiB0YWtlcyBhbiAob3B0aW9uYWwpIHVucXVvdGVkIHN0cmluZyBh
cmd1bWVudCB3aGljaCBpcyB0aGUgaWNvbgogIGJpdG1hcCBvciBwaXhtYXAgdG8gdXNlLgog
IAohIEljb25Cb3ggdGFrZXMgZm91ciBudW1lcmljIGFyZ3VtZW50czoKICAuRVgKICBJY29u
Qm94CWwgdCByIGIKICAuRUUKICBXaGVyZSBsIGlzIHRoZSBsZWZ0IGNvb3JkaW5hdGUsIHQg
aXMgdGhlIHRvcCwgciBpcyByaWdodCBhbmQgYiBpcwogIGJvdHRvbS4gTmVnYXRpdmUgY29v
cmRpbmF0ZXMgaW5kaWNhdGUgZGlzdGFuY2UgZnJvbSB0aGUgcmlnaHQgb3IKISBib3R0b20g
b2YgdGhlIHNjcmVlbi4gIFRoZSBpY29uYm94IGlzIGEgcmVnaW9uIG9mIHRoZSBzY3JlZW4g
d2lsbCBmdndtCiEgd2lsbCBhdHRlbXB0IHRvIHB1dCBpY29ucyBmb3IgdGhpcyB3aW5kb3cs
IGFzIGxvbmcgYXMgdGhleSBkbyBub3QKICBvdmVybGFwIG90aGVyIGljb25zLgogIAogIE1p
bmlJY29uIHNwZWNpZmllcyBhIHBpeG1hcCB0byB1c2UgYXMgdGhlIG1pbmlhdHVyZSBpY29u
IGZvciB0aGUKICB3aW5kb3cuICBUaGlzIG1pbmlhdHVyZSBpY29uIGNhbiBiZSBkcmF3biBp
biBhIHRpdGxlLWJhciBidXR0b24gKHNlZQogIEJ1dHRvblN0eWxlKSwgYW5kIGNhbiBiZSB1
c2VkIGJ5IHZhcmlvdXMgZnZ3bSBtb2R1bGVzIChGdndtV2luTGlzdCwKLS0tIDE1MjIsMTU2
NSAtLS0tCiAgSWNvbiB0YWtlcyBhbiAob3B0aW9uYWwpIHVucXVvdGVkIHN0cmluZyBhcmd1
bWVudCB3aGljaCBpcyB0aGUgaWNvbgogIGJpdG1hcCBvciBwaXhtYXAgdG8gdXNlLgogIAoh
IEljb25Cb3ggdGFrZXMgZm91ciBudW1lcmljIGFyZ3VtZW50cyBvciBhbiBYMTEgZ2VvbWV0
cnkgc3RyaW5nOgogIC5FWAogIEljb25Cb3gJbCB0IHIgYgogIC5FRQorIG9yCiAgV2hlcmUg
bCBpcyB0aGUgbGVmdCBjb29yZGluYXRlLCB0IGlzIHRoZSB0b3AsIHIgaXMgcmlnaHQgYW5k
IGIgaXMKICBib3R0b20uIE5lZ2F0aXZlIGNvb3JkaW5hdGVzIGluZGljYXRlIGRpc3RhbmNl
IGZyb20gdGhlIHJpZ2h0IG9yCiEgYm90dG9tIG9mIHRoZSBzY3JlZW4uCiEgUGVyaGFwcyBl
YXNpZXIgdG8gdXNlIGlzIGFuIFgxMSBHZW9tZXRyeSBzdHJpbmc6CiEgLkVYCiEgSWNvbkJv
eAktODB4MjAwLTEtMQohIC5FRQohIFdoaWNoIHdvdWxkIHBsYWNlIGFuIDgwIGJ5IDI0MCBw
aXhlbCBpY29uYm94IGluIHRoZSBsb3dlciByaWdodCBoYW5kCiEgY29ybmVyIG9mIHRoZSBz
Y3JlZW4uCiEgVGhlIGljb25ib3ggaXMgYSByZWdpb24gb2YgdGhlIHNjcmVlbiB3aGVyZSBm
dndtCiEgYXR0ZW1wdHMgdG8gcHV0IGljb25zIGZvciBhbnkgbWF0Y2hpbmcgd2luZG93LCBh
cyBsb25nIGFzIHRoZXkgZG8gbm90CiAgb3ZlcmxhcCBvdGhlciBpY29ucy4KKyBNdWx0aXBs
ZSBpY29uIGJveGVzIGNhbiBiZSBkZWZpbmVkIGFzIG92ZXJmbG93IGFyZWFzLiAgV2hlbiB0
aGUgZmlyc3QKKyBpY29uIGJveCBpcyBmaWxsZWQsIHRoZSBzZWNvbmQgb25lIGlzIGZpbGxl
ZC4gIEFsbCB0aGUgaWNvbiBib3hlcyBmb3IKKyBvbmUgc3R5bGUgbXVzdCBiZSBkZWZpbmVk
IGluIDEgY29tbWFuZC4gIEZvciBleGFtcGxlOgorIC5FWAorIFN0eWxlICIqIiBJY29uQm94
IC04MHgyMDAtMS0xLCBJY29uQm94IC0xNjB4MjAwLTgxLTEKKyAuRUUKKyBDdXJyZW50bHkg
aWNvbiBib3hlcyBhcmUgYWx3YXlzIGZpbGxlZCByaWdodCB0byBsZWZ0LCB0b3AgdG8gYm90
dG9tLgogIAorIEljb25HcmlkIHRha2VzIDIgbnVtZXJpYyBhcmd1bWVudHMgZ3JlYXRlciB0
aGFuIHplcm8uCisgLkVYCisgSWNvbkdyaWQgeCB5CisgLkVFCisgSWNvbnMgYXJlIHBsYWNl
ZCBpbiBhbiBpY29uIGJveCBieSBzdGVwcGluZyB0aHJ1IHRoZSBpY29uIGJveCB1c2luZwor
IHRoZSB4IGFuZCB5IHZhbHVlcyBmb3IgdGhlIGljb24gZ3JpZCwgbG9va2luZyBmb3IgYSBm
cmVlIHNwYWNlLgorIFRoZSBkZWZhdWx0IGdyaWQgaXMgMyBieSAzIHBpeGVscy4KKyBBbiBJ
Y29uR3JpZCBkZWZpbml0aW9uIG11c3QgZm9sbG93IHRoZSBJY29uQm94IGRlZmluaXRpb24g
dGhhdCBpdAorIGFwcGxpZXMgdG86CisgLkVYCisgU3R5bGUgIioiIEljb25Cb3ggLTgweDI0
MC0xLTEsIEljb25HcmlkIDkwIDkwCisgLkVFCisgCiAgTWluaUljb24gc3BlY2lmaWVzIGEg
cGl4bWFwIHRvIHVzZSBhcyB0aGUgbWluaWF0dXJlIGljb24gZm9yIHRoZQogIHdpbmRvdy4g
IFRoaXMgbWluaWF0dXJlIGljb24gY2FuIGJlIGRyYXduIGluIGEgdGl0bGUtYmFyIGJ1dHRv
biAoc2VlCiAgQnV0dG9uU3R5bGUpLCBhbmQgY2FuIGJlIHVzZWQgYnkgdmFyaW91cyBmdndt
IG1vZHVsZXMgKEZ2d21XaW5MaXN0LAoqKiogZnZ3bS9mdndtLmgub3JpZwlTdW4gT2N0ICA1
IDE2OjM1OjA1IDE5OTcKLS0tIGZ2d20vZnZ3bS5oCVN1biBPY3QgIDUgMTk6Mjk6NDkgMTk5
NwoqKioqKioqKioqKioqKioKKioqIDEyNiwxMzEgKioqKgotLS0gMTI2LDE0NyAtLS0tCiAg
c3RydWN0IEZ2d21EZWNvcjsJCS8qIGRlZmluaXRpb24gaW4gc2NyZWVuLmggKi8KICAjZW5k
aWYKICAKKyAvKgorICAgRm9yIDEgc3R5bGUgc3RhdGVtZW50LCB0aGVyZSBjYW4gYmUgYW55
IG51bWJlciBvZiBJY29uQm94ZXMuCisgICBUaGUgbmFtZSBsaXN0IHBvaW50cyBhdCB0aGUg
Zmlyc3Qgb25lIGluIHRoZSBjaGFpbi4KKyAgKi8KKyB0eXBlZGVmIHN0cnVjdCBpY29uX2Jv
eGVzX3N0cnVjdCB7CisgICBzdHJ1Y3QgaWNvbl9ib3hlc19zdHJ1Y3QgKm5leHQ7ICAgICAg
IC8qIG5leHQgaWNvbl9ib3hlcyBvciB6ZXJvICovCisgICBpbnQgSWNvbkJveFs0XTsgICAg
ICAgICAgICAgICAgICAgICAgIC8qIHgveSB4L3kgZm9yIGljb25ib3ggKi8KKyAgIHNob3J0
IEljb25HcmlkWzJdOyAgICAgICAgICAgICAgICAgICAgLyogeCBpbmNyLCB5IGluY3IgKi8K
KyAjaWYgdGhpc193YXNfZXZlbl9kZXNpZ25lZAorICAgLyogVGhpcyBvbmx5IHRha2VzIDIg
Yml0cy4gIFRoZSBkZWZhdWx0cyBhcmUgcmlnaHQsIHRvcC4gKi8KKyAjZGVmaW5lIElDT05G
SUxMQk9UICgxPDwwKQorICNkZWZpbmUgSUNPTkZJTExMRlQgKDE8PDEpCisgICB1bnNpZ25l
ZCBjaGFyIEljb25GaWxsOyAgICAgICAgICAgICAgIC8qIGZpbGwgdG9wLHJpZ2h0LGxlZnQs
Ym90ICovCisgI2VuZGlmCisgfSBpY29uX2JveGVzOworIAogIC8qIGZvciBlYWNoIHdpbmRv
dyB0aGF0IGlzIG9uIHRoZSBkaXNwbGF5LCBvbmUgb2YgdGhlc2Ugc3RydWN0dXJlcwogICAq
IGlzIGFsbG9jYXRlZCBhbmQgbGlua2VkIGludG8gYSBsaXN0IAogICAqLwoqKioqKioqKioq
KioqKioKKioqIDIxMiwyMTkgKioqKgogICAgICBQaXhlbCBUZXh0UGl4ZWw7CiAgICAgIFBp
eGVsIEJhY2tQaXhlbDsKICAgICAgdW5zaWduZWQgbG9uZyBidXR0b25zOwohICAgICBpbnQg
SWNvbkJveFs0XTsKISAgICAgaW50IEJveEZpbGxNZXRob2Q7CiAgfSBGdndtV2luZG93Owog
IAogIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKLS0tIDIyOCwyMzQgLS0tLQogICAgICBQaXhl
bCBUZXh0UGl4ZWw7CiAgICAgIFBpeGVsIEJhY2tQaXhlbDsKICAgICAgdW5zaWduZWQgbG9u
ZyBidXR0b25zOwohICAgICBpY29uX2JveGVzICpJY29uQm94ZXM7ICAgICAgICAgICAgICAv
KiB6ZXJvIG9yIG1vcmUgaWNvbmJveGVzICovCiAgfSBGdndtV2luZG93OwogIAogIC8qKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioKKioqIGZ2d20vbWlzYy5oLm9yaWcJRnJpIE9jdCAgMyAyMDoy
NToyMyAxOTk3Ci0tLSBmdndtL21pc2MuaAlTdW4gT2N0ICA1IDE3OjAzOjMxIDE5OTcKKioq
KioqKioqKioqKioqCioqKiAzMyw0MCAqKioqCiAgICBpbnQgcmVzaXplX3dpZHRoOwogICAg
Y2hhciAqRm9yZUNvbG9yOwogICAgY2hhciAqQmFja0NvbG9yOwohICAgaW50IEljb25Cb3hb
NF07CiEgICBpbnQgQm94RmlsbE1ldGhvZDsKICAgIHVuc2lnbmVkIGxvbmcgb25fYnV0dG9u
czsKICAgIHVuc2lnbmVkIGxvbmcgb2ZmX2J1dHRvbnM7CiAgCi0tLSAzMywzOSAtLS0tCiAg
ICBpbnQgcmVzaXplX3dpZHRoOwogICAgY2hhciAqRm9yZUNvbG9yOwogICAgY2hhciAqQmFj
a0NvbG9yOwohICAgaWNvbl9ib3hlcyAqSWNvbkJveGVzOyAgICAgICAgICAgICAgICAvKiBw
b2ludGVyIHRvIGljb25ib3gocykgKi8KICAgIHVuc2lnbmVkIGxvbmcgb25fYnV0dG9uczsK
ICAgIHVuc2lnbmVkIGxvbmcgb2ZmX2J1dHRvbnM7CiAgCioqKioqKioqKioqKioqKgoqKiog
MTMwLDE0NyAqKioqCiAgZXh0ZXJuIGNoYXIgTm9DbGFzc1tdOwogIGV4dGVybiBjaGFyIE5v
UmVzb3VyY2VbXTsKICAKISBleHRlcm4gdW5zaWduZWQgbG9uZyBMb29rSW5MaXN0KG5hbWVf
bGlzdCAqLCBjaGFyICosIFhDbGFzc0hpbnQgKiwgCiEgCQkJCWNoYXIgKip2YWx1ZSwKISAj
aWZkZWYgTUlOSV9JQ09OUwohICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hh
ciAqKm1pbmlfdmFsdWUsIAohICNlbmRpZgohICNpZmRlZiBVU0VERUNPUgohIAkJCQljaGFy
ICoqZGVjb3IsCiEgI2VuZGlmCiEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
bnQgKkRlc2ssIGludCAqYncsIGludCAqbm9idywKISAJCQkJY2hhciAqKmZvcmVjb2xvciwg
Y2hhciAqKmJhY2tjb2xvciwgCiEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBsb25nICogYnV0dG9ucywgaW50ICpJY29uQm94LCAKISAJCQkJaW50ICpCb3hG
aWxsTWV0aG9kKTsKICBleHRlcm4gdm9pZCAgICAgICBNb3ZlT3V0bGluZShXaW5kb3csIGlu
dCxpbnQsaW50LGludCk7CiAgZXh0ZXJuIHZvaWQgICAgICAgRG9SZXNpemUoaW50LCBpbnQs
IEZ2d21XaW5kb3cgKik7CiAgZXh0ZXJuIHZvaWQgICAgICAgRGlzcGxheVNpemUoRnZ3bVdp
bmRvdyAqLCBpbnQsIGludCwgQm9vbCk7Ci0tLSAxMjksMTM1IC0tLS0KICBleHRlcm4gY2hh
ciBOb0NsYXNzW107CiAgZXh0ZXJuIGNoYXIgTm9SZXNvdXJjZVtdOwogIAohIGV4dGVybiB2
b2lkICAgICAgIExvb2tJbkxpc3QoRnZ3bVdpbmRvdyAqLCBuYW1lX2xpc3QgKik7CiAgZXh0
ZXJuIHZvaWQgICAgICAgTW92ZU91dGxpbmUoV2luZG93LCBpbnQsaW50LGludCxpbnQpOwog
IGV4dGVybiB2b2lkICAgICAgIERvUmVzaXplKGludCwgaW50LCBGdndtV2luZG93ICopOwog
IGV4dGVybiB2b2lkICAgICAgIERpc3BsYXlTaXplKEZ2d21XaW5kb3cgKiwgaW50LCBpbnQs
IEJvb2wpOwoqKioqKioqKioqKioqKioKKioqIDMxMSwzMjkgKioqKgogIHZvaWQgUGFyc2VL
ZXlFbnRyeShYRXZlbnQgKmV2ZW50cCxXaW5kb3cgdyxGdndtV2luZG93ICp0bXBfd2luLAog
IAkJdW5zaWduZWQgbG9uZyBjb250ZXh0LCBjaGFyICp0bGluZSxpbnQqIE1vZHVsZSk7CiAg
dm9pZCBTZXRPbmVTdHlsZShjaGFyICp0ZXh0LEZJTEUgKixjaGFyICoqLGludCAqKTsKLSB2
b2lkIEFkZFRvTGlzdChjaGFyICpuYW1lLCBjaGFyICppY29uX25hbWUsCi0gI2lmZGVmIE1J
TklfSUNPTlMKLSAgICAgICAgICAgICAgICBjaGFyICptaW5paWNvbl9uYW1lLAotICNlbmRp
ZgotICNpZmRlZiBVU0VERUNPUgotIAkgICAgICAgY2hhciAqZGVjb3IsCi0gI2VuZGlmCi0g
ICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBvZmZfZmxhZ3MsIAotIAkgICAgICAgdW5z
aWduZWQgbG9uZyBvbl9mbGFncywgaW50IGRlc2ssaW50IGJ3LCBpbnQgbm9idywgCi0gCSAg
ICAgICBjaGFyICpmb3JlY29sb3IsIGNoYXIgKmJhY2tjb2xvciwKLSAgICAgICAgICAgICAg
ICB1bnNpZ25lZCBsb25nIG9mZl9idXR0b25zLCB1bnNpZ25lZCBsb25nIG9uX2J1dHRvbnMs
Ci0gCSAgICAgICBpbnQgKkljb25Cb3gsIGludCBCb3hGaWxsTWV0aG9kKTsKLSAKICB2b2lk
IFBhcnNlU3R5bGUoY2hhciAqdGV4dCxGSUxFICosY2hhciAqKixpbnQgKik7CiAgdm9pZCBh
c3NpZ25fc3RyaW5nKGNoYXIgKnRleHQsIEZJTEUgKmZkLCBjaGFyICoqYXJnLGludCAqKTsK
ICB2b2lkIFNldEZsYWcoY2hhciAqdGV4dCwgRklMRSAqZmQsIGNoYXIgKiphcmcsaW50ICop
OwotLS0gMjk5LDMwNCAtLS0tCioqKiBmdndtL2ljb25zLmMub3JpZwlTdW4gU2VwIDI4IDIw
OjA5OjMxIDE5OTcKLS0tIGZ2d20vaWNvbnMuYwlNb24gT2N0ICA2IDIwOjUwOjUxIDE5OTcK
KioqKioqKioqKioqKioqCioqKiAzNTEsMzU3ICoqKioKICAKICAKICAgIAohIC8qKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKgogICAqCiAgICogIFByb2NlZHVyZToKICAgKglBdXRvUGxhY2UgLSBGaW5k
IGEgaG9tZSBmb3IgYW4gaWNvbgotLS0gMzUxLDM1NyAtLS0tCiAgCiAgCiAgICAKISAgLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqCiAgICoKICAgKiAgUHJvY2VkdXJlOgogICAqCUF1dG9QbGFjZSAt
IEZpbmQgYSBob21lIGZvciBhbiBpY29uCioqKioqKioqKioqKioqKgoqKiogNDA0LDQ5OSAq
KioqCiAgICAgICAgdC0+aWNvbl94X2xvYyA9IHQtPndtaGludHMtPmljb25feDsKICAgICAg
ICB0LT5pY29uX3lfbG9jID0gdC0+d21oaW50cy0+aWNvbl95OwogICAgICB9CiEgICBlbHNl
IGlmKHQtPkljb25Cb3hbMF0gPj0gMCkKISAgICAgewohICAgICAgIHdpZHRoID0gdC0+aWNv
bl9wX3dpZHRoOwohICAgICAgIGhlaWdodCA9IHQtPmljb25fd19oZWlnaHQgKyB0LT5pY29u
X3BfaGVpZ2h0OwohICAgICAgIGxvY19vayA9IEZhbHNlOyAgCiEgICAgICAgCiEgICAgICAg
LyogY2hlY2sgYWxsIGJveGVzIGluIG9yZGVyICovCiAgICAgICAgLyogSW4gZWFjaCBJY29u
Qm94LCBzdGFydCBhdCB0aGUgdXBwZXIgbGVmdCwgdHJhdmVsIHJpZ2h0LCB0aGVuCiAgICAg
ICAgICogZG93biAqLwohICAgICAgIHRlc3RfeSA9IHQtPkljb25Cb3hbMV0rYmFzZV95Owog
ICAgICAgIAotICAgICAgIHRlbXBfaCA9IGhlaWdodDsKLSAgICAgICB0ZW1wX3cgPSB3aWR0
aDsKICAgICAgICAKISAgICAgICAvKiBPSyBzZWNvbmQgdHJ5IGF0IHRoaXMuCiEgICAgICAg
ICogSWYgdGhlIHdpbmRvdyBpcyB0YWxsZXIgdGhhbiB0aGUgaWNvbiBib3gsIGlnbm9yZSB0
aGUgaWNvbiBoZWlnaHQKICAgICAgICAgKiB3aGVuIGZpZ3VyaW5nIHdoZXJlIHRvIHB1dCBp
dC4gU2FtZSBnb2VzIGZvciB0aGUgd2lkdGggKi8KICAgICAgICAvKiBUaGlzIHNob3VsZCBw
ZXJtaXQgcmVhc29uYWJseSBncmFjZWZ1bCBoYW5kbGluZyBvZiBiaWcgaWNvbnMuICovCiEg
ICAgICAgaWYod2lkdGggPj0gKHQtPkljb25Cb3hbMl0gLSB0LT5JY29uQm94WzBdKSkKISAJ
ICAgIHRlbXBfdyA9IDA7CiEgCSAgaWYoaGVpZ2h0ID49ICh0LT5JY29uQm94WzNdIC0gdC0+
SWNvbkJveFsxXSkpCiEgCSAgICB0ZW1wX2ggPSAwOwohIAkgIAohIAkgIHdoaWxlKCgodGVz
dF95ICsgdGVtcF9oKSA8ICh0LT5JY29uQm94WzNdK2Jhc2VfeSkpJiYoIWxvY19vaykpCiEg
CSAgICB7CiEgCSAgICAgIHRlc3RfeCA9IHQtPkljb25Cb3hbMF0rYmFzZV94OwohIAkgICAg
ICB3aGlsZSgoKHRlc3RfeCArIHRlbXBfdykgPCAodC0+SWNvbkJveFsyXStiYXNlX3gpKSYm
CiEgCQkgICAgKCFsb2Nfb2spKQohIAkJewohIAkJICByZWFsX3ggPSB0ZXN0X3g7CiEgCQkg
IHJlYWxfeSA9IHRlc3RfeTsKISAJCSAgCiEgCQkgIGlmKHRlc3RfeCArIHdpZHRoID4gKFNj
ci5NeURpc3BsYXlXaWR0aC0yK2Jhc2VfeCkpCiEgCQkgICAgcmVhbF94ID0gU2NyLk15RGlz
cGxheVdpZHRoIC0gd2lkdGggLTIgKyBiYXNlX3g7CiEgCQkgIGlmKHRlc3RfeSArIGhlaWdo
dCA+IChTY3IuTXlEaXNwbGF5SGVpZ2h0LTIrYmFzZV95KSkKISAJCSAgICByZWFsX3kgPSBT
Y3IuTXlEaXNwbGF5SGVpZ2h0IC0gaGVpZ2h0IC0yK2Jhc2VfeTsKISAJCSAgaWYodGVzdF94
IDxiYXNlX3gpCiEgCQkgICAgcmVhbF94ID0gYmFzZV94OwohIAkJICBpZih0ZXN0X3kgPCBi
YXNlX3kpCiEgCQkgICAgcmVhbF95ID0gYmFzZV95OwohIAkJICBsb2Nfb2sgPSBUcnVlOwoh
IAkJICB0ZXN0X3dpbmRvdyA9IFNjci5GdndtUm9vdC5uZXh0OwohIAkJICB3aGlsZSgodGVz
dF93aW5kb3cgIT0gKEZ2d21XaW5kb3cgKikwKSYmKGxvY19vayA9PSBUcnVlKSkKISAJCSAg
ICB7CiEgCQkgICAgICBpZih0ZXN0X3dpbmRvdy0+RGVzayA9PSB0LT5EZXNrKQohIAkJCXsK
ISAJCQkgIGlmKCh0ZXN0X3dpbmRvdy0+ZmxhZ3MmSUNPTklGSUVEKSYmCiEgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAodGVzdF93aW5kb3ctPmljb25fd3x8dGVzdF93aW5kb3ct
Pmljb25fcGl4bWFwX3cpJiYKISAJCQkgICAgICh0ZXN0X3dpbmRvdyAhPSB0KSkKISAJCQkg
ICAgewohIAkJCSAgICAgIHR3PXRlc3Rfd2luZG93LT5pY29uX3Bfd2lkdGg7CiEgCQkJICAg
ICAgdGg9dGVzdF93aW5kb3ctPmljb25fcF9oZWlnaHQrCiEgCQkJCXRlc3Rfd2luZG93LT5p
Y29uX3dfaGVpZ2h0OwohIAkJCSAgICAgIHR4ID0gdGVzdF93aW5kb3ctPmljb25feF9sb2M7
CiEgCQkJICAgICAgdHkgPSB0ZXN0X3dpbmRvdy0+aWNvbl95X2xvYzsKISAJCQkgIAohIAkJ
CSAgICAgIGlmKCh0eDwocmVhbF94K3dpZHRoKzMpKSYmKCh0eCt0dyszKSA+IHJlYWxfeCkm
JgohIAkJCQkgKHR5PChyZWFsX3kraGVpZ2h0KzMpKSYmKCh0eSt0aCArIDMpPnJlYWxfeSkp
CiEgCQkJCXsKISAJCQkJICBsb2Nfb2sgPSBGYWxzZTsKISAJCQkJfQohIAkJCSAgICB9CiEg
CQkJfQohIAkJICAgICAgdGVzdF93aW5kb3cgPSB0ZXN0X3dpbmRvdy0+bmV4dDsKISAJCSAg
ICB9CiEgCQkgIHRlc3RfeCArPTM7CiEgCQl9CiEgCSAgICAgIHRlc3RfeSArPTM7CiEgCSAg
ICB9CiEgICAgICAgaWYobG9jX29rID09IEZhbHNlKQohIAlyZXR1cm47CiEgICAgICAgdC0+
aWNvbl94X2xvYyA9IHJlYWxfeDsKISAgICAgICB0LT5pY29uX3lfbG9jID0gcmVhbF95Owog
ICAgICAgIAohICAgICAgIGlmKHQtPmljb25fcGl4bWFwX3cpCiEgCVhNb3ZlV2luZG93KGRw
eSx0LT5pY29uX3BpeG1hcF93LHQtPmljb25feF9sb2MsIHQtPmljb25feV9sb2MpOwogICAg
Ci0gICAgICAgdC0+aWNvbl93X3dpZHRoID0gdC0+aWNvbl9wX3dpZHRoOwotICAgICAgIHQt
Pmljb25feGxfbG9jID0gdC0+aWNvbl94X2xvYzsKLSAKLSAgICAgICBpZiAodC0+aWNvbl93
ICE9IE5vbmUpCi0gCVhNb3ZlUmVzaXplV2luZG93KGRweSwgdC0+aWNvbl93LCB0LT5pY29u
X3hsX2xvYywKLSAJCQkgIHQtPmljb25feV9sb2MrdC0+aWNvbl9wX2hlaWdodCwgCi0gCQkJ
ICB0LT5pY29uX3dfd2lkdGgsSUNPTl9IRUlHSFQpOwotICAgICAgIEJyb2FkY2FzdChNX0lD
T05fTE9DQVRJT04sNyx0LT53LHQtPmZyYW1lLAotIAkJKHVuc2lnbmVkIGxvbmcpdCwKLSAJ
CXQtPmljb25feF9sb2MsdC0+aWNvbl95X2xvYywKLSAJCXQtPmljb25fd193aWR0aCwgdC0+
aWNvbl93X2hlaWdodCsgdC0+aWNvbl9wX2hlaWdodCk7Ci0gICAgIH0KLSAgIAogIH0KICAK
ICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioKLS0tIDQwNCw1MDkgLS0tLQogICAgICAgIHQtPmljb25f
eF9sb2MgPSB0LT53bWhpbnRzLT5pY29uX3g7CiAgICAgICAgdC0+aWNvbl95X2xvYyA9IHQt
PndtaGludHMtPmljb25feTsKICAgICAgfQohICAgLyogZGplIDEwLzA1Lzk3IExvb2sgdGhy
dSBjaGFpbiBvZiBpY29uIGJveGVzIGFzc2lnbmVkIHRvIHdpbmRvdy4gKi8KISAgIGVsc2Ug
ewohICAgICBpY29uX2JveGVzICppY29uX2JveGVzX3B0cjsgICAgICAgICAvKiBjdXJyZW50
IGljb24gYm94ICovCiEgCiEgICAgIC8qIEhvcGVmdWxseSB0aGlzIG1ha2VzIHRoZSBmb2xs
b3dpbmcgbW9yZSByZWFkYWJsZS4gKi8KISAjZGVmaW5lIElDT05CT1hfTEZUIGljb25fYm94
ZXNfcHRyLT5JY29uQm94WzBdCiEgI2RlZmluZSBJQ09OQk9YX1RPUCBpY29uX2JveGVzX3B0
ci0+SWNvbkJveFsxXQohICNkZWZpbmUgSUNPTkJPWF9SR1QgaWNvbl9ib3hlc19wdHItPklj
b25Cb3hbMl0KISAjZGVmaW5lIElDT05CT1hfQk9UIGljb25fYm94ZXNfcHRyLT5JY29uQm94
WzNdCiEgCiEgICAgIHdpZHRoID0gdC0+aWNvbl9wX3dpZHRoOyAgICAgICAgICAvKiB1bm5l
Y2Vzc2FyeSBjb3B5IG9mIHdpZHRoICovCiEgICAgIGhlaWdodCA9IHQtPmljb25fd19oZWln
aHQgKyB0LT5pY29uX3BfaGVpZ2h0OyAvKiB0b3RhbCBoZWlnaHQgKi8KISAgICAgbG9jX29r
ID0gRmFsc2U7ICAgICAgICAgICAgICAgICAgIC8qIG5vIHNsb3QgZm91bmQgeWV0ICovCiEg
ICAgIAohICAgICAvKiBjaGVjayBhbGwgYm94ZXMgaW4gb3JkZXIgKi8KISAgICAgZm9yKGlj
b25fYm94ZXNfcHRyPSB0LT5JY29uQm94ZXM7ICAgLyogaW5pdCAqLwohICAgICAgICAgaWNv
bl9ib3hlc19wdHIgIT0gTlVMTDsgLyogdW50aWwgbm8gbW9yZSBib3hlcyAqLwohICAgICAg
ICAgaWNvbl9ib3hlc19wdHIgPSBpY29uX2JveGVzX3B0ci0+bmV4dCkgeyAvKiBhbGwgYm94
ZXMgKi8KISAKISAgICAgICBpZiAobG9jX29rID09IFRydWUpIHsKISAgICAgICAgIGJyZWFr
OyAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGVhdmUgZm9yIGxvb3AgKi8KISAgICAg
ICB9CiAgICAgICAgLyogSW4gZWFjaCBJY29uQm94LCBzdGFydCBhdCB0aGUgdXBwZXIgbGVm
dCwgdHJhdmVsIHJpZ2h0LCB0aGVuCiAgICAgICAgICogZG93biAqLwohICAgICAgIHRlc3Rf
eSA9IElDT05CT1hfVE9QK2Jhc2VfeTsgICAgICAvKiByaWdodCB0b3AgKyBzY3JlZW4gb2Zm
c2V0ICovCiAgICAgICAgCiAgICAgICAgCiEgICAgICAgLyogSWYgdGhlIHdpbmRvdyBpcyB0
YWxsZXIgdGhhbiB0aGUgaWNvbiBib3gsIGlnbm9yZSB0aGUgaWNvbiBoZWlnaHQKICAgICAg
ICAgKiB3aGVuIGZpZ3VyaW5nIHdoZXJlIHRvIHB1dCBpdC4gU2FtZSBnb2VzIGZvciB0aGUg
d2lkdGggKi8KICAgICAgICAvKiBUaGlzIHNob3VsZCBwZXJtaXQgcmVhc29uYWJseSBncmFj
ZWZ1bCBoYW5kbGluZyBvZiBiaWcgaWNvbnMuICovCiEgICAgICAgdGVtcF93ID0gd2lkdGg7
ICAgICAgICAgICAgICAgICAgICAgLyogaW5pdCB3aWR0aCAqLwohICAgICAgIGlmKHdpZHRo
ID49IChJQ09OQk9YX1JHVCAtIElDT05CT1hfTEZUKSkgLyogaWYgaWNvbiB0b28gd2lkZSAq
LwohICAgICAgICAgdGVtcF93ID0gMDsgICAgICAgICAgICAgICAgICAgICAgIC8qIGFkanVz
dCB3aWR0aCB0byBmaXQgKi8KISAgICAgICB0ZW1wX2ggPSBoZWlnaHQ7ICAgICAgICAgICAg
ICAgICAgICAvKiBpbml0IGhlaWdodCAqLwohICAgICAgIGlmKGhlaWdodCA+PSAoSUNPTkJP
WF9CT1QgLSBJQ09OQk9YX1RPUCkpIC8qIGlmIGljb24gdG9vIHRhbGwgKi8KISAgICAgICAg
IHRlbXBfaCA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAvKiBhZGp1c3QgaGVpZ2h0IHRv
IGZpdCAqLwogICAgICAgIAohICAgICAgIHdoaWxlKCgodGVzdF95K3RlbXBfaCkgPCAoSUNP
TkJPWF9CT1QrYmFzZV95KSkmJighbG9jX29rKSkgeyAvKiByb29tIHkgKi8KISAgICAgICAg
IHRlc3RfeCA9IElDT05CT1hfTEZUK2Jhc2VfeDsgICAgLyogaW5pdCB4ICovCiEgICAgICAg
ICB3aGlsZSgoKHRlc3RfeCt0ZW1wX3cpIDwgKElDT05CT1hfUkdUK2Jhc2VfeCkpCiEgICAg
ICAgICAgICAgICAmJiAoIWxvY19vaykpIHsgLyogcm9vbSB4ICovCiEgICAgICAgICAgIHJl
YWxfeCA9IHRlc3RfeDsKISAgICAgICAgICAgcmVhbF95ID0gdGVzdF95OwohICAgICAgICAg
ICAKISAgICAgICAgICAgaWYodGVzdF94ICsgd2lkdGggPiAoU2NyLk15RGlzcGxheVdpZHRo
LTIrYmFzZV94KSkKISAgICAgICAgICAgICByZWFsX3ggPSBTY3IuTXlEaXNwbGF5V2lkdGgg
LSB3aWR0aCAtMiArIGJhc2VfeDsKISAgICAgICAgICAgaWYodGVzdF95ICsgaGVpZ2h0ID4g
KFNjci5NeURpc3BsYXlIZWlnaHQtMitiYXNlX3kpKQohICAgICAgICAgICAgIHJlYWxfeSA9
IFNjci5NeURpc3BsYXlIZWlnaHQgLSBoZWlnaHQgLTIrYmFzZV95OwohICAgICAgICAgICBp
Zih0ZXN0X3ggPGJhc2VfeCkKISAgICAgICAgICAgICByZWFsX3ggPSBiYXNlX3g7CiEgICAg
ICAgICAgIGlmKHRlc3RfeSA8IGJhc2VfeSkKISAgICAgICAgICAgICByZWFsX3kgPSBiYXNl
X3k7CiEgICAgICAgICAgIGxvY19vayA9IFRydWU7ICAgICAgICAgICAgICAgICAgLyogdGhp
cyBtYXkgYmUgYSBnb29kIGxvY2F0aW9uICovCiEgICAgICAgICAgIHRlc3Rfd2luZG93ID0g
U2NyLkZ2d21Sb290Lm5leHQ7CiEgICAgICAgICAgIHdoaWxlKCh0ZXN0X3dpbmRvdyAhPSAo
RnZ3bVdpbmRvdyAqKTApCiEgICAgICAgICAgICAgICAgICYmKGxvY19vayA9PSBUcnVlKSkg
eyAvKiB0ZXN0IG92ZXJsYXAgKi8KISAgICAgICAgICAgICBpZih0ZXN0X3dpbmRvdy0+RGVz
ayA9PSB0LT5EZXNrKSB7CiEgICAgICAgICAgICAgICBpZigodGVzdF93aW5kb3ctPmZsYWdz
JklDT05JRklFRCkmJgohICAgICAgICAgICAgICAgICAgKHRlc3Rfd2luZG93LT5pY29uX3d8
fHRlc3Rfd2luZG93LT5pY29uX3BpeG1hcF93KSYmCiEgICAgICAgICAgICAgICAgICAodGVz
dF93aW5kb3cgIT0gdCkpIHsKISAgICAgICAgICAgICAgICAgdHc9dGVzdF93aW5kb3ctPmlj
b25fcF93aWR0aDsKISAgICAgICAgICAgICAgICAgdGg9dGVzdF93aW5kb3ctPmljb25fcF9o
ZWlnaHQrCiEgICAgICAgICAgICAgICAgICAgdGVzdF93aW5kb3ctPmljb25fd19oZWlnaHQ7
CiEgICAgICAgICAgICAgICAgIHR4ID0gdGVzdF93aW5kb3ctPmljb25feF9sb2M7CiEgICAg
ICAgICAgICAgICAgIHR5ID0gdGVzdF93aW5kb3ctPmljb25feV9sb2M7CiEgICAgICAgICAg
ICAgICAgIAohICAgICAgICAgICAgICAgICBpZigodHg8KHJlYWxfeCt3aWR0aCszKSkmJigo
dHgrdHcrMykgPiByZWFsX3gpJiYKISAgICAgICAgICAgICAgICAgICAgKHR5PChyZWFsX3kr
aGVpZ2h0KzMpKSYmKCh0eSt0aCArIDMpPnJlYWxfeSkpIHsKISAgICAgICAgICAgICAgICAg
ICBsb2Nfb2sgPSBGYWxzZTsgICAgICAgICAvKiBkb24ndCBhY2NlcHQgdGhpcyBsb2NhdGlv
biAqLwohICAgICAgICAgICAgICAgICB9IC8qIGVuZCBpZiBpY29ucyBvdmVybGFwICovCiEg
ICAgICAgICAgICAgICB9IC8qIGVuZCBpZiBpdHMgYW4gaWNvbiAqLwohICAgICAgICAgICAg
IH0gLyogZW5kIGlmIHNhbWUgZGVzayAqLwohICAgICAgICAgICAgIHRlc3Rfd2luZG93ID0g
dGVzdF93aW5kb3ctPm5leHQ7CiEgICAgICAgICAgIH0gLyogZW5kIHdoaWxlIGljb25zIHRo
YXQgbWF5IG92ZXJsYXAgKi8KISAgICAgICAgICAgdGVzdF94ICs9aWNvbl9ib3hlc19wdHIt
Pkljb25HcmlkWzBdOyAvKiBHcmlkIHggdmFsdWUgKi8KISAgICAgICAgIH0gLyogZW5kIHdo
aWxlIHJvb20geCAqLwohICAgICAgICAgdGVzdF95ICs9aWNvbl9ib3hlc19wdHItPkljb25H
cmlkWzFdOyAvKiBHcmlkIHkgdmFsdWUgKi8KISAgICAgICB9IC8qIGVuZCB3aGlsZSByb29t
IHkgKi8KISAgICAgfSAvKiBlbmQgZm9yIGFsbCBpY29uIGJveGVzLCBvciBmb3VuZCBzcGFj
ZSAqLwohICAgICBpZihsb2Nfb2sgPT0gRmFsc2UpICAgICAgICAgICAgICAgLyogSWYgaWNv
biBuZXZlciBmb3VuZCBhIGhvbWUgKi8KISAgICAgICByZXR1cm47ICAgICAgICAgICAgICAg
ICAgICAgICAgIC8qIGp1c3QgbGVhdmUgaXQgKi8KISAgICAgdC0+aWNvbl94X2xvYyA9IHJl
YWxfeDsKISAgICAgdC0+aWNvbl95X2xvYyA9IHJlYWxfeTsKISAgICAgCiEgICAgIGlmKHQt
Pmljb25fcGl4bWFwX3cpCiEgICAgICAgWE1vdmVXaW5kb3coZHB5LHQtPmljb25fcGl4bWFw
X3csdC0+aWNvbl94X2xvYywgdC0+aWNvbl95X2xvYyk7CiEgICAgIAohICAgICB0LT5pY29u
X3dfd2lkdGggPSB0LT5pY29uX3Bfd2lkdGg7CiEgICAgIHQtPmljb25feGxfbG9jID0gdC0+
aWNvbl94X2xvYzsKISAgICAgCiEgICAgIGlmICh0LT5pY29uX3cgIT0gTm9uZSkKISAgICAg
ICBYTW92ZVJlc2l6ZVdpbmRvdyhkcHksIHQtPmljb25fdywgdC0+aWNvbl94bF9sb2MsCiEg
ICAgICAgICAgICAgICAgICAgICAgICAgdC0+aWNvbl95X2xvYyt0LT5pY29uX3BfaGVpZ2h0
LCAKISAgICAgICAgICAgICAgICAgICAgICAgICB0LT5pY29uX3dfd2lkdGgsSUNPTl9IRUlH
SFQpOwohICAgICBCcm9hZGNhc3QoTV9JQ09OX0xPQ0FUSU9OLDcsdC0+dyx0LT5mcmFtZSwK
ISAgICAgICAgICAgICAgICh1bnNpZ25lZCBsb25nKXQsCiEgICAgICAgICAgICAgICB0LT5p
Y29uX3hfbG9jLHQtPmljb25feV9sb2MsCiEgICAgICAgICAgICAgICB0LT5pY29uX3dfd2lk
dGgsIHQtPmljb25fd19oZWlnaHQrIHQtPmljb25fcF9oZWlnaHQpOwohICAgfQogICAgCiAg
fQogIAogIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKgoqKiogZnZ3bS9zdHlsZS5jLm9yaWcJVGh1IE9j
dCAgMiAxOTowOTozMCAxOTk3Ci0tLSBmdndtL3N0eWxlLmMJTW9uIE9jdCAgNiAyMDo0OToy
NSAxOTk3CioqKioqKioqKioqKioqKgoqKiogMSw1ICoqKioKICAvKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKgohICAqIFRoaXMgbW9kdWxlIGlzIGFsbCBvcmlnaW5hbCBjb2RlIAogICAqIGJ5
IFJvYiBOYXRpb24gCiAgICogQ29weXJpZ2h0IDE5OTMsIFJvYmVydCBOYXRpb24KICAgKiAg
ICAgWW91IG1heSB1c2UgdGhpcyBjb2RlIGZvciBhbnkgcHVycG9zZSwgYXMgbG9uZyBhcyB0
aGUgb3JpZ2luYWwKLS0tIDEsMTQgLS0tLQogIC8qKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiEg
CiEgICogQ2hhbmdlZCAxMC8wNi85NyBieSBkamU6CiEgICogQ2hhbmdlIHNpbmdsZSBJY29u
Qm94IGludG8gY2hhaW4gb2YgSWNvbkJveGVzLgohICAqIEFsbG93IEljb25Cb3ggdG8gYmUg
c3BlY2lmaWVkIHVzaW5nIFggR2VvbWV0cnkgc3RyaW5nLgohICAqIFBhcnNlIG9wdGlvbmFs
IEljb25HcmlkLgohICAqIFVzZSBtYWNyb3MgdG8gbWFrZSBwYXJzaW5nIG1vcmUgdW5pZm9y
bSwgYW5kIGVhc2llciB0byByZWFkLgohICAqIFJld3JvdGUgQWRkVG9MaXN0IHdpdGhvdXQg
dG9ucyBvZiBhcmcgcGFzc2luZyBhbmQgbWVyZ2luZy4KISAgKiBBZGRlZCBhIGZldyBjb21t
ZW50cy4KISAgKgohICAqIFRoaXMgbW9kdWxlIHdhcyBhbGwgb3JpZ2luYWwgY29kZSAKICAg
KiBieSBSb2IgTmF0aW9uIAogICAqIENvcHlyaWdodCAxOTkzLCBSb2JlcnQgTmF0aW9uCiAg
ICogICAgIFlvdSBtYXkgdXNlIHRoaXMgY29kZSBmb3IgYW55IHB1cnBvc2UsIGFzIGxvbmcg
YXMgdGhlIG9yaWdpbmFsCioqKioqKioqKioqKioqKgoqKiogMjYsMzEgKioqKgotLS0gMzUs
ODYgLS0tLQogICNpbmNsdWRlICJzY3JlZW4uaCIKICAjaW5jbHVkZSAiLi4vdmVyc2lvbi5o
IgogIAorIHN0YXRpYyB2b2lkIEFkZFRvTGlzdChuYW1lX2xpc3QgKik7ICAgICAvKiBwcm90
b3R5cGUgKi8KKyAKKyAvKiBBIG1hY3JvIGZvciBza2lwcGluZyBvdmVyIHdoaXRlIHNwYWNl
ICovCisgI2RlZmluZSBTS0lQU1BBQ0UgXAorICAgd2hpbGUoaXNzcGFjZSgqcmVzdG9mbGlu
ZSkpcmVzdG9mbGluZSsrOworIAorIC8qIEEgbWFjcm8gZm9yIGNoZWNraW5nIHRoZSBjb21t
YW5kIHdpdGggYSBjYXNlbGVzcyBjb21wYXJlICovCisgI2RlZmluZSBJVElTKFRISVMpIFwK
KyAgIG15c3RybmNhc2VjbXAocmVzdG9mbGluZSxUSElTLHNpemVvZihUSElTKS0xKT09MAor
IAorIC8qIEEgbWFjcm8gZm9yIHNraXBwaW5nIG92ZXIgdGhlIGNvbW1hbmQgd2l0aG91dCBj
b3VudGluZyBpdCdzIHNpemUgKi8KKyAjZGVmaW5lIFNLSVAoVEhJUykgXAorICAgcmVzdG9m
bGluZSArPSBzaXplb2YoVEhJUyktMQorIAorIC8qIEEgbWFjcm8gZm9yIGdldHRpbmcgYSBu
b24tcXVvdGVkIG9wZXJhbmQgKi8KKyAjZGVmaW5lIEdFVFdPUkQgXAorICAgU0tJUFNQQUNF
OyBcCisgICB0bXAgPSByZXN0b2ZsaW5lOyBcCisgICBsZW4gPSAwOyBcCisgICB3aGlsZSgo
dG1wICE9IE5VTEwpJiYoKnRtcCAhPSAwKSYmKCp0bXAgIT0gJywnKSYmIFwKKyAgICAgICAg
ICgqdG1wICE9ICdcbicpJiYoIWlzc3BhY2UoKnRtcCkpKSB7IFwKKyAgICAgdG1wKys7IFwK
KyAgICAgbGVuKys7IFwKKyAgIH0KKyAKKyAvKiBBIG1hY3JvIGZvciBnZXR0aW5nIGEgcXVv
dGVkIG9wZXJhbmQgKi8KKyAjZGVmaW5lIEdFVFFVT1RFRFdPUkQgXAorICAgaXNfcXVvdGVk
ID0gMDsgXAorICAgU0tJUFNQQUNFOyBcCisgICBpZiAoKnJlc3RvZmxpbmUgPT0gJyInKSB7
IFwKKyAgICAgaXNfcXVvdGVkID0gMTsgXAorICAgICArK3Jlc3RvZmxpbmU7IFwKKyAgIH0g
XAorICAgdG1wID0gcmVzdG9mbGluZTsgXAorICAgbGVuID0gMDsgXAorICAgd2hpbGUgKHRt
cCAmJiAqdG1wICYmIFwKKyAgICAgICAgICAoKCFpc19xdW90ZWQmJigqdG1wICE9ICcsJykm
JigqdG1wICE9ICdcbicpJiYoIWlzc3BhY2UoKnRtcCkpKSBcCisgICAgICAgICAgIHx8IChp
c19xdW90ZWQmJigqdG1wICE9ICdcbicpJiYoKnRtcCAhPSAnIicpKSkpIFwKKyAgICAgeyBc
CisgICAgICAgdG1wKys7IFwKKyAgICAgICBsZW4rKzsgXAorICAgICB9IFwKKyAgICAgaWYg
KHRtcCAmJiAoKnRtcCA9PSAnIicpKSArK3RtcDsKKyAKKyAvKiBQcm9jZXNzIGEgc3R5bGUg
Y29tbWFuZC4gIEZpcnN0IGJ1aWx0IHVwIGluIGEgdGVtcCBhcmVhLgorICAgIElmIHZhbGlk
LCBhZGRlZCB0byB0aGUgbGlzdCBpbiBhIG1hbGxvY2VkIGFyZWEuICovCiAgdm9pZCBQcm9j
ZXNzTmV3U3R5bGUoWEV2ZW50ICpldmVudHAsCiAgICAgICAgICAgICAgICAgICAgICAgV2lu
ZG93IHcsCiAgICAgICAgICAgICAgICAgICAgICAgRnZ3bVdpbmRvdyAqdG1wX3dpbiwKKioq
KioqKioqKioqKioqCioqKiAzMywxNDEgKioqKgogICAgICAgICAgICAgICAgICAgICAgIGNo
YXIgKnRleHQsCiAgICAgICAgICAgICAgICAgICAgICAgaW50ICpNb2R1bGUpCiAgewohICAg
Y2hhciAqbmFtZSwgKmxpbmU7CiAgICBjaGFyICpyZXN0b2ZsaW5lLCp0bXA7Ci0gICBjaGFy
ICppY29uX25hbWUgPSBOVUxMOwotICNpZmRlZiBNSU5JX0lDT05TCi0gICBjaGFyICptaW5p
aWNvbl9uYW1lID0gTlVMTDsKLSAjZW5kaWYKLSAjaWZkZWYgVVNFREVDT1IKLSAgIGNoYXIg
KmRlY29yID0gTlVMTDsKLSAjZW5kaWYKLSAgIGNoYXIgKmZvcmVjb2xvciA9IE5VTEw7Ci0g
ICBjaGFyICpiYWNrY29sb3IgPSBOVUxMOwotICAgdW5zaWduZWQgbG9uZyBvZmZfYnV0dG9u
cz0wOwotICAgdW5zaWduZWQgbG9uZyBvbl9idXR0b25zPTA7CiAgICBuYW1lX2xpc3QgKm5w
dHI7CiEgICBpbnQgYnV0dDsKISAgIGludCBCb3hGaWxsTWV0aG9kID0gMDsKISAgIGludCBJ
Y29uQm94WzRdOwogICAgaW50IG51bSxpOwogIAohICAgaW50IGxlbixkZXNrbnVtYmVyID0g
MCxidz0wLCBub2J3ID0gMDsKISAgIHVuc2lnbmVkIGxvbmcgb2ZmX2ZsYWdzID0gMDsKISAg
IHVuc2lnbmVkIGxvbmcgb25fZmxhZ3MgPSAwOwogICAgCiEgICBJY29uQm94WzBdID0gLTE7
CiEgICBJY29uQm94WzFdID0gLTE7CiEgICBJY29uQm94WzJdID0gU2NyLk15RGlzcGxheVdp
ZHRoOwohICAgSWNvbkJveFszXSA9IFNjci5NeURpc3BsYXlIZWlnaHQ7CiEgCiEgICByZXN0
b2ZsaW5lID0gR2V0TmV4dFRva2VuKHRleHQsJm5hbWUpOwogICAgLyogaW4gY2FzZSB0aGVy
ZSB3YXMgbm8gYXJndW1lbnQhICovCiEgICBpZigobmFtZSA9PSBOVUxMKXx8KHJlc3RvZmxp
bmUgPT0gTlVMTCkpCiEgICAgIHJldHVybjsKICAKISAgIHdoaWxlKGlzc3BhY2UoKnJlc3Rv
ZmxpbmUpJiYoKnJlc3RvZmxpbmUgIT0gMCkpcmVzdG9mbGluZSsrOwogICAgbGluZSA9IHJl
c3RvZmxpbmU7CiAgCiAgICBpZihyZXN0b2ZsaW5lID09IE5VTEwpcmV0dXJuOwogICAgd2hp
bGUoKCpyZXN0b2ZsaW5lICE9IDApJiYoKnJlc3RvZmxpbmUgIT0gJ1xuJykpCiAgICB7CiEg
ICAgIHdoaWxlKGlzc3BhY2UoKnJlc3RvZmxpbmUpKSByZXN0b2ZsaW5lKys7CiAgICAgIHN3
aXRjaCAodG9sb3dlcihyZXN0b2ZsaW5lWzBdKSkKICAgICAgewogICAgICAgIGNhc2UgJ2En
OgohICAgICAgICAgaWYobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJBQ1RJVkVQTEFDRU1F
TlQiLDE1KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTE1Owoh
ICAgICAgICAgICBvbl9mbGFncyB8PSBSQU5ET01fUExBQ0VfRkxBRzsKICAgICAgICAgIH0K
ICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2InOgohICAgICAgICAgaWYobXlzdHJu
Y2FzZWNtcChyZXN0b2ZsaW5lLCJCQUNLQ09MT1IiLDkpPT0wKQogICAgICAgICAgewohICAg
ICAgICAgICByZXN0b2ZsaW5lICs9OTsKISAgICAgICAgICAgd2hpbGUoaXNzcGFjZSgqcmVz
dG9mbGluZSkpcmVzdG9mbGluZSsrOwohICAgICAgICAgICB0bXAgPSByZXN0b2ZsaW5lOwoh
ICAgICAgICAgICBsZW4gPSAwOwohICAgICAgICAgICB3aGlsZSgodG1wICE9IE5VTEwpJiYo
KnRtcCAhPSAwKSYmKCp0bXAgIT0gJywnKSYmCiEgICAgICAgICAgICAgICAgICgqdG1wICE9
ICdcbicpJiYoIWlzc3BhY2UoKnRtcCkpKQohICAgICAgICAgICB7CiEgICAgICAgICAgICAg
dG1wKys7CiEgICAgICAgICAgICAgbGVuKys7CiEgICAgICAgICAgIH0KICAgICAgICAgICAg
aWYobGVuID4gMCkKICAgICAgICAgICAgewohICAgICAgICAgICAgIGJhY2tjb2xvciA9IHNh
ZmVtYWxsb2MobGVuKzEpOwohICAgICAgICAgICAgIHN0cm5jcHkoYmFja2NvbG9yLHJlc3Rv
ZmxpbmUsbGVuKTsKISAgICAgICAgICAgICBiYWNrY29sb3JbbGVuXSA9IDA7CiEgICAgICAg
ICAgICAgb2ZmX2ZsYWdzIHw9IEJBQ0tfQ09MT1JfRkxBRzsKICAgICAgICAgICAgfQogICAg
ICAgICAgICByZXN0b2ZsaW5lID0gdG1wOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBp
ZiAobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJCVVRUT04iLDYpPT0wKQogICAgICAgICAg
ewohICAgICAgICAgICByZXN0b2ZsaW5lICs9NjsKISAJICAKICAgICAgICAgICAgc3NjYW5m
KHJlc3RvZmxpbmUsIiVkIiwmYnV0dCk7CiEgICAgICAgICAgIHdoaWxlKGlzc3BhY2UoKnJl
c3RvZmxpbmUpKXJlc3RvZmxpbmUrKzsKISAgICAgICAgICAgd2hpbGUoKCFpc3NwYWNlKCpy
ZXN0b2ZsaW5lKSkmJigqcmVzdG9mbGluZSE9IDApJiYKISAgICAgICAgICAgICAgICAgKCpy
ZXN0b2ZsaW5lICE9ICcsJykmJigqcmVzdG9mbGluZSAhPSAnXG4nKSkKISAgICAgICAgICAg
ICByZXN0b2ZsaW5lKys7CiEgICAgICAgICAgIHdoaWxlKGlzc3BhY2UoKnJlc3RvZmxpbmUp
KXJlc3RvZmxpbmUrKzsKISAJICAKICAgICAgICAgICAgaWYgKGJ1dHQgPT0gMCkgYnV0dCA9
IDEwOwogICAgICAgICAgICBpZiAoYnV0dCA+IDAgJiYgYnV0dCA8PSAxMCkKISAgICAgICAg
ICAgICBvbl9idXR0b25zIHw9ICgxPDwoYnV0dC0xKSk7CiAgICAgICAgICB9CiEgICAgICAg
ICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiQm9yZGVyV2lkdGgiLDExKT09
MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTExOwohICAgICAgICAg
ICBvZmZfZmxhZ3MgfD0gQldfRkxBRzsKISAgICAgICAgICAgc3NjYW5mKHJlc3RvZmxpbmUs
IiVkIiwmYncpOwohICAgICAgICAgICB3aGlsZShpc3NwYWNlKCpyZXN0b2ZsaW5lKSlyZXN0
b2ZsaW5lKys7CiEgICAgICAgICAgIHdoaWxlKCghaXNzcGFjZSgqcmVzdG9mbGluZSkpJiYo
KnJlc3RvZmxpbmUhPSAwKSYmCiEgICAgICAgICAgICAgICAgICgqcmVzdG9mbGluZSAhPSAn
LCcpJiYoKnJlc3RvZmxpbmUgIT0gJ1xuJykpCiEgICAgICAgICAgICAgcmVzdG9mbGluZSsr
OwohICAgICAgICAgICB3aGlsZShpc3NwYWNlKCpyZXN0b2ZsaW5lKSlyZXN0b2ZsaW5lKys7
CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdjJzoKISAgICAg
ICAgIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiQ09MT1IiLDUpPT0wKQogICAgICAg
ICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9NTsKISAgICAgICAgICAgd2hpbGUoaXNz
cGFjZSgqcmVzdG9mbGluZSkpcmVzdG9mbGluZSsrOwogICAgICAgICAgICB0bXAgPSByZXN0
b2ZsaW5lOwogICAgICAgICAgICBsZW4gPSAwOwogICAgICAgICAgICB3aGlsZSgodG1wICE9
IE5VTEwpJiYoKnRtcCAhPSAwKSYmKCp0bXAgIT0gJywnKSYmCi0tLSA4OCwxNzAgLS0tLQog
ICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKnRleHQsCiAgICAgICAgICAgICAgICAgICAg
ICAgaW50ICpNb2R1bGUpCiAgewohICAgY2hhciAqbGluZTsKICAgIGNoYXIgKnJlc3RvZmxp
bmUsKnRtcDsKICAgIG5hbWVfbGlzdCAqbnB0cjsKISAgIGludCBidXR0OyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgLyogd29yayBhcmVhIGZvciBidXR0b24gbnVtYmVyICovCiAg
ICBpbnQgbnVtLGk7CisgICBuYW1lX2xpc3QgdG5hbWU7ICAgICAgICAgICAgICAgICAgICAg
IC8qIHRlbXAgYXJlYSB0byBidWlsZCBuYW1lIGxpc3QgKi8KKyAgIGludCBsZW4gPSAwOwor
ICAgaWNvbl9ib3hlcyAqd2hpY2ggPSAwOyAgICAgICAgICAgICAgICAvKiB3aGljaCBjdXJy
ZW50IGJveGVzIHRvIGNoYWluIHRvICovCisgICBpbnQgaXNfcXVvdGVkOyAgICAgICAgICAg
ICAgICAgICAgICAgIC8qIGZvciBwYXJzaW5nIGFyZ3Mgd2l0aCBxdW90ZXMgKi8KICAKISAg
IG1lbXNldCgmdG5hbWUsIDAsIHNpemVvZihuYW1lX2xpc3QpKTsgLyogaW5pdCB0ZW1wIG5h
bWVfbGlzdCBhcmVhICovCiAgICAKISAgIHJlc3RvZmxpbmUgPSBHZXROZXh0VG9rZW4odGV4
dCwmdG5hbWUubmFtZSk7IC8qIHBhcnNlIHN0eWxlIG5hbWUgKi8KICAgIC8qIGluIGNhc2Ug
dGhlcmUgd2FzIG5vIGFyZ3VtZW50ISAqLwohICAgaWYoKHRuYW1lLm5hbWUgPT0gTlVMTCl8
fChyZXN0b2ZsaW5lID09IE5VTEwpKS8qIElmIG5vIG5hbWUsIG9yIGJsYW5rIGNtZCAqLwoh
ICAgICByZXR1cm47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBkcm9wIGl0LiAq
LwogIAohIAohICAgU0tJUFNQQUNFOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBz
a2lwIG92ZXIgd2hpdGUgc3BhY2UgKi8KICAgIGxpbmUgPSByZXN0b2ZsaW5lOwogIAogICAg
aWYocmVzdG9mbGluZSA9PSBOVUxMKXJldHVybjsKICAgIHdoaWxlKCgqcmVzdG9mbGluZSAh
PSAwKSYmKCpyZXN0b2ZsaW5lICE9ICdcbicpKQogICAgewohICAgICBTS0lQU1BBQ0U7ICAg
ICAgICAgICAgICAgICAgICAgICAgICAvKiBza2lwIHdoaXRlIHNwYWNlICovCiEgICAgIC8q
IEl0IG1pZ2h0IG1ha2UgbW9yZSBzZW5zZSB0byBjYXB0dXJlIHRoZSB3aG9sZSB3b3JkLCBm
aXggaXRzCiEgICAgICAgIGNhc2UsIGFuZCB1c2Ugc3RyY21wLCBidXQgdGhlcmUgYXJlbid0
IG1hbnkgY2FzZWxlc3MgY29tcGFyZXMKISAgICAgICAgYmVjYXVzZSBvZiB0aGlzICJzd2l0
Y2giIG9uIHRoZSBmaXJzdCBsZXR0ZXIuICovCiAgICAgIHN3aXRjaCAodG9sb3dlcihyZXN0
b2ZsaW5lWzBdKSkKICAgICAgewogICAgICAgIGNhc2UgJ2EnOgohICAgICAgICAgaWYoSVRJ
UygiQUNUSVZFUExBQ0VNRU5UIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIkFD
VElWRVBMQUNFTUVOVCIpOwohICAgICAgICAgICB0bmFtZS5vbl9mbGFncyB8PSBSQU5ET01f
UExBQ0VfRkxBRzsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2Ug
J2InOgohICAgICAgICAgaWYoSVRJUygiQkFDS0NPTE9SIikpCiAgICAgICAgICB7CiEgICAg
ICAgICAgIFNLSVAoIkJBQ0tDT0xPUiIpOwohICAgICAgICAgICBHRVRXT1JEOwogICAgICAg
ICAgICBpZihsZW4gPiAwKQogICAgICAgICAgICB7CiEgICAgICAgICAgICAgdG5hbWUuQmFj
a0NvbG9yID0gc2FmZW1hbGxvYyhsZW4rMSk7CiEgICAgICAgICAgICAgc3RybmNweSh0bmFt
ZS5CYWNrQ29sb3IscmVzdG9mbGluZSxsZW4pOwohICAgICAgICAgICAgIHRuYW1lLkJhY2tD
b2xvcltsZW5dID0gMDsKISAgICAgICAgICAgICB0bmFtZS5vZmZfZmxhZ3MgfD0gQkFDS19D
T0xPUl9GTEFHOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3RvZmxpbmUgPSB0bXA7
CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmIChJVElTKCJCVVRUT04iKSkKICAgICAg
ICAgIHsKISAgICAgICAgICAgU0tJUCgiQlVUVE9OIik7CiAgICAgICAgICAgIHNzY2FuZihy
ZXN0b2ZsaW5lLCIlZCIsJmJ1dHQpOwohICAgICAgICAgICBHRVRXT1JEOwohICAgICAgICAg
ICByZXN0b2ZsaW5lID0gdG1wOwohICAgICAgICAgICBTS0lQU1BBQ0U7CiAgICAgICAgICAg
IGlmIChidXR0ID09IDApIGJ1dHQgPSAxMDsKICAgICAgICAgICAgaWYgKGJ1dHQgPiAwICYm
IGJ1dHQgPD0gMTApCiEgICAgICAgICAgICAgdG5hbWUub25fYnV0dG9ucyB8PSAoMTw8KGJ1
dHQtMSkpOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihJVElTKCJCb3JkZXJXaWR0
aCIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJCb3JkZXJXaWR0aCIpOwohICAg
ICAgICAgICB0bmFtZS5vZmZfZmxhZ3MgfD0gQldfRkxBRzsKISAgICAgICAgICAgc3NjYW5m
KHJlc3RvZmxpbmUsIiVkIiwmdG5hbWUuYm9yZGVyX3dpZHRoKTsKISAgICAgICAgICAgR0VU
V09SRDsKISAgICAgICAgICAgcmVzdG9mbGluZSA9IHRtcDsKISAgICAgICAgICAgU0tJUFNQ
QUNFOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYyc6CiEg
ICAgICAgICBpZihJVElTKCJDT0xPUiIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQ
KCJDT0xPUiIpOwohICAgICAgICAgICBTS0lQU1BBQ0U7CiAgICAgICAgICAgIHRtcCA9IHJl
c3RvZmxpbmU7CiAgICAgICAgICAgIGxlbiA9IDA7CiAgICAgICAgICAgIHdoaWxlKCh0bXAg
IT0gTlVMTCkmJigqdG1wICE9IDApJiYoKnRtcCAhPSAnLCcpJiYKKioqKioqKioqKioqKioq
CioqKiAxNDYsMTU1ICoqKioKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihsZW4gPiAw
KQogICAgICAgICAgICB7CiEgICAgICAgICAgICAgZm9yZWNvbG9yID0gc2FmZW1hbGxvYyhs
ZW4rMSk7CiEgICAgICAgICAgICAgc3RybmNweShmb3JlY29sb3IscmVzdG9mbGluZSxsZW4p
OwohICAgICAgICAgICAgIGZvcmVjb2xvcltsZW5dID0gMDsKISAgICAgICAgICAgICBvZmZf
ZmxhZ3MgfD0gRk9SRV9DT0xPUl9GTEFHOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAog
ICAgICAgICAgICB3aGlsZShpc3NwYWNlKCp0bXApKXRtcCsrOwotLS0gMTc1LDE4NCAtLS0t
CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYobGVuID4gMCkKICAgICAgICAgICAgewoh
ICAgICAgICAgICAgIHRuYW1lLkZvcmVDb2xvciA9IHNhZmVtYWxsb2MobGVuKzEpOwohICAg
ICAgICAgICAgIHN0cm5jcHkodG5hbWUuRm9yZUNvbG9yLHJlc3RvZmxpbmUsbGVuKTsKISAg
ICAgICAgICAgICB0bmFtZS5Gb3JlQ29sb3JbbGVuXSA9IDA7CiEgICAgICAgICAgICAgdG5h
bWUub2ZmX2ZsYWdzIHw9IEZPUkVfQ09MT1JfRkxBRzsKICAgICAgICAgICAgfQogICAgICAg
ICAgICAKICAgICAgICAgICAgd2hpbGUoaXNzcGFjZSgqdG1wKSl0bXArKzsKKioqKioqKioq
KioqKioqCioqKiAxNjcsMzM2ICoqKioKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg
aWYobGVuID4gMCkKICAgICAgICAgICAgICB7CiEgICAgICAgICAgICAgICBiYWNrY29sb3Ig
PSBzYWZlbWFsbG9jKGxlbisxKTsKISAgICAgICAgICAgICAgIHN0cm5jcHkoYmFja2NvbG9y
LHJlc3RvZmxpbmUsbGVuKTsKISAgICAgICAgICAgICAgIGJhY2tjb2xvcltsZW5dID0gMDsK
ISAgICAgICAgICAgICAgIG9mZl9mbGFncyB8PSBCQUNLX0NPTE9SX0ZMQUc7CiAgICAgICAg
ICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3RvZmxpbmUgPSB0bXA7CiAg
ICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwi
Q2lyY3VsYXRlU2tpcEljb24iLDE3KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVz
dG9mbGluZSArPTE3OwohICAgICAgICAgICBvZmZfZmxhZ3MgfD0gQ0lSQ1VMQVRFX1NLSVBf
SUNPTl9GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21w
KHJlc3RvZmxpbmUsIkNpcmN1bGF0ZUhpdEljb24iLDE2KT09MCkKICAgICAgICAgIHsKISAg
ICAgICAgICAgcmVzdG9mbGluZSArPTE2OwohICAgICAgICAgICBvbl9mbGFncyB8PSBDSVJD
VUxBVEVfU0tJUF9JQ09OX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKG15
c3RybmNhc2VjbXAocmVzdG9mbGluZSwiQ0xJQ0tUT0ZPQ1VTIiwxMik9PTApCiAgICAgICAg
ICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xMjsKISAgICAgICAgICAgb2ZmX2ZsYWdz
IHw9IENMSUNLX0ZPQ1VTX0ZMQUc7CiEgICAgICAgICAgIG9uX2ZsYWdzIHw9IFNMT1BQWV9G
T0NVU19GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21w
KHJlc3RvZmxpbmUsIkNpcmN1bGF0ZVNraXAiLDEzKT09MCkKICAgICAgICAgIHsKISAgICAg
ICAgICAgcmVzdG9mbGluZSArPTEzOwohICAgICAgICAgICBvZmZfZmxhZ3MgfD0gQ0lSQ1VM
QVRFU0tJUF9GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNl
Y21wKHJlc3RvZmxpbmUsIkNpcmN1bGF0ZUhpdCIsMTIpPT0wKQogICAgICAgICAgewohICAg
ICAgICAgICByZXN0b2ZsaW5lICs9MTI7CiEgICAgICAgICAgIG9uX2ZsYWdzIHw9IENJUkNV
TEFURVNLSVBfRkxBRzsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNh
c2UgJ2QnOgohICAgICAgICAgaWYobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJEZWNvcmF0
ZVRyYW5zaWVudCIsMTcpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5l
ICs9MTc7CiEgICAgICAgICAgIG9mZl9mbGFncyB8PSBERUNPUkFURV9UUkFOU0lFTlRfRkxB
RzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2FzZWNtcChyZXN0b2Zs
aW5lLCJEVU1CUExBQ0VNRU5UIiwxMyk9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJl
c3RvZmxpbmUgKz0xMzsKISAgICAgICAgICAgb25fZmxhZ3MgfD0gU01BUlRfUExBQ0VfRkxB
RzsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2UnOgogICAg
ICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZic6CiEgICAgICAgICBpZihteXN0cm5jYXNl
Y21wKHJlc3RvZmxpbmUsIkZPUkVDT0xPUiIsOSk9PTApCiAgICAgICAgICB7CiEgICAgICAg
ICAgIHJlc3RvZmxpbmUgKz05OwohICAgICAgICAgICB3aGlsZShpc3NwYWNlKCpyZXN0b2Zs
aW5lKSlyZXN0b2ZsaW5lKys7CiEgICAgICAgICAgIHRtcCA9IHJlc3RvZmxpbmU7CiEgICAg
ICAgICAgIGxlbiA9IDA7CiEgICAgICAgICAgIHdoaWxlKCh0bXAgIT0gTlVMTCkmJigqdG1w
ICE9IDApJiYoKnRtcCAhPSAnLCcpJiYKISAgICAgICAgICAgICAgICAgKCp0bXAgIT0gJ1xu
JykmJighaXNzcGFjZSgqdG1wKSkpCiEgICAgICAgICAgIHsKISAgICAgICAgICAgICB0bXAr
KzsKISAgICAgICAgICAgICBsZW4rKzsKISAgICAgICAgICAgfQogICAgICAgICAgICBpZihs
ZW4gPiAwKQogICAgICAgICAgICB7CiEgICAgICAgICAgICAgZm9yZWNvbG9yID0gc2FmZW1h
bGxvYyhsZW4rMSk7CiEgICAgICAgICAgICAgc3RybmNweShmb3JlY29sb3IscmVzdG9mbGlu
ZSxsZW4pOwohICAgICAgICAgICAgIGZvcmVjb2xvcltsZW5dID0gMDsKISAgICAgICAgICAg
ICBvZmZfZmxhZ3MgfD0gRk9SRV9DT0xPUl9GTEFHOwogICAgICAgICAgICB9CiAgICAgICAg
ICAgIHJlc3RvZmxpbmUgPSB0bXA7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKG15
c3RybmNhc2VjbXAocmVzdG9mbGluZSwiRlZXTUJVVFRPTlMiLDExKT09MCkKICAgICAgICAg
IHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTExOwohICAgICAgICAgICBvbl9mbGFncyB8
PSBNV01fQlVUVE9OX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKG15c3Ry
bmNhc2VjbXAocmVzdG9mbGluZSwiRlZXTUJPUkRFUiIsMTApPT0wKQogICAgICAgICAgewoh
ICAgICAgICAgICByZXN0b2ZsaW5lICs9MTA7CiEgICAgICAgICAgIG9uX2ZsYWdzIHw9IE1X
TV9CT1JERVJfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2Fz
ZWNtcChyZXN0b2ZsaW5lLCJGb2N1c0ZvbGxvd3NNb3VzZSIsMTcpPT0wKQogICAgICAgICAg
ewohICAgICAgICAgICByZXN0b2ZsaW5lICs9MTc7CiEgICAgICAgICAgIG9uX2ZsYWdzIHw9
IENMSUNLX0ZPQ1VTX0ZMQUc7CiEgICAgICAgICAgIG9uX2ZsYWdzIHw9IFNMT1BQWV9GT0NV
U19GTEFHOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZyc6
CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdoJzoKISAgICAgICAgIGlmKG15c3Ry
bmNhc2VjbXAocmVzdG9mbGluZSwiSElOVE9WRVJSSURFIiwxMik9PTApCiAgICAgICAgICB7
CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xMjsKISAgICAgICAgICAgb2ZmX2ZsYWdzIHw9
IE1XTV9PVkVSUklERV9GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0
cm5jYXNlY21wKHJlc3RvZmxpbmUsIkhBTkRMRVMiLDcpPT0wKQogICAgICAgICAgewohICAg
ICAgICAgICByZXN0b2ZsaW5lICs9NzsKISAgICAgICAgICAgb25fZmxhZ3MgfD0gTk9CT1JE
RVJfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2FzZWNtcChy
ZXN0b2ZsaW5lLCJIYW5kbGVXaWR0aCIsMTEpPT0wKQogICAgICAgICAgewohICAgICAgICAg
ICByZXN0b2ZsaW5lICs9MTE7CiEgICAgICAgICAgIG9mZl9mbGFncyB8PSBOT0JXX0ZMQUc7
CiEgICAgICAgICAgIHNzY2FuZihyZXN0b2ZsaW5lLCIlZCIsJm5vYncpOwohICAgICAgICAg
ICB3aGlsZShpc3NwYWNlKCpyZXN0b2ZsaW5lKSlyZXN0b2ZsaW5lKys7CiEgICAgICAgICAg
IHdoaWxlKCghaXNzcGFjZSgqcmVzdG9mbGluZSkpJiYoKnJlc3RvZmxpbmUhPSAwKSYmCiEg
ICAgICAgICAgICAgICAgICgqcmVzdG9mbGluZSAhPSAnLCcpJiYoKnJlc3RvZmxpbmUgIT0g
J1xuJykpCiEgICAgICAgICAgICAgcmVzdG9mbGluZSsrOwohICAgICAgICAgICB3aGlsZShp
c3NwYWNlKCpyZXN0b2ZsaW5lKSlyZXN0b2ZsaW5lKys7CiAgICAgICAgICB9CiAgICAgICAg
ICBicmVhazsKICAgICAgICBjYXNlICdpJzoKISAgICAgICAgIGlmKG15c3RybmNhc2VjbXAo
cmVzdG9mbGluZSwiSWNvblRpdGxlIiw5KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAg
b25fZmxhZ3MgfD0gTk9JQ09OX1RJVExFX0ZMQUc7CiEgICAgICAgICAgIHJlc3RvZmxpbmUg
Kz05OwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3Rv
ZmxpbmUsIkljb25Cb3giLDcpID09IDApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3Rv
ZmxpbmUgKz03OwohICAgICAgICAgICAvKiBTdGFuZGFyZCBYMTEgZ2VvbWV0cnkgc3RyaW5n
ICovCiEgICAgICAgICAgIG51bSA9IHNzY2FuZihyZXN0b2ZsaW5lLCIlZCVkJWQlZCIsJklj
b25Cb3hbMF0sICZJY29uQm94WzFdLAohICAgICAgICAgICAgICAgICAgICAgICAgJkljb25C
b3hbMl0sJkljb25Cb3hbM10pOwohICAgICAgICAgICBmb3IoaT0wO2k8bnVtO2krKykKISAg
ICAgICAgICAgewohICAgICAgICAgICAgIHdoaWxlKGlzc3BhY2UoKnJlc3RvZmxpbmUpKXJl
c3RvZmxpbmUrKzsKISAgICAgICAgICAgICBpZiAoKnJlc3RvZmxpbmUgPT0gJy0nKSB7ICAg
LyogSWYgbGVhZGluZyBtaW51cyBzaWduICovCiEgICAgICAgICAgICAgICBpZiAoaSA9PSAw
IHx8IGkgPT0gMikgeyAgIC8qIGlmIGEgd2lkdGggKi8KISAgICAgICAgICAgICAgICAgSWNv
bkJveFtpXSArPSBTY3IuTXlEaXNwbGF5V2lkdGg7CiEgICAgICAgICAgICAgICB9IGVsc2Ug
eyAgICAgICAgICAgICAgICAgIC8qIGl0IG11c3QgYmUgYSBoZWlnaHQgKi8KISAgICAgICAg
ICAgICAgICAgSWNvbkJveFtpXSArPSBTY3IuTXlEaXNwbGF5SGVpZ2h0OwohICAgICAgICAg
ICAgICAgfSAvKiBlbmQgd2lkdGgvaGVpZ2h0ICovCiEgICAgICAgICAgICAgfSAvKiBlbmQg
bGVhZGluZyBtaW51cyBzaWduICovCiEgICAgICAgICAgICAgd2hpbGUoKCFpc3NwYWNlKCpy
ZXN0b2ZsaW5lKSkmJigqcmVzdG9mbGluZSE9IDApJiYKISAgICAgICAgICAgICAgICAgICAo
KnJlc3RvZmxpbmUgIT0gJywnKSYmKCpyZXN0b2ZsaW5lICE9ICdcbicpKQohICAgICAgICAg
ICAgICAgcmVzdG9mbGluZSsrOwohICAgICAgICAgICB9CiEgICAgICAgICAgIGlmKG51bSAh
PTQpCiAgICAgICAgICAgICAgZnZ3bV9tc2coRVJSLCJQcm9jZXNzTmV3U3R5bGUiLAohICAg
ICAgICAgICAgICAgICAgICAgICJJY29uQm94IHN0eWxlIHJlcXVpcmVzIDQgYXJndW1lbnRz
ISIpOwohICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3Rv
ZmxpbmUsIklDT04iLDQpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5l
ICs9NDsKISAgICAgICAgICAgd2hpbGUoaXNzcGFjZSgqcmVzdG9mbGluZSkpcmVzdG9mbGlu
ZSsrOwohICAgICAgICAgICB0bXAgPSByZXN0b2ZsaW5lOwohICAgICAgICAgICBsZW4gPSAw
OwohICAgICAgICAgICB3aGlsZSgodG1wICE9IE5VTEwpJiYoKnRtcCAhPSAwKSYmKCp0bXAg
IT0gJywnKSYmKCp0bXAgIT0gJ1xuJykpCiEgICAgICAgICAgIHsKISAgICAgICAgICAgICB0
bXArKzsKISAgICAgICAgICAgICBsZW4rKzsKISAgICAgICAgICAgfQogICAgICAgICAgICBp
ZihsZW4gPiAwKQogICAgICAgICAgICB7CiEgICAgICAgICAgICAgaWNvbl9uYW1lID0gc2Fm
ZW1hbGxvYyhsZW4rMSk7CiEgICAgICAgICAgICAgc3RybmNweShpY29uX25hbWUscmVzdG9m
bGluZSxsZW4pOwohICAgICAgICAgICAgIGljb25fbmFtZVtsZW5dID0gMDsKISAgICAgICAg
ICAgICBvZmZfZmxhZ3MgfD0gSUNPTl9GTEFHOwohICAgICAgICAgICAgIG9uX2ZsYWdzIHw9
IFNVUFBSRVNTSUNPTl9GTEFHOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKISAg
ICAgICAgICAgICBvbl9mbGFncyB8PSBTVVBQUkVTU0lDT05fRkxBRzsJICAgIAogICAgICAg
ICAgICByZXN0b2ZsaW5lID0gdG1wOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7Ci0t
LSAxOTYsNDM0IC0tLS0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYobGVuID4g
MCkKICAgICAgICAgICAgICB7CiEgICAgICAgICAgICAgICB0bmFtZS5CYWNrQ29sb3IgPSBz
YWZlbWFsbG9jKGxlbisxKTsKISAgICAgICAgICAgICAgIHN0cm5jcHkodG5hbWUuQmFja0Nv
bG9yLHJlc3RvZmxpbmUsbGVuKTsKISAgICAgICAgICAgICAgIHRuYW1lLkJhY2tDb2xvclts
ZW5dID0gMDsKISAgICAgICAgICAgICAgIHRuYW1lLm9mZl9mbGFncyB8PSBCQUNLX0NPTE9S
X0ZMQUc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3Rv
ZmxpbmUgPSB0bXA7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIkNpcmN1
bGF0ZVNraXBJY29uIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIkNpcmN1bGF0
ZVNraXBJY29uIik7CiEgICAgICAgICAgIHRuYW1lLm9mZl9mbGFncyB8PSBDSVJDVUxBVEVf
U0tJUF9JQ09OX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIkNp
cmN1bGF0ZUhpdEljb24iKSkKICAgICAgICAgIHsKISAgICAgICAgICAgU0tJUCgiQ2lyY3Vs
YXRlSGl0SWNvbiIpOwohICAgICAgICAgICB0bmFtZS5vbl9mbGFncyB8PSBDSVJDVUxBVEVf
U0tJUF9JQ09OX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIkNM
SUNLVE9GT0NVUyIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJDTElDS1RPRk9D
VVMiKTsKISAgICAgICAgICAgdG5hbWUub2ZmX2ZsYWdzIHw9IENMSUNLX0ZPQ1VTX0ZMQUc7
CiEgICAgICAgICAgIHRuYW1lLm9uX2ZsYWdzIHw9IFNMT1BQWV9GT0NVU19GTEFHOwogICAg
ICAgICAgfQohICAgICAgICAgZWxzZSBpZihJVElTKCJDaXJjdWxhdGVTa2lwIikpCiAgICAg
ICAgICB7CiEgICAgICAgICAgIFNLSVAoIkNpcmN1bGF0ZVNraXAiKTsKISAgICAgICAgICAg
dG5hbWUub2ZmX2ZsYWdzIHw9IENJUkNVTEFURVNLSVBfRkxBRzsKICAgICAgICAgIH0KISAg
ICAgICAgIGVsc2UgaWYoSVRJUygiQ2lyY3VsYXRlSGl0IikpCiAgICAgICAgICB7CiEgICAg
ICAgICAgIFNLSVAoIkNpcmN1bGF0ZUhpdCIpOwohICAgICAgICAgICB0bmFtZS5vbl9mbGFn
cyB8PSBDSVJDVUxBVEVTS0lQX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsK
ICAgICAgICBjYXNlICdkJzoKISAgICAgICAgIGlmKElUSVMoIkRlY29yYXRlVHJhbnNpZW50
IikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIkRlY29yYXRlVHJhbnNpZW50Iik7
CiEgICAgICAgICAgIHRuYW1lLm9mZl9mbGFncyB8PSBERUNPUkFURV9UUkFOU0lFTlRfRkxB
RzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYoSVRJUygiRFVNQlBMQUNFTUVOVCIp
KQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJEVU1CUExBQ0VNRU5UIik7CiEgICAg
ICAgICAgIHRuYW1lLm9uX2ZsYWdzIHw9IFNNQVJUX1BMQUNFX0ZMQUc7CiAgICAgICAgICB9
CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdlJzoKICAgICAgICAgIGJyZWFrOwog
ICAgICAgIGNhc2UgJ2YnOgohICAgICAgICAgaWYoSVRJUygiRk9SRUNPTE9SIikpCiAgICAg
ICAgICB7CiEgICAgICAgICAgIFNLSVAoIkZPUkVDT0xPUiIpOwohICAgICAgICAgICBHRVRX
T1JEOwogICAgICAgICAgICBpZihsZW4gPiAwKQogICAgICAgICAgICB7CiEgICAgICAgICAg
ICAgdG5hbWUuRm9yZUNvbG9yID0gc2FmZW1hbGxvYyhsZW4rMSk7CiEgICAgICAgICAgICAg
c3RybmNweSh0bmFtZS5Gb3JlQ29sb3IscmVzdG9mbGluZSxsZW4pOwohICAgICAgICAgICAg
IHRuYW1lLkZvcmVDb2xvcltsZW5dID0gMDsKISAgICAgICAgICAgICB0bmFtZS5vZmZfZmxh
Z3MgfD0gRk9SRV9DT0xPUl9GTEFHOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3Rv
ZmxpbmUgPSB0bXA7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIkZWV01C
VVRUT05TIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIkZWV01CVVRUT05TIik7
CiEgICAgICAgICAgIHRuYW1lLm9uX2ZsYWdzIHw9IE1XTV9CVVRUT05fRkxBRzsKICAgICAg
ICAgIH0KISAgICAgICAgIGVsc2UgaWYoSVRJUygiRlZXTUJPUkRFUiIpKQogICAgICAgICAg
ewohICAgICAgICAgICBTS0lQKCJGVldNQk9SREVSIik7CiEgICAgICAgICAgIHRuYW1lLm9u
X2ZsYWdzIHw9IE1XTV9CT1JERVJfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2Ug
aWYoSVRJUygiRm9jdXNGb2xsb3dzTW91c2UiKSkKICAgICAgICAgIHsKISAgICAgICAgICAg
U0tJUCgiRm9jdXNGb2xsb3dzTW91c2UiKTsKISAgICAgICAgICAgdG5hbWUub25fZmxhZ3Mg
fD0gQ0xJQ0tfRk9DVVNfRkxBRzsKISAgICAgICAgICAgdG5hbWUub25fZmxhZ3MgfD0gU0xP
UFBZX0ZPQ1VTX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBj
YXNlICdnJzoKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2gnOgohICAgICAgICAg
aWYoSVRJUygiSElOVE9WRVJSSURFIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAo
IkhJTlRPVkVSUklERSIpOwohICAgICAgICAgICB0bmFtZS5vZmZfZmxhZ3MgfD0gTVdNX09W
RVJSSURFX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIkhBTkRM
RVMiKSkKICAgICAgICAgIHsKISAgICAgICAgICAgU0tJUCgiSEFORExFUyIpOwohICAgICAg
ICAgICB0bmFtZS5vbl9mbGFncyB8PSBOT0JPUkRFUl9GTEFHOwogICAgICAgICAgfQohICAg
ICAgICAgZWxzZSBpZihJVElTKCJIYW5kbGVXaWR0aCIpKQogICAgICAgICAgewohICAgICAg
ICAgICBTS0lQKCJIYW5kbGVXaWR0aCIpOwohICAgICAgICAgICB0bmFtZS5vZmZfZmxhZ3Mg
fD0gTk9CV19GTEFHOwohICAgICAgICAgICBzc2NhbmYocmVzdG9mbGluZSwiJWQiLCZ0bmFt
ZS5yZXNpemVfd2lkdGgpOwohICAgICAgICAgICBHRVRXT1JEOwohICAgICAgICAgICByZXN0
b2ZsaW5lID0gdG1wOwohICAgICAgICAgICBTS0lQU1BBQ0U7CiAgICAgICAgICB9CiAgICAg
ICAgICBicmVhazsKICAgICAgICBjYXNlICdpJzoKISAgICAgICAgIGlmKElUSVMoIkljb25U
aXRsZSIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJJY29uVGl0bGUiKTsKISAg
ICAgICAgICAgdG5hbWUub25fZmxhZ3MgfD0gTk9JQ09OX1RJVExFX0ZMQUc7CiAgICAgICAg
ICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIkljb25Cb3giKSkKICAgICAgICAgIHsKISAg
ICAgICAgICAgaWNvbl9ib3hlcyAqSWNvbkJveGVzID0gMDsKISAgICAgICAgICAgU0tJUCgi
SWNvbkJveCIpOyAgICAgICAgICAgICAgLyogU2tpcCBvdmVyIHdvcmQgIkljb25Cb3giICov
CiEgICAgICAgICAgIEljb25Cb3hlcyA9IChpY29uX2JveGVzICopc2FmZW1hbGxvYyhzaXpl
b2YoaWNvbl9ib3hlcykpOwohICAgICAgICAgICBtZW1zZXQoSWNvbkJveGVzLCAwLCBzaXpl
b2YoaWNvbl9ib3hlcykpOyAvKiBjbGVhciBpdCAqLwohICAgICAgICAgICBJY29uQm94ZXMt
Pkljb25HcmlkWzBdID0gMzsgICAvKiBpbml0IGdyaWQgeCAqLwohICAgICAgICAgICBJY29u
Qm94ZXMtPkljb25HcmlkWzFdID0gMzsgICAvKiBpbml0IGdyaWQgeSAqLwohICAgICAgICAg
ICAvKiB0cnkgZm9yIDQgbnVtYmVycyB4IHkgeCB5ICovCiEgICAgICAgICAgIG51bSA9IHNz
Y2FuZihyZXN0b2ZsaW5lLCIlZCVkJWQlZCIsCiEgICAgICAgICAgICAgICAgICAgICAgICAm
SWNvbkJveGVzLT5JY29uQm94WzBdLAohICAgICAgICAgICAgICAgICAgICAgICAgJkljb25C
b3hlcy0+SWNvbkJveFsxXSwKISAgICAgICAgICAgICAgICAgICAgICAgICZJY29uQm94ZXMt
Pkljb25Cb3hbMl0sCiEgICAgICAgICAgICAgICAgICAgICAgICAmSWNvbkJveGVzLT5JY29u
Qm94WzNdKTsKISAgICAgICAgICAgaWYgKG51bSA9PSA0KSB7ICAgICAgICAgICAgICAgLyog
aWYgNCBudW1iZXJzICovCiEgICAgICAgICAgICAgZm9yKGk9MDtpPG51bTtpKyspIHsKISAg
ICAgICAgICAgICAgIFNLSVBTUEFDRTsKISAgICAgICAgICAgICAgIGlmICgqcmVzdG9mbGlu
ZSA9PSAnLScpIHsgLyogSWYgbGVhZGluZyBtaW51cyBzaWduICovCiEgICAgICAgICAgICAg
ICAgIGlmIChpID09IDAgfHwgaSA9PSAyKSB7IC8qIGlmIGEgd2lkdGggKi8KISAgICAgICAg
ICAgICAgICAgICBJY29uQm94ZXMtPkljb25Cb3hbaV0gKz0gU2NyLk15RGlzcGxheVdpZHRo
OwohICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgIC8qIGl0IG11
c3QgYmUgYSBoZWlnaHQgKi8KISAgICAgICAgICAgICAgICAgICBJY29uQm94ZXMtPkljb25C
b3hbaV0gKz0gU2NyLk15RGlzcGxheUhlaWdodDsKISAgICAgICAgICAgICAgICAgfSAvKiBl
bmQgd2lkdGgvaGVpZ2h0ICovCiEgICAgICAgICAgICAgICB9IC8qIGVuZCBsZWFkaW5nIG1p
bnVzIHNpZ24gKi8KISAgICAgICAgICAgICAgIHdoaWxlKCghaXNzcGFjZSgqcmVzdG9mbGlu
ZSkpJiYoKnJlc3RvZmxpbmUhPSAwKSYmCiEgICAgICAgICAgICAgICAgICAgICAoKnJlc3Rv
ZmxpbmUgIT0gJywnKSYmKCpyZXN0b2ZsaW5lICE9ICdcbicpKQohICAgICAgICAgICAgICAg
ICByZXN0b2ZsaW5lKys7CiEgICAgICAgICAgICAgfQohICAgICAgICAgICAgIC8qIE5vdGU6
IGhlcmUgdGhlcmUgaXMgbm8gdGVzdCBmb3IgdmFsaWQgY28tb3JkcywgdXNlIGdlb20gKi8K
ISAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgLyogTm90IDQgbnVt
ZXJpYyBhcmdzIGRqZSAqLwohICAgICAgICAgICAgIGNoYXIgZ2VvbV9zdHJpbmdbMjVdOyAg
ICAgLyogYmlnZ2VyIHRoYW4gPTMyNzY3eDMyNzY3KzMyNzY3KzMyNzY3ICovCiEgICAgICAg
ICAgICAgaW50IGdlb21fZmxhZ3M7CiEgICAgICAgICAgICAgR0VUV09SRDsgICAgICAgICAg
ICAgICAgICAgIC8qIHJlYWQgaW4gMSB3b3JkIHcvbyBhZHZhbmNpbmcgKi8KISAgICAgICAg
ICAgICBpZihsZW4gPiAwICYmIGxlbiA8IDI0KSB7ICAgLyogaWYgd29yZCBmb3VuZCwgbm90
IHRvbyBsb25nICovCiEgICAgICAgICAgICAgICBzdHJuY3B5KGdlb21fc3RyaW5nLHJlc3Rv
ZmxpbmUsbGVuKTsgLyogY29weSBhbmQgbnVsbCB0ZXJtICovCiEgICAgICAgICAgICAgICBn
ZW9tX3N0cmluZ1tsZW5dID0gMDsgICAgIC8qIG51bGwgdGVybWluYXRlIGl0ICovCiEgICAg
ICAgICAgICAgICBnZW9tX2ZsYWdzPVhQYXJzZUdlb21ldHJ5KGdlb21fc3RyaW5nLAohICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmSWNvbkJveGVzLT5JY29u
Qm94WzBdLAohICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmSWNv
bkJveGVzLT5JY29uQm94WzFdLCAvKiB4L3kgKi8KISAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgJkljb25Cb3hlcy0+SWNvbkJveFsyXSwKISAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJkljb25Cb3hlcy0+SWNvbkJveFszXSk7
IC8qIHdpZHRoL2h0ICovCiEgICAgICAgICAgICAgICBpZiAoSWNvbkJveGVzLT5JY29uQm94
WzJdID09IDApIHsgLyogemVybyB3aWR0aCBpbmQgaW52YWxpZCAqLwohICAgICAgICAgICAg
ICAgICBmdndtX21zZyhFUlIsIlByb2Nlc3NOZXdTdHlsZSIsCiEgICAgICAgICAgICAgICAg
ICJJY29uQm94IHJlcXVpcmVzIDQgbnVtYmVycyBvciBnZW9tZXRyeSEgSW52YWxpZCBzdHJp
bmcgPCVzPi4iLAohICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tX3N0cmluZyk7CiEg
ICAgICAgICAgICAgICAgIGZyZWUoSWNvbkJveGVzKTsgICAgICAgIC8qIERyb3AgdGhlIGJv
eCAqLwohICAgICAgICAgICAgICAgICBJY29uQm94ZXMgPSAwOyAgICAgICAgICAvKiBmb3Jn
ZXQgYWJvdXQgaXQgKi8KISAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAg
ICAgLyogZ290IHZhbGlkIGljb25ib3ggZ2VvbSAqLwohICAgICAgICAgICAgICAgICBpZiAo
Z2VvbV9mbGFncyZYTmVnYXRpdmUpIHsKISAgICAgICAgICAgICAgICAgICBJY29uQm94ZXMt
Pkljb25Cb3hbMF0gPSBTY3IuTXlEaXNwbGF5V2lkdGggLyogc2NyZWVuIHdpZHRoICovCiEg
ICAgICAgICAgICAgICAgICAgICArIEljb25Cb3hlcy0+SWNvbkJveFswXSAvKiBuZWcgeCBj
b29yZCAqLwohICAgICAgICAgICAgICAgICAgICAgLSBJY29uQm94ZXMtPkljb25Cb3hbMl0g
LTI7IC8qIHdpZHRoIC0gMiAqLwohICAgICAgICAgICAgICAgICB9CiEgICAgICAgICAgICAg
ICAgIGlmIChnZW9tX2ZsYWdzJllOZWdhdGl2ZSkgewohICAgICAgICAgICAgICAgICAgIElj
b25Cb3hlcy0+SWNvbkJveFsxXSA9IFNjci5NeURpc3BsYXlIZWlnaHQgLyogc2NyIGhlaWdo
dCAqLwohICAgICAgICAgICAgICAgICAgICAgKyBJY29uQm94ZXMtPkljb25Cb3hbMV0gLyog
bmVnIHkgY29vcmQgKi8KISAgICAgICAgICAgICAgICAgICAgIC0gSWNvbkJveGVzLT5JY29u
Qm94WzNdIC0yOyAvKiBoZWlnaHQgLSAyICovCiEgICAgICAgICAgICAgICAgIH0KISAgICAg
ICAgICAgICAgICAgSWNvbkJveGVzLT5JY29uQm94WzJdICs9CiEgICAgICAgICAgICAgICAg
ICAgSWNvbkJveGVzLT5JY29uQm94WzBdOyAvKiB4ICsgd2lkID0gcmlnaHQgeCAqLwohICAg
ICAgICAgICAgICAgICBJY29uQm94ZXMtPkljb25Cb3hbM10gKz0KISAgICAgICAgICAgICAg
ICAgICBJY29uQm94ZXMtPkljb25Cb3hbMV07IC8qIHkgKyBoZWlnaHQgPSBib3R0b20geSAq
LwohICAgICAgICAgICAgICAgfSAvKiBlbmQgaWNvbiBnZW9tIHdvcmtlZCAqLwohICAgICAg
ICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAvKiBubyB3b3JkIG9yIHRvbyBs
b25nICovCiEgICAgICAgICAgICAgICBmdndtX21zZyhFUlIsIlByb2Nlc3NOZXdTdHlsZSIs
CiEgICAgICAgICAgICAgICAgICAgICAgICAiSWNvbkJveCByZXF1aXJlcyA0IG51bWJlcnMg
b3IgZ2VvbWV0cnkhIFRvbyBsb25nICglZCkuIiwKISAgICAgICAgICAgICAgICAgICAgICAg
IGxlbik7CiEgICAgICAgICAgICAgICBmcmVlKEljb25Cb3hlcyk7ICAgICAgICAgIC8qIERy
b3AgdGhlIGJveCAqLwohICAgICAgICAgICAgICAgSWNvbkJveGVzID0gMDsgICAgICAgICAg
ICAvKiBmb3JnZXQgYWJvdXQgaXQgKi8KISAgICAgICAgICAgICB9IC8qIGVuZCB3b3JkIGZv
dW5kLCBub3QgdG9vIGxvbmcgKi8KISAgICAgICAgICAgICByZXN0b2ZsaW5lID0gdG1wOyAg
ICAgICAgICAgLyogZ290IHdvcmQsIG1vdmUgcGFzdCBpdCAqLwohICAgICAgICAgICB9IC8q
IGVuZCBub3QgNCBhcmdzICovCiEgICAgICAgICAgIC8qIElmIHdlIGNyZWF0ZWQgYW4gSWNv
bkJveCwgcHV0IGl0IGluIHRoZSBjaGFpbi4gKi8KISAgICAgICAgICAgaWYgKEljb25Cb3hl
cyAhPSAwKSB7ICAgICAgICAgLyogSWYgbm8gZXJyb3IgKi8KISAgICAgICAgICAgICBpZiAo
dG5hbWUuSWNvbkJveGVzID09IDApIHsgLyogSWYgZmlyc3Qgb25lICovCiEgICAgICAgICAg
ICAgICB0bmFtZS5JY29uQm94ZXMgPSBJY29uQm94ZXM7IC8qIGNoYWluIHRvIHJvb3QgKi8K
ISAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgLyogZWxzZSBub3Qg
Zmlyc3Qgb25lICovCiEgICAgICAgICAgICAgICB3aGljaC0+bmV4dCA9IEljb25Cb3hlczsg
IC8qIGFkZCB0byBlbmQgb2YgY2hhaW4gKi8KISAgICAgICAgICAgICB9IC8qIGVuZCBub3Qg
Zmlyc3Qgb25lICovCiEgICAgICAgICAgICAgd2hpY2ggPSBJY29uQm94ZXM7ICAgICAgICAg
IC8qIG5ldyBjdXJyZW50IGJveC4gc2F2ZSBmb3IgZ3JpZCAqLwohICAgICAgICAgICB9IC8q
IGVuZCBubyBlcnJvciAqLwohICAgICAgICAgfSAvKiBlbmQgaWNvbmJveCBwYXJhbWV0ZXIg
Ki8KISAgICAgICAgIGVsc2UgaWYoSVRJUygiSUNPTkdSSUQiKSkKISAgICAgICAgIHsKISAg
ICAgICAgICAgU0tJUCgiSUNPTkdSSUQiKTsKISAgICAgICAgICAgU0tJUFNQQUNFOyAgICAg
ICAgICAgICAgICAgICAgLyogc2tpcCB3aGl0ZXNwYWNlIGFmdGVyIGtleXdvcmQgKi8KISAg
ICAgICAgICAgLyogVGhlIGdyaWQgYWx3YXlzIGFmZmVjdHMgdGhlIHByaW9yIGljb25ib3gg
Ki8KISAgICAgICAgICAgaWYgKHdoaWNoID09IDApIHsgICAgICAgICAgICAgLyogSWYgbm8g
Y3VycmVudCBib3ggKi8KICAgICAgICAgICAgICBmdndtX21zZyhFUlIsIlByb2Nlc3NOZXdT
dHlsZSIsCiEgICAgICAgICAgICAgICAgICAgICAgICAiSWNvbkdyaWQgbXVzdCBmb2xsb3cg
YW4gSWNvbkJveCBpbiBzYW1lIFN0eWxlIGNvbW1hbmQiKTsKISAgICAgICAgICAgfSBlbHNl
IHsgICAgICAgICAgICAgICAgICAgICAgLyogaGF2ZSBhIHBsYWNlIHRvIGdyaWQgKi8KISAg
ICAgICAgICAgICBudW0gPSBzc2NhbmYocmVzdG9mbGluZSwiJWhkJWhkIiwgLyogMiBzaG9y
dHMgKi8KISAgICAgICAgICAgICAgICAgICAgICAgICAgJndoaWNoLT5JY29uR3JpZFswXSwK
ISAgICAgICAgICAgICAgICAgICAgICAgICAgJndoaWNoLT5JY29uR3JpZFsxXSk7CiEgICAg
ICAgICAgICAgaWYgKG51bSAhPSAyIAohICAgICAgICAgICAgICAgICB8fCB3aGljaC0+SWNv
bkdyaWRbMF0gPCAxCiEgICAgICAgICAgICAgICAgIHx8IHdoaWNoLT5JY29uR3JpZFsxXSA8
IDEpIHsKISAgICAgICAgICAgICAgIGZ2d21fbXNnKEVSUiwiUHJvY2Vzc05ld1N0eWxlIiwK
ISAgICAgICAgICAgICAgICAgIkljb25HcmlkIG5lZWRzIDIgbnVtYmVycyA+IDAuIEdvdCAl
ZCBudW1iZXJzLiB4PSVkIHk9JWQhIiwKISAgICAgICAgICAgICAgICAgICAgICAgIG51bSwg
KGludCl3aGljaC0+SWNvbkdyaWRbMF0sIChpbnQpd2hpY2gtPkljb25HcmlkWzFdKTsKISAg
ICAgICAgICAgICAgIHdoaWNoLT5JY29uR3JpZFswXSA9IDM7ICAgLyogcmVzZXQgZ3JpZCB4
ICovCiEgICAgICAgICAgICAgICB3aGljaC0+SWNvbkdyaWRbMV0gPSAzOyAgIC8qIHJlc2V0
IGdyaWQgeSAqLwohICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAv
KiBpdCB3b3JrZWQgKi8KISAgICAgICAgICAgICAgIEdFVFdPUkQ7ICAgICAgICAgICAgICAg
ICAgLyogc3dhbGxvdyB3b3JkICovCiEgICAgICAgICAgICAgICByZXN0b2ZsaW5lID0gdG1w
OwohICAgICAgICAgICAgICAgR0VUV09SRDsgICAgICAgICAgICAgICAgICAvKiBzd2FsbG93
IHdvcmQgKi8KISAgICAgICAgICAgICAgIHJlc3RvZmxpbmUgPSB0bXA7CiEgICAgICAgICAg
ICAgfSAvKiBlbmQgYmFkIGdyaWQgKi8KISAgICAgICAgICAgfSAvKiBlbmQgcGxhY2UgdG8g
Z3JpZCAqLwohICAgICAgICAgfSAvKiBlbmQgaWNvbmdyaWQgKi8KISAgICAgICAgIGVsc2Ug
aWYoSVRJUygiSUNPTiIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJJQ09OIik7
CiEgICAgICAgICAgIEdFVFdPUkQ7CiAgICAgICAgICAgIGlmKGxlbiA+IDApCiAgICAgICAg
ICAgIHsKISAgICAgICAgICAgICB0bmFtZS52YWx1ZSA9IHNhZmVtYWxsb2MobGVuKzEpOwoh
ICAgICAgICAgICAgIHN0cm5jcHkodG5hbWUudmFsdWUscmVzdG9mbGluZSxsZW4pOwohICAg
ICAgICAgICAgIHRuYW1lLnZhbHVlW2xlbl0gPSAwOwohICAgICAgICAgICAgIHRuYW1lLm9m
Zl9mbGFncyB8PSBJQ09OX0ZMQUc7CiEgICAgICAgICAgICAgdG5hbWUub25fZmxhZ3MgfD0g
U1VQUFJFU1NJQ09OX0ZMQUc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQohICAg
ICAgICAgICAgIHRuYW1lLm9uX2ZsYWdzIHw9IFNVUFBSRVNTSUNPTl9GTEFHOwkgICAgCiAg
ICAgICAgICAgIHJlc3RvZmxpbmUgPSB0bXA7CiAgICAgICAgICB9CiAgICAgICAgICBicmVh
azsKKioqKioqKioqKioqKioqCioqKiAzMzksNDc3ICoqKioKICAgICAgICBjYXNlICdrJzoK
ICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2wnOgohICAgICAgICAgaWYobXlzdHJu
Y2FzZWNtcChyZXN0b2ZsaW5lLCJMRU5JRU5DRSIsOCk9PTApCiAgICAgICAgICB7CiEgICAg
ICAgICAgIHJlc3RvZmxpbmUgKz0gODsKISAgICAgICAgICAgb2ZmX2ZsYWdzIHw9IExFTklF
TkNFX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdt
JzoKISAgICAgICAgIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTVdNQlVUVE9OUyIs
MTApPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9MTA7CiEgICAg
ICAgICAgIG9mZl9mbGFncyB8PSBNV01fQlVUVE9OX0ZMQUc7CiAgICAgICAgICB9CiAgI2lm
ZGVmIE1JTklfSUNPTlMKISAJZWxzZSBpZiAobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJN
SU5JSUNPTiIsIDgpID09IDApCiAgCXsKISAJICByZXN0b2ZsaW5lICs9IDg7CiEgCSAgd2hp
bGUgKGlzc3BhY2UgKCpyZXN0b2ZsaW5lKSkgcmVzdG9mbGluZSsrOwohIAkgIHRtcCA9IHJl
c3RvZmxpbmU7CiEgCSAgbGVuID0gMDsKISAJICB3aGlsZSgodG1wICE9IE5VTEwpJiYoKnRt
cCAhPSAwKSYmKCp0bXAgIT0gJywnKSYmKCp0bXAgIT0gJ1xuJykpCiEgICAgICAgICAgIHsK
ISAgICAgICAgICAgICB0bXArKzsKISAgICAgICAgICAgICBsZW4rKzsKISAgICAgICAgICAg
fQogICAgICAgICAgICBpZihsZW4gPiAwKQogICAgICAgICAgICB7CiEgICAgICAgICAgICAg
bWluaWljb25fbmFtZSA9IHNhZmVtYWxsb2MobGVuKzEpOwohICAgICAgICAgICAgIHN0cm5j
cHkobWluaWljb25fbmFtZSxyZXN0b2ZsaW5lLGxlbik7CiEgICAgICAgICAgICAgbWluaWlj
b25fbmFtZVtsZW5dID0gMDsKISAgICAgICAgICAgICBvZmZfZmxhZ3MgfD0gTUlOSUlDT05f
RkxBRzsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXN0b2ZsaW5lID0gdG1wOwogIAl9
CiAgI2VuZGlmCiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwi
TVdNQk9SREVSIiw5KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSAr
PTk7CiEgICAgICAgICAgIG9mZl9mbGFncyB8PSBNV01fQk9SREVSX0ZMQUc7CiAgICAgICAg
ICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTVdNREVD
T1IiLDgpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9ODsKISAg
ICAgICAgICAgb2ZmX2ZsYWdzIHw9IE1XTV9ERUNPUl9GTEFHOwogICAgICAgICAgfQohICAg
ICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxpbmUsIk1XTUZVTkNUSU9OUyIs
MTIpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9MTI7CiEgICAg
ICAgICAgIG9mZl9mbGFncyB8PSBNV01fRlVOQ1RJT05TX0ZMQUc7CiAgICAgICAgICB9CiEg
ICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTU9VU0VGT0NVUyIs
MTApPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9MTA7CiEgICAg
ICAgICAgIG9uX2ZsYWdzIHw9IENMSUNLX0ZPQ1VTX0ZMQUc7CiEgICAgICAgICAgIG9uX2Zs
YWdzIHw9IFNMT1BQWV9GT0NVU19GTEFHOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7
CiAgICAgICAgY2FzZSAnbic6CiEgICAgICAgICBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxp
bmUsIk5vSWNvblRpdGxlIiwxMSk9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIG9mZl9m
bGFncyB8PSBOT0lDT05fVElUTEVfRkxBRzsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTEx
OwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxp
bmUsIk5PSUNPTiIsNik9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUg
Kz02OwohICAgICAgICAgICBvZmZfZmxhZ3MgfD0gU1VQUFJFU1NJQ09OX0ZMQUc7CiAgICAg
ICAgICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTk9U
SVRMRSIsNyk9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz03Owoh
ICAgICAgICAgICBvZmZfZmxhZ3MgfD0gTk9USVRMRV9GTEFHOwogICAgICAgICAgfQohICAg
ICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxpbmUsIk5vUFBvc2l0aW9uIiwx
MSk9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xMTsKISAgICAg
ICAgICAgb2ZmX2ZsYWdzIHw9IE5PX1BQT1NJVElPTl9GTEFHOwogICAgICAgICAgfQohICAg
ICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxpbmUsIk5ha2VkVHJhbnNpZW50
IiwxNCk9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xNDsKISAg
ICAgICAgICAgb25fZmxhZ3MgfD0gREVDT1JBVEVfVFJBTlNJRU5UX0ZMQUc7CiAgICAgICAg
ICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTk9ERUNP
UkhJTlQiLDExKT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTEx
OwohICAgICAgICAgICBvbl9mbGFncyB8PSBNV01fREVDT1JfRkxBRzsKICAgICAgICAgIH0K
ISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJOT0ZVTkNISU5U
IiwxMCk9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xMDsKISAg
ICAgICAgICAgb25fZmxhZ3MgfD0gTVdNX0ZVTkNUSU9OU19GTEFHOwogICAgICAgICAgfQoh
ICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxpbmUsIk5PT1ZFUlJJREUi
LDEwKT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTEwOwohICAg
ICAgICAgICBvbl9mbGFncyB8PSBNV01fT1ZFUlJJREVfRkxBRzsKICAgICAgICAgIH0KISAg
ICAgICAgIGVsc2UgaWYobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJOT0hBTkRMRVMiLDkp
PT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9OTsKISAgICAgICAg
ICAgb2ZmX2ZsYWdzIHw9IE5PQk9SREVSX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBl
bHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTk9MRU5JRU5DRSIsMTApPT0wKQog
ICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9IDEwOwohICAgICAgICAgICBv
bl9mbGFncyB8PSBMRU5JRU5DRV9GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBp
ZiAobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJOT0JVVFRPTiIsOCk9PTApCiAgICAgICAg
ICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz04OwogIAkgIAogICAgICAgICAgICBzc2Nh
bmYocmVzdG9mbGluZSwiJWQiLCZidXR0KTsKISAgICAgICAgICAgd2hpbGUoaXNzcGFjZSgq
cmVzdG9mbGluZSkpcmVzdG9mbGluZSsrOwohICAgICAgICAgICB3aGlsZSgoIWlzc3BhY2Uo
KnJlc3RvZmxpbmUpKSYmKCpyZXN0b2ZsaW5lIT0gMCkmJgohICAgICAgICAgICAgICAgICAo
KnJlc3RvZmxpbmUgIT0gJywnKSYmKCpyZXN0b2ZsaW5lICE9ICdcbicpKQohICAgICAgICAg
ICAgIHJlc3RvZmxpbmUrKzsKISAgICAgICAgICAgd2hpbGUoaXNzcGFjZSgqcmVzdG9mbGlu
ZSkpcmVzdG9mbGluZSsrOwogIAkgIAogICAgICAgICAgICBpZiAoYnV0dCA9PSAwKSBidXR0
ID0gMTA7CiAgICAgICAgICAgIGlmIChidXR0ID4gMCAmJiBidXR0IDw9IDEwKQohICAgICAg
ICAgICAgIG9mZl9idXR0b25zIHw9ICgxPDwoYnV0dC0xKSk7CiAgICAgICAgICB9CiEgICAg
ICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiTk9PTERFQ09SIiw5KT09
MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPSA5OwohICAgICAgICAg
ICBvbl9mbGFncyB8PSBPTF9ERUNPUl9GTEFHOwogICAgICAgICAgfQogICAgICAgICAgYnJl
YWs7CiAgICAgICAgY2FzZSAnbyc6CiEgICAgICAgICBpZihteXN0cm5jYXNlY21wKHJlc3Rv
ZmxpbmUsIk9MREVDT1IiLDcpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2Zs
aW5lICs9IDc7CiEgICAgICAgICAgIG9mZl9mbGFncyB8PSBPTF9ERUNPUl9GTEFHOwogICAg
ICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncCc6Ci0tLSA0MzcsNTY2
IC0tLS0KICAgICAgICBjYXNlICdrJzoKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2Ug
J2wnOgohICAgICAgICAgaWYoSVRJUygiTEVOSUVOQ0UiKSkKICAgICAgICAgIHsKISAgICAg
ICAgICAgU0tJUCgiTEVOSUVOQ0UiKTsKISAgICAgICAgICAgdG5hbWUub2ZmX2ZsYWdzIHw9
IExFTklFTkNFX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBj
YXNlICdtJzoKISAgICAgICAgIGlmKElUSVMoIk1XTUJVVFRPTlMiKSkKICAgICAgICAgIHsK
ISAgICAgICAgICAgU0tJUCgiTVdNQlVUVE9OUyIpOwohICAgICAgICAgICB0bmFtZS5vZmZf
ZmxhZ3MgfD0gTVdNX0JVVFRPTl9GTEFHOwogICAgICAgICAgfQogICNpZmRlZiBNSU5JX0lD
T05TCiEgCWVsc2UgaWYgKElUSVMoIk1JTklJQ09OIikpCiAgCXsKISAgICAgICAgICAgU0tJ
UCgiTUlOSUlDT04iKTsKISAgICAgICAgICAgR0VUV09SRDsKICAgICAgICAgICAgaWYobGVu
ID4gMCkKICAgICAgICAgICAgewohICAgICAgICAgICAgIHRuYW1lLm1pbmlfdmFsdWUgPSBz
YWZlbWFsbG9jKGxlbisxKTsKISAgICAgICAgICAgICBzdHJuY3B5KHRuYW1lLm1pbmlfdmFs
dWUscmVzdG9mbGluZSxsZW4pOwohICAgICAgICAgICAgIHRuYW1lLm1pbmlfdmFsdWVbbGVu
XSA9IDA7CiEgICAgICAgICAgICAgdG5hbWUub2ZmX2ZsYWdzIHw9IE1JTklJQ09OX0ZMQUc7
CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdG9mbGluZSA9IHRtcDsKICAJfQogICNl
bmRpZgohICAgICAgICAgZWxzZSBpZihJVElTKCJNV01CT1JERVIiKSkKICAgICAgICAgIHsK
ISAgICAgICAgICAgU0tJUCgiTVdNQk9SREVSIik7CiEgICAgICAgICAgIHRuYW1lLm9mZl9m
bGFncyB8PSBNV01fQk9SREVSX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlm
KElUSVMoIk1XTURFQ09SIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIk1XTURF
Q09SIik7CiEgICAgICAgICAgIHRuYW1lLm9mZl9mbGFncyB8PSBNV01fREVDT1JfRkxBRzsK
ICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYoSVRJUygiTVdNRlVOQ1RJT05TIikpCiAg
ICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIk1XTUZVTkNUSU9OUyIpOwohICAgICAgICAg
ICB0bmFtZS5vZmZfZmxhZ3MgfD0gTVdNX0ZVTkNUSU9OU19GTEFHOwogICAgICAgICAgfQoh
ICAgICAgICAgZWxzZSBpZihJVElTKCJNT1VTRUZPQ1VTIikpCiAgICAgICAgICB7CiEgICAg
ICAgICAgIFNLSVAoIk1PVVNFRk9DVVMiKTsKISAgICAgICAgICAgdG5hbWUub25fZmxhZ3Mg
fD0gQ0xJQ0tfRk9DVVNfRkxBRzsKISAgICAgICAgICAgdG5hbWUub25fZmxhZ3MgfD0gU0xP
UFBZX0ZPQ1VTX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBj
YXNlICduJzoKISAgICAgICAgIGlmKElUSVMoIk5vSWNvblRpdGxlIikpCiAgICAgICAgICB7
CiEgICAgICAgICAgIFNLSVAoIk5vSWNvblRpdGxlIik7CiEgICAgICAgICAgIHRuYW1lLm9m
Zl9mbGFncyB8PSBOT0lDT05fVElUTEVfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVs
c2UgaWYoSVRJUygiTk9JQ09OIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIk5P
SUNPTiIpOwohICAgICAgICAgICB0bmFtZS5vZmZfZmxhZ3MgfD0gU1VQUFJFU1NJQ09OX0ZM
QUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIk5PVElUTEUiKSkKICAg
ICAgICAgIHsKISAgICAgICAgICAgU0tJUCgiTk9USVRMRSIpOwohICAgICAgICAgICB0bmFt
ZS5vZmZfZmxhZ3MgfD0gTk9USVRMRV9GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxz
ZSBpZihJVElTKCJOb1BQb3NpdGlvbiIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQ
KCJOb1BQb3NpdGlvbiIpOwohICAgICAgICAgICB0bmFtZS5vZmZfZmxhZ3MgfD0gTk9fUFBP
U0lUSU9OX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKElUSVMoIk5ha2Vk
VHJhbnNpZW50IikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIk5ha2VkVHJhbnNp
ZW50Iik7CiEgICAgICAgICAgIHRuYW1lLm9uX2ZsYWdzIHw9IERFQ09SQVRFX1RSQU5TSUVO
VF9GTEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihJVElTKCJOT0RFQ09SSElO
VCIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJOT0RFQ09SSElOVCIpOwohICAg
ICAgICAgICB0bmFtZS5vbl9mbGFncyB8PSBNV01fREVDT1JfRkxBRzsKICAgICAgICAgIH0K
ISAgICAgICAgIGVsc2UgaWYoSVRJUygiTk9GVU5DSElOVCIpKQogICAgICAgICAgewohICAg
ICAgICAgICBTS0lQKCJOT0ZVTkNISU5UIik7CiEgICAgICAgICAgIHRuYW1lLm9uX2ZsYWdz
IHw9IE1XTV9GVU5DVElPTlNfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYo
SVRJUygiTk9PVkVSUklERSIpKQogICAgICAgICAgewohICAgICAgICAgICBTS0lQKCJOT09W
RVJSSURFIik7CiEgICAgICAgICAgIHRuYW1lLm9uX2ZsYWdzIHw9IE1XTV9PVkVSUklERV9G
TEFHOwogICAgICAgICAgfQohICAgICAgICAgZWxzZSBpZihJVElTKCJOT0hBTkRMRVMiKSkK
ICAgICAgICAgIHsKISAgICAgICAgICAgU0tJUCgiTk9IQU5ETEVTIik7CiEgICAgICAgICAg
IHRuYW1lLm9mZl9mbGFncyB8PSBOT0JPUkRFUl9GTEFHOwogICAgICAgICAgfQohICAgICAg
ICAgZWxzZSBpZihJVElTKCJOT0xFTklFTkNFIikpCiAgICAgICAgICB7CiEgICAgICAgICAg
IFNLSVAoIk5PTEVOSUVOQ0UiKTsKISAgICAgICAgICAgdG5hbWUub25fZmxhZ3MgfD0gTEVO
SUVOQ0VfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYgKElUSVMoIk5PQlVU
VE9OIikpCiAgICAgICAgICB7CiEgICAgICAgICAgIFNLSVAoIk5PQlVUVE9OIik7CiAgCSAg
CiAgICAgICAgICAgIHNzY2FuZihyZXN0b2ZsaW5lLCIlZCIsJmJ1dHQpOwohICAgICAgICAg
ICBHRVRXT1JEOwohICAgICAgICAgICBTS0lQU1BBQ0U7CiAgCSAgCiAgICAgICAgICAgIGlm
IChidXR0ID09IDApIGJ1dHQgPSAxMDsKICAgICAgICAgICAgaWYgKGJ1dHQgPiAwICYmIGJ1
dHQgPD0gMTApCiEgICAgICAgICAgICAgdG5hbWUub2ZmX2J1dHRvbnMgfD0gKDE8PChidXR0
LTEpKTsKISAgICAgICAgICAgcmVzdG9mbGluZSA9IHRtcDsKICAgICAgICAgIH0KISAgICAg
ICAgIGVsc2UgaWYoSVRJUygiTk9PTERFQ09SIikpCiAgICAgICAgICB7CiEgICAgICAgICAg
IFNLSVAoIk5PT0xERUNPUiIpOwohICAgICAgICAgICB0bmFtZS5vbl9mbGFncyB8PSBPTF9E
RUNPUl9GTEFHOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAn
byc6CiEgICAgICAgICBpZihJVElTKCJPTERFQ09SIikpCiAgICAgICAgICB7CiEgICAgICAg
ICAgIFNLSVAoIk9MREVDT1IiKTsKISAgICAgICAgICAgdG5hbWUub2ZmX2ZsYWdzIHw9IE9M
X0RFQ09SX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNl
ICdwJzoKKioqKioqKioqKioqKioqCioqKiA0NzksNjk4ICoqKioKICAgICAgICBjYXNlICdx
JzoKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3InOgohICAgICAgICAgaWYobXlz
dHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJSQU5ET01QTEFDRU1FTlQiLDE1KT09MCkKICAgICAg
ICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTE1OwohICAgICAgICAgICBvZmZfZmxh
Z3MgfD0gUkFORE9NX1BMQUNFX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsK
ICAgICAgICBjYXNlICdzJzoKISAgICAgICAgIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGlu
ZSwiU01BUlRQTEFDRU1FTlQiLDE0KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVz
dG9mbGluZSArPTE0OwohICAgICAgICAgICBvZmZfZmxhZ3MgfD0gU01BUlRfUExBQ0VfRkxB
RzsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2FzZWNtcChyZXN0b2Zs
aW5lLCJTa2lwTWFwcGluZyIsMTEpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0
b2ZsaW5lICs9MTE7CiEgICAgICAgICAgIG9mZl9mbGFncyB8PSBTSE9XX01BUFBJTkc7CiAg
ICAgICAgICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwi
U2hvd01hcHBpbmciLDExKT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGlu
ZSArPTEyOwohICAgICAgICAgICBvbl9mbGFncyB8PSBTSE9XX01BUFBJTkc7CiAgICAgICAg
ICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiU3RpY2t5
SWNvbiIsMTApPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9MTA7
CiEgICAgICAgICAgIG9mZl9mbGFncyB8PSBTVElDS1lfSUNPTl9GTEFHOwogICAgICAgICAg
fQohICAgICAgICAgZWxzZSBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxpbmUsIlNsaXBwZXJ5
SWNvbiIsMTIpPT0wKQogICAgICAgICAgewohICAgICAgICAgICByZXN0b2ZsaW5lICs9MTI7
CiEgICAgICAgICAgIG9uX2ZsYWdzIHw9IFNUSUNLWV9JQ09OX0ZMQUc7CiAgICAgICAgICB9
CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiU0xPUFBZRk9D
VVMiLDExKT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTExOwoh
ICAgICAgICAgICBvbl9mbGFncyB8PSBDTElDS19GT0NVU19GTEFHOwohICAgICAgICAgICBv
ZmZfZmxhZ3MgfD0gU0xPUFBZX0ZPQ1VTX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBl
bHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiU3RhcnRJY29uaWMiLDExKT09MCkK
ICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTExOwohICAgICAgICAgICBv
ZmZfZmxhZ3MgfD0gU1RBUlRfSUNPTklDX0ZMQUc7CiAgICAgICAgICB9CiEgICAgICAgICBl
bHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiU3RhcnROb3JtYWwiLDExKT09MCkK
ICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSArPTExOwohICAgICAgICAgICBv
bl9mbGFncyB8PSBTVEFSVF9JQ09OSUNfRkxBRzsKICAgICAgICAgIH0KISAgICAgICAgIGVs
c2UgaWYobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJTdGF5c09uVG9wIiwxMCk9PTApCiAg
ICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xMDsKISAgICAgICAgICAgb2Zm
X2ZsYWdzIHw9IFNUQVlTT05UT1BfRkxBRzsJICAKICAgICAgICAgIH0KISAgICAgICAgIGVs
c2UgaWYobXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJTdGF5c1B1dCIsOCk9PTApCiAgICAg
ICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz04OwohICAgICAgICAgICBvbl9mbGFn
cyB8PSBTVEFZU09OVE9QX0ZMQUc7CSAgCiAgICAgICAgICB9CiEgICAgICAgICBlbHNlIGlm
KG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiU3RpY2t5Iiw2KT09MCkKICAgICAgICAgIHsK
ISAgICAgICAgICAgb2ZmX2ZsYWdzIHw9IFNUSUNLWV9GTEFHOwkgIAohICAgICAgICAgICBy
ZXN0b2ZsaW5lICs9NjsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2Fz
ZWNtcChyZXN0b2ZsaW5lLCJTbGlwcGVyeSIsOCk9PTApCiAgICAgICAgICB7CiEgICAgICAg
ICAgIG9uX2ZsYWdzIHw9IFNUSUNLWV9GTEFHOwkgIAohICAgICAgICAgICByZXN0b2ZsaW5l
ICs9ODsKICAgICAgICAgIH0KISAgICAgICAgIGVsc2UgaWYobXlzdHJuY2FzZWNtcChyZXN0
b2ZsaW5lLCJTVEFSVFNPTkRFU0siLDEyKT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAg
cmVzdG9mbGluZSArPTEyOwohICAgICAgICAgICBvZmZfZmxhZ3MgfD0gU1RBUlRTT05ERVNL
X0ZMQUc7CiEgICAgICAgICAgIHNzY2FuZihyZXN0b2ZsaW5lLCIlZCIsJmRlc2tudW1iZXIp
OwohICAgICAgICAgICB3aGlsZShpc3NwYWNlKCpyZXN0b2ZsaW5lKSlyZXN0b2ZsaW5lKys7
CiEgICAgICAgICAgIHdoaWxlKCghaXNzcGFjZSgqcmVzdG9mbGluZSkpJiYoKnJlc3RvZmxp
bmUhPSAwKSYmCiEgICAgICAgICAgICAgICAgICgqcmVzdG9mbGluZSAhPSAnLCcpJiYoKnJl
c3RvZmxpbmUgIT0gJ1xuJykpCiEgICAgICAgICAgICAgcmVzdG9mbGluZSsrOwohICAgICAg
ICAgICB3aGlsZShpc3NwYWNlKCpyZXN0b2ZsaW5lKSlyZXN0b2ZsaW5lKys7CiAgICAgICAg
ICB9CiEgICAgICAgICBlbHNlIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiU1RBUlRT
QU5ZV0hFUkUiLDE0KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgcmVzdG9mbGluZSAr
PTE0OwohICAgICAgICAgICBvbl9mbGFncyB8PSBTVEFSVFNPTkRFU0tfRkxBRzsKICAgICAg
ICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3QnOgohICAgICAgICAgaWYo
bXlzdHJuY2FzZWNtcChyZXN0b2ZsaW5lLCJUSVRMRSIsNSk9PTApCiAgICAgICAgICB7CiEg
ICAgICAgICAgIHJlc3RvZmxpbmUgKz01OwohICAgICAgICAgICBvbl9mbGFncyB8PSBOT1RJ
VExFX0ZMQUc7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd1
JzoKISAgICAgICAgIGlmKG15c3RybmNhc2VjbXAocmVzdG9mbGluZSwiVXNlUFBvc2l0aW9u
IiwxMik9PTApCiAgICAgICAgICB7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0xMjsKISAg
ICAgICAgICAgb25fZmxhZ3MgfD0gTk9fUFBPU0lUSU9OX0ZMQUc7CiAgICAgICAgICB9CiAg
I2lmZGVmIFVTRURFQ09SCiEgICAgICAgICBpZihteXN0cm5jYXNlY21wKHJlc3RvZmxpbmUs
IlVzZURlY29yIiw4KT09MCkKICAgICAgICAgIHsKISAgICAgICAgICAgaW50IGlzX3F1b3Rl
ZCA9IDA7CiEgICAgICAgICAgIHJlc3RvZmxpbmUgKz0gODsKISAgICAgICAgICAgd2hpbGUo
aXNzcGFjZSgqcmVzdG9mbGluZSkpcmVzdG9mbGluZSsrOwohICAgICAgICAgICBpZiAoKnJl

--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm" in the body of a
message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-owner@hpc.uh.edu.

