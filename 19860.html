<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>FVWM: Animated Menus, Animated Moves, Improved Menus, and More! from Greg Badros on 1997-04-22 (fvwm-users)</title>
<meta name="Author" content="Greg Badros (gjb_at_cs.washington.edu)" />
<meta name="Subject" content="FVWM: Animated Menus, Animated Moves, Improved Menus, and More!" />
<meta name="Date" content="1997-04-22" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>FVWM: Animated Menus, Animated Moves, Improved Menus, and More!</h1>
<!-- received="Mon Apr 21 19:23:20 1997" -->
<!-- isoreceived="19970421182320" -->
<!-- sent="21 Apr 1997 17:21:58 -0700" -->
<!-- isosent="19970422002158" -->
<!-- name="Greg Badros" -->
<!-- email="gjb_at_cs.washington.edu" -->
<!-- subject="FVWM: Animated Menus, Animated Moves, Improved Menus, and More!" -->
<!-- id="qrrenc33o0p.fsf_at_methow.cs.washington.edu" -->
<!-- charset="US-ASCII" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start19860" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="19861.html" accesskey="d" title="Sascha: &quot;FVWM: warp &#0038; pager problem&quot;">Next message</a> ]
[ <a href="19859.html" title="Eric Ding [ext 284]: &quot;FVWM: for WM_TAKE_FOCUS windows, ClickToFocus misbehaves (??)&quot;">Previous message</a> ]
<!-- unextthread="start" -->
[ <a href="19869.html" accesskey="t" title="Dan Espen: &quot;Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg19860" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg19860" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg19860" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg19860" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Greg Badros &lt;<a href="mailto:gjb_at_cs.washington.edu?Subject=Re%3A%20FVWM%3A%20Animated%20Menus%2C%20Animated%20Moves%2C%20Improved%20Menus%2C%20and%20More!">gjb_at_cs.washington.edu</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 21 Apr 1997 17:21:58 -0700</span><br />
</address>
<br />
I spent the weekend rewriting the menu code for fvwm-2.0.45 to better
<br />
support the keyboard (improving on my earlier patch).  In the process I
<br />
added several other useful features.  The description of the patch
<br />
appears below.  The actual patch is available at:
<br />
&lt;A HREF=&quot;
<br />
<a href="http://www.cs.washington.edu/homes/gjb/patches/fvwm-2.0.45-menus-animation-gjb.patch">http://www.cs.washington.edu/homes/gjb/patches/fvwm-2.0.45-menus-animation-gjb.patch</a>
<br />
&quot;&gt; patch &lt;/A&gt;
<br />
<br />To apply the patch, do something like
<br />
<br />cd fvwm-2.0.45
<br />
patch -p1 &lt;fvwm-2.0.45-menus-animation-gjb.patch
<br />
<br />Look for *.rej files, then rebuild.  The description and patch are also
<br />
available on my web page under &quot;Newer stuff.&quot;  I tested the changes and
<br />
applying the patch on a slackware-like Linux 2.0.29. The patch should
<br />
apply cleanly to an unmodified 2.0.45 tree.
<br />
<br />Please cc: comments to me.  I read the fvwm-workers list regularly, but
<br />
I don't subscribe to the fvwm list currently.
<br />
<br />Greg J. Badros
<br />
gjb_at_cs.washington.edu
<br />
Seattle, WA  USA
<br />
<a href="http://www.cs.washington.edu/homes/gjb">http://www.cs.washington.edu/homes/gjb</a>
<br />
<br /><br />DESCRIPTION:
<br />
------------
<br />
This patch includes lots:
<br />
<br />Added new commands:
<br />
<br />&nbsp;&nbsp;AnimatedMove -- works like move
<br />
<br />&nbsp;&nbsp;SetAnimation -- customizes how the animated moves (and menu movement) looks
<br />
<br />&nbsp;&nbsp;SetMenuDelay -- change how long to delay before popping up a submenu
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when resting on a menu item (ala the famous win OS's menus)
<br />
<br />&nbsp;&nbsp;SetEnv       -- Allow setting of environment which processes started
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by fvwm2 will inherit.  This uses &quot;putenv&quot; system call.
<br />
<br />Changed commands:
<br />
<br />&nbsp;&nbsp;Move   -- added greater flexibility so you can give destination
<br />
positions as stuff like &quot;w+5p&quot; to mean current window position + 5
<br />
pixels or &quot;-2&quot; to mean its right edge should be 2% of the screen height
<br />
<em class="quotelev1">&gt; from the bottom [works for horizonal, too, of course].  See new man page
</em><br />
<br />&nbsp;&nbsp;MenuStyle -- added &quot;animated&quot; qualifier, along with type &quot;win&quot; to
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emulate more closely the famous win OS's menus look and feel
<br />
<br />&nbsp;&nbsp;AddToMenu --  Menus titles take side-pixmaps between &quot;_at_&quot; (at) characters and
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;side-pixmap background colors between &quot;^&quot; (caret) characters.  Also,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;substrings denoting regular pixmaps (between &quot;%&quot; characters) are removed
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;even if that pixmap cannot be located; thus your menu still looks ok.  A
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warning is printed to stderr, instead.
<br />
<br /><br />Almost complete rewrite of menus code:
<br />
--------------------------------------
<br />
These new menus support the keyboard much better than before.  See the
<br />
improved man page.  They also can animate out of your way when at the
<br />
right edge of the screen.  Use animated menustyle and try it-- it's
<br />
easier to watch than explain.  Also now supported is a delay before
<br />
popping up child menus when you rest on a menu item.
<br />
<br />Note that the animation and the menu delay require the &quot;usleep&quot;
<br />
(micro-second sleep) system call.  If you don't have it, &quot;select&quot; can
<br />
probably be contorted to do the right thing.  See the man page for
<br />
&quot;select&quot; for your OS.
<br />
<br /><br />Internal Changes
<br />
----------------
<br />
I reindent some places where the indentation was not uniform and
<br />
confusing.  I also changed a lot of #define-s to enum-s. Menu code is
<br />
*way* better now (though certainly could get even better-- in
<br />
particular, I didn't do anything specific to facilitate sticky menus).
<br />
<br />Uses gperf to build &quot;fvwm-command-hasher.c&quot; which gets included by
<br />
functions.c.  Reworked functions.c to use a hash lookup on a built-in's
<br />
name instead of linear lookup.  Reduced my startup time by 15% or so.
<br />
You may need to give -DNO_GPERF if you have problems with this.
<br />
<br /><br />BUGS?
<br />
-----
<br />
Sure, there's gotta be plenty.  Email me at gjb_at_cs.washington.edu and let
<br />
me know.  In particular, send me a minimal startup file and descriptions
<br />
of what to do to see the problem.  Also send me your configure.h, I
<br />
suppose and tell me what platform you're working on.
<br />
<br />USE AT YOUR OWN RISK!  I am not responsible for the use of, the misuse
<br />
of, or anything to do with this patch.
<br />
<pre>
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Apr 21 1997 - 19:23:20 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start19860">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="19861.html" title="Next message in the list">Sascha: "FVWM: warp &#0038; pager problem"</a></li>
<li><dfn>Previous message</dfn>: <a href="19859.html" title="Previous message in the list">Eric Ding [ext 284]: "FVWM: for WM_TAKE_FOCUS windows, ClickToFocus misbehaves (??)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="19869.html" title="Next message in this discussion thread">Dan Espen: "Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Maybe reply</dfn>: <a href="19869.html" title="Message sent in reply to this message">Dan Espen: "Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!"</a></li>
<li><dfn>Maybe reply</dfn>: <a href="20114.html" title="Message sent in reply to this message">Tim Phipps: "Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!"</a></li>
<li><dfn>Maybe reply</dfn>: <a href="20115.html" title="Message sent in reply to this message">shendrix_at_gypsy.atlantic.infi.net: "Re: FVWM: Animated Menus, Animated Moves, Improved Menus, and More!"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg19860" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg19860" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg19860" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg19860" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:38:00 BST
</em></small></p>
</body>
</html>
