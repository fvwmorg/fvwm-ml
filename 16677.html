<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>FVWM: Re: fvwm2 and/or tkfvwm BUG from mark.crimmins_at_umich.edu on 1996-05-07 (fvwm-users)</title>
<meta name="Author" content="mark.crimmins_at_umich.edu (mark.crimmins_at_umich.edu)" />
<meta name="Subject" content="FVWM: Re: fvwm2 and/or tkfvwm BUG" />
<meta name="Date" content="1996-05-07" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>FVWM: Re: fvwm2 and/or tkfvwm BUG</h1>
<!-- received="Tue May  7 15:39:23 1996" -->
<!-- isoreceived="19960507143923" -->
<!-- sent="Tue, 07 May 1996 16:41:57 -0400" -->
<!-- isosent="19960507204157" -->
<!-- name="mark.crimmins_at_umich.edu" -->
<!-- email="mark.crimmins_at_umich.edu" -->
<!-- subject="FVWM: Re: fvwm2 and/or tkfvwm BUG" -->
<!-- id="199605072042.QAA03903_at_merv.philosophy.lsa.umich.edu" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="199605071612.LAA04565&#64;mail.cs.umn.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start16677" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="16678.html" accesskey="d" title="Jeff Magill: &quot;Re: FVWM: drag windows into pager&quot;">Next message</a> ]
[ <a href="16676.html" title="Alan Wild: &quot;Re: FVWM: drag windows into pager&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg16677" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg16677" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg16677" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg16677" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: &lt;<a href="mailto:mark.crimmins_at_umich.edu?Subject=Re%3A%20FVWM%3A%20Re%3A%20fvwm2%20and%2For%20tkfvwm%20BUG">mark.crimmins_at_umich.edu</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 07 May 1996 16:41:57 -0400</span><br />
</address>
<br />
Fvwm folks: if you sort past the tkgoodstuff comments, there's a real
<br />
fvwm problem here . . .
<br />
<br />Brad Miller writes:
<br />
<em class="quotelev1">&gt;I really like the new configuration and installation.  It was much
</em><br />
<em class="quotelev1">&gt;easier to build the shared library extensions than ever before.
</em><br />
<br />Good!  I finally decided to do it the normal way.  The GUI
<br />
configuration is under further development.  I have hacked up a
<br />
hierarchical list widget which will be used for editing the main
<br />
&quot;configuration&quot;, the menus, and other stuff (stay tuned).
<br />
<br /><em class="quotelev1">&gt;I also like the new pager client.  (Are there any plans to enhance it so
</em><br />
<em class="quotelev1">&gt;that I can see tiny versions of my windows in the pager, and move them
</em><br />
<em class="quotelev1">&gt;around? )
</em><br />
<br />I don't have such plans (dunno about Eric Kahler).  In fact I prefer
<br />
the pager without the tiny windows.  If I really want to see a page, I
<br />
can go there and not have to squint.  One can move windows from page
<br />
to page by dragging (with button 2) from the tkgoodstuff WindowList to
<br />
the Pager window.  What exactly do you miss about having tiny windows?
<br />
<br /><em class="quotelev1">&gt;I'm running fvwm2-0.39 and I've had to kill fvwm several times since
</em><br />
<em class="quotelev1">&gt;upgrading tkgoodstuff.  What happens is that fvwm suddenly starts taking
</em><br />
<em class="quotelev1">&gt;up the whole cpu, and I'm not able to switch virtual windows, or do much
</em><br />
<em class="quotelev1">&gt;of anything.  I haven't been able to exactly pin down a
</em><br />
<em class="quotelev1">&gt;sequence of operations, but it seems like it usually happens after I've
</em><br />
<em class="quotelev1">&gt;had to restart tkgoodstuff, due to a configuration error or change.
</em><br />
<em class="quotelev1">&gt;It also happens under both linux and solaris 2.4.  I've thought about
</em><br />
<em class="quotelev1">&gt;upgrading fvwm too, is that likely to help?
</em><br />
<br />Rats!  Me too (and I've posted this problem to the fvwm list before),
<br />
but I had hoped it was idiosyncratic to my setup.  I include (for the
<br />
fvwm folks) the basic module interface code below.  Why might the
<br />
death of a module make fvwm eat up lotsa cpu?
<br />
<br /><em class="quotelev1">&gt;A nit, I don't like the fact that a non-fatal error, like tkman
</em><br />
<em class="quotelev1">&gt;leads to a restart or exit from tkgoodstuff.  When tkman isn't found I
</em><br />
<em class="quotelev1">&gt;get the dialog telling me that there is an error, if I just dismiss it,
</em><br />
<em class="quotelev1">&gt;tkgoodstuff exits.  If I choose to fix it through the config manager and
</em><br />
<em class="quotelev1">&gt;then cancel, tkgoodstuff exits.
</em><br />
<br />Right; I'll make the standard error dialog not a killer after the main
<br />
window gets posted and (if the main window never gets posted and
<br />
&quot;dismiss&quot; doesn't exit, tkgoodstuff just sits in your process list
<br />
until you kill it).
<br />
<br />Thanks for your input!
<br />
Mark
<br />
<br />/* 
<br />
&nbsp;* tkFvwm.c --
<br />
&nbsp;*
<br />
&nbsp;* 	This file implements the &quot;fvwm&quot; command, which permits the
<br />
&nbsp;*	comunication between the fvwm window manager and modules
<br />
&nbsp;*	written in Tcl.
<br />
&nbsp;*
<br />
&nbsp;* Copyright(c) 1995 Andres Aravena (andres_at_aravena.mic.cl)
<br />
&nbsp;* Portions Copyright(c) 1988-1994 The Regents of the University of California.
<br />
&nbsp;* Portions Copyright(c) 1994 Sun Microsystems, Inc.
<br />
&nbsp;* This file can be redistributed under the same terms of the Tcl/Tk core.
<br />
&nbsp;* */
<br />
<br />/* Updated for tk4.1 by M. Crimmins 1/96.  
<br />
&nbsp;*  Various enhancements, bugfixes 2/96 
<br />
&nbsp;*
<br />
&nbsp;* Athr: Michael D. Beynon (mdb)
<br />
&nbsp;* Date: 04/18/1996 : mdb - Converted Tk_*() calls that were moved to
<br />
&nbsp;*                          Tcl_*() calls.  A Tcl_File type is now needed
<br />
&nbsp;*                          for the Tcl_CreateFileHandler() call.
<br />
&nbsp;*/
<br />
<br />static char version[] = &quot;tkFvwm.c version 4.1&quot;;
<br />
#include &quot;tcl.h&quot;
<br />
#include &quot;tk.h&quot;
<br />
#include &quot;fvwmlib.h&quot; /* from fvwm source */
<br />
#include &quot;module.h&quot;  /* from fvwm source */
<br />
<br />/*
<br />
&nbsp;* These arrays contain the interface with fvwm. They are made by hand
<br />
&nbsp;* for fvwm 1.24r, although they should not change frequently.
<br />
&nbsp;* Eventually they can be put in a struct, which can be filled
<br />
&nbsp;* automatically from the fvwm source
<br />
*/
<br />
static char *
<br />
fvwmName[] = {&quot;DeadPipe&quot;, &quot;NewPage&quot;, &quot;NewDesk&quot;, &quot;AddWindow&quot;,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;RaiseWindow&quot;, &quot;LowerWindow&quot;, &quot;ConfigureWindow&quot;, &quot;FocusChange&quot;,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;DestroyWindow&quot;, &quot;Iconify&quot;, &quot;Deiconify&quot;, &quot;WindowName&quot;,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;IconName&quot;, &quot;ResClass&quot;, &quot;ResName&quot;, &quot;EndWindowlist&quot;,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;IconLocation&quot;, &quot;Map&quot;, &quot;Error&quot;, &quot;ConfigInfo&quot;, &quot;EndConfigInfo&quot;};
<br />
<br />static unsigned long
<br />
fvwmCode[] = {0, M_NEW_PAGE,  M_NEW_DESK, M_ADD_WINDOW,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M_RAISE_WINDOW, M_LOWER_WINDOW, M_CONFIGURE_WINDOW,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M_FOCUS_CHANGE, M_DESTROY_WINDOW, M_ICONIFY, M_DEICONIFY,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M_WINDOW_NAME, M_ICON_NAME, M_RES_CLASS, M_RES_NAME,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M_END_WINDOWLIST, M_ICON_LOCATION, M_MAP, M_ERROR,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M_CONFIG_INFO, M_END_CONFIG_INFO
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
<br />
<br />static char *fvwmScript[MAX_MESSAGES+1] = {&quot;exit&quot;, NULL};
<br />
static Tcl_Interp *fvwmInterp;
<br />
static int fvwmFD[2] = {-1,-1};
<br />
<br />/*
<br />
&nbsp;* These macros give access to the interface data, making easy to switch
<br />
&nbsp;* to other data structures, if needed.
<br />
&nbsp;*/
<br />
#define FD fvwmFD
<br />
#define SCRIPT(I) fvwmScript[I]
<br />
#define CODE(I) fvwmCode[I]
<br />
#define NAME(I) fvwmName[I]
<br />
#define CHECK(X)  if(X==TCL_OK) {} else {return TCL_ERROR;}
<br />
<br />/*
<br />
&nbsp;*--------------------------------------------------------------
<br />
&nbsp;*
<br />
&nbsp;* DeadPipe --
<br />
&nbsp;*
<br />
&nbsp;*	The following function is requiered by ReadFvwmPacket
<br />
&nbsp;* 	It's called whenever the pipe is closed, as when FVWM dies.
<br />
&nbsp;*
<br />
&nbsp;* Results: The script in SCRIPT(0) is evaluated in the context of
<br />
&nbsp;*	fvwmInterp. Note that no expansion of percents is realized,
<br />
&nbsp;*	because DeadPipe is not bound to any FVWM message.
<br />
&nbsp;*
<br />
&nbsp;* Side effects:
<br />
&nbsp;*	If not changed by the user, DeadPipe evaluates &quot;exit&quot;, so
<br />
&nbsp;*	the interpreter is finished.
<br />
&nbsp;*
<br />
&nbsp;*-------------------------------------------------------------- */
<br />
void DeadPipe(int dummy)
<br />
{
<br />
&nbsp;&nbsp;&nbsp;&nbsp;int ans;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;ans=Tcl_GlobalEval(fvwmInterp,SCRIPT(0));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(ans==TCL_ERROR) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_AddErrorInfo(fvwmInterp, &quot;\n (command bound to fvwm)&quot;);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_BackgroundError(fvwmInterp);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
}
<br />
<br />/*
<br />
&nbsp;*--------------------------------------------------------------
<br />
&nbsp;*
<br />
&nbsp;* ExpandPercents --
<br />
&nbsp;*
<br />
&nbsp;*	Given a command and a FVWM Packet, produce a new command
<br />
&nbsp;*	by replacing % constructs in the original command
<br />
&nbsp;*	with information from the FVWM packet.
<br />
&nbsp;*
<br />
&nbsp;*      This is a modification of the analog function in tkBind.c,
<br />
&nbsp;*	which has the following copyright:
<br />
&nbsp;*
<br />
&nbsp;* Copyright (c) 1989-1994 The Regents of the University of California.
<br />
&nbsp;* Copyright (c) 1994-1995 Sun Microsystems, Inc.
<br />
&nbsp;*
<br />
&nbsp;* Results:
<br />
&nbsp;*	The new expanded command is appended to the dynamic string
<br />
&nbsp;*	given by dsPtr.
<br />
&nbsp;*
<br />
&nbsp;* Side effects:
<br />
&nbsp;*	None.
<br />
&nbsp;*
<br />
&nbsp;*--------------------------------------------------------------
<br />
&nbsp;*/
<br />
<br />static void
<br />
ExpandPercents(before, body, dsPtr)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;register char *before;	/* Command containing percent
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* expressions to be replaced. */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;unsigned long *body;	/* FVWM data packet */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DString *dsPtr;		/* Dynamic string in which to append
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* new command. */
<br />
{
<br />
&nbsp;&nbsp;&nbsp;&nbsp;int spaceNeeded, cvtFlags;	/* Used to substitute string as proper Tcl
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* list element. */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;unsigned long number;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;int length;
<br />
#define NUM_SIZE 40
<br />
&nbsp;&nbsp;&nbsp;&nbsp;register char *string;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;char numStorage[NUM_SIZE+1];
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;while (1) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Find everything up to the next % character and append it
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* to the result string.
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (string = before; (*string != 0) &amp;&amp; (*string != '%'); string++) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Empty loop body. */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (string != before) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DStringAppend(dsPtr, before, string-before);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before = string;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (*before == 0) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* There's a percent sequence here.  Process it.
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = 0;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = &quot;??&quot;;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch (before[1]) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'W':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(numStorage, &quot;0x%lx&quot;, body[0]); /* window id */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = numStorage;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doString;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'x':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[3]; /* window horizontal pos */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'y':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[4]; /* window vertical pos */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'w':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[5]; /* window width */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'h':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[6]; /* window height */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 't':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[7]; /* desktop (ConfigureWindow packet) */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'f':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(numStorage, &quot;0x%lx&quot;, body[8]);  /* flags */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = numStorage;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doString;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'N':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = (char *)(&amp;body[3]); /* window, icon or class name */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doString;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'T':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[0]; /* new desktop (NewDesk packet) */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'D':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[2]; /* new desktop (NewPage packet) */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'X':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[0]; /* new desk horizontal pos */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 'Y':
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number = body[1]; /* new desk vertical pos */
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doNumber;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numStorage[0] = before[1];
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numStorage[1] = '\0';
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = numStorage;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto doString;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doNumber:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(numStorage, &quot;%ld&quot;, number);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string = numStorage;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doString:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spaceNeeded = Tcl_ScanElement(string, &amp;cvtFlags);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;length = Tcl_DStringLength(dsPtr);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DStringSetLength(dsPtr, length + spaceNeeded);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spaceNeeded = Tcl_ConvertElement(string,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DStringValue(dsPtr) + length,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cvtFlags | TCL_DONT_USE_BRACES);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DStringSetLength(dsPtr, length + spaceNeeded);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before += 2;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
}
<br />
<br />/*
<br />
&nbsp;*--------------------------------------------------------------
<br />
&nbsp;*
<br />
&nbsp;* FvwmMsgHandler --
<br />
&nbsp;*
<br />
&nbsp;*	This function is called when the pipe from fvwm has data to be
<br />
&nbsp;*	read by the module.
<br />
&nbsp;*
<br />
&nbsp;* Results:
<br />
&nbsp;*	If a handler for the given message has been defined, it is
<br />
&nbsp;*	interpreted on the fvwmInterp global context.
<br />
&nbsp;*
<br />
&nbsp;* Side effects:
<br />
&nbsp;*	None.
<br />
&nbsp;*
<br />
&nbsp;*-------------------------------------------------------------- */
<br />
<br />static void
<br />
FvwmMsgHandler(ClientData clientData, int mask)
<br />
{
<br />
&nbsp;&nbsp;&nbsp;&nbsp;unsigned long header[HEADER_SIZE], *body;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;int i;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;if(mask &amp; TCL_EXCEPTION) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DeadPipe(0);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;ReadFvwmPacket(FD[1],header,&amp;body);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;for(i=1; i&lt;=MAX_MESSAGES; i++) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((CODE(i)==header[1]) &amp;&amp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SCRIPT(i)!=NULL) &amp;&amp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SCRIPT(i)[0]!='\0')) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int ans;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DString ds;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DStringInit(&amp;ds);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpandPercents(SCRIPT(i),body,&amp;ds);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans=Tcl_GlobalEval(fvwmInterp,Tcl_DStringValue(&amp;ds));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ans==TCL_ERROR) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_AddErrorInfo(fvwmInterp, &quot;\n (command bound to fvwm)&quot;);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_BackgroundError(fvwmInterp);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_DStringFree(&amp;ds);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;free(body);
<br />
}
<br />
<br />/*
<br />
&nbsp;*--------------------------------------------------------------
<br />
&nbsp;*
<br />
&nbsp;* FvwmCmd --
<br />
&nbsp;*
<br />
&nbsp;*      This procedure is invoked to process the &quot;fvwm&quot; Tcl command.
<br />
&nbsp;*      See the user documentation for details on what it does.
<br />
&nbsp;*
<br />
&nbsp;* Results:
<br />
&nbsp;*      A standard Tcl result.
<br />
&nbsp;*
<br />
&nbsp;* Side effects:
<br />
&nbsp;*	The fvwmInterp variable gets defined the first time the &quot;init&quot;
<br />
&nbsp;*	option is used. The message handlers may be modified.
<br />
&nbsp;*
<br />
&nbsp;*-------------------------------------------------------------- */
<br />
<br />int 
<br />
FvwmCmd(ClientData clientData, Tcl_Interp *interp, int argc, char *argv[])
<br />
{
<br />
&nbsp;&nbsp;&nbsp;&nbsp;int i,len;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;if (argc&lt;2) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interp-&gt;result = &quot;Wrong # of args&quot;;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_ERROR;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;if((argv[1][0]=='i') &amp;&amp; !strcmp(argv[1],&quot;init&quot;)) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(argc!=4) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(interp-&gt;result,&quot;Wrong # of args, should be: %s init&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&lt;output-fd&gt; &lt;input-fd&gt;&quot;,argv[0]);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_ERROR;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((FD[0] != -1)||(FD[1] != -1)) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interp-&gt;result=&quot;fvwm already initialized&quot;;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_ERROR;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHECK(Tcl_GetInt(interp,argv[2],&amp;FD[0]));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHECK(Tcl_GetInt(interp,argv[3],&amp;FD[1]));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl_CreateFileHandler(Tcl_GetFile((ClientData)FD[1], TCL_UNIX_FD),
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TCL_READABLE|TCL_EXCEPTION, FvwmMsgHandler,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clientData);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fvwmInterp=interp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_OK;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;if((argv[1][0]=='s') &amp;&amp; !strcmp(argv[1],&quot;send&quot;)) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(argc!=4) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(interp-&gt;result,&quot;Wrong # of args, should be: %s send&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;windowID message&quot;,argv[0]);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_ERROR;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHECK(Tcl_GetInt(interp,argv[2],&amp;i));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SendInfo(FD,argv[3],i);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_OK;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;len=strlen(argv[1]);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;for(i=0; i&lt;=MAX_MESSAGES; i++) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!strncasecmp(argv[1],NAME(i),len)) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(argc==2) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(SCRIPT(i)!=NULL)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interp-&gt;result=SCRIPT(i);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_OK;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(argc==3) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(SCRIPT(i)!=NULL) {
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(SCRIPT(i));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SCRIPT(i)=(char*)ckalloc(strlen(argv[2])+1);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(SCRIPT(i),argv[2]);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_OK;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(interp-&gt;result,&quot;Wrong # of args, should be: %s %s&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; ?script?&quot;,argv[0],NAME(i));
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TCL_ERROR;	    
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;}
<br />
&nbsp;&nbsp;&nbsp;&nbsp;sprintf(interp-&gt;result,&quot;unknow option %s&quot;,argv[1]);
<br />
&nbsp;&nbsp;&nbsp;&nbsp;return TCL_ERROR;
<br />
&nbsp;&nbsp;}
<br />
<pre>
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Tue May 07 1996 - 15:39:23 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start16677">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="16678.html" title="Next message in the list">Jeff Magill: "Re: FVWM: drag windows into pager"</a></li>
<li><dfn>Previous message</dfn>: <a href="16676.html" title="Previous message in the list">Alan Wild: "Re: FVWM: drag windows into pager"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg16677" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg16677" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg16677" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg16677" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:37:58 BST
</em></small></p>
</body>
</html>
