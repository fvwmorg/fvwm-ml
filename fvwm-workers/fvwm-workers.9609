From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 04:14:30 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id EAA19571; Fri, 6 Sep 1996 04:14:28 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id EAA19566 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 04:14:02 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA15382
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Fri, 6 Sep 1996 11:13:33 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA02875; Fri, 6 Sep 96 11:13:32 +0200
Date: Fri, 6 Sep 96 11:13:32 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609060913.AA02875@vta_host.auto.tuwien.ac.at>
To: Marko.Macek@snet.fer.uni-lj.si
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <199606270548.HAA09536@kukulkan.fri.uni-lj.si> (message from Marko Macek on Thu, 27 Jun 1996 07:48:14 +0200)
Subject: Re: Menus to the left (& triangle)
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


Hi, anybody out there, it's rather quiet now...

while looking through the archives for the triangle-in-the-middle
patch (the triangle for a submenu isn't vertically aligned with the text,
if you're using icons in windows), 

I found this:

>>>>> Marko Macek writes:
[about menus to the left] 
> Everything considered, I like Lars approach much better than mine.

M> BTW: Can we make an option not to warp the mouse when the menu is at the bottom
M> of the screen (this was the part of fvwm95 patch, but Lars removed it).
strongly seconded.

I have a sun mouse (the optical with the hard pad) and those upward warps
drive the mouse off the pad, continually forcing me to grab the mouse, lift
it and move it back down.

It's a royal PITA.

albrecht
-- 
Brezhnev took Afghanistan,	|  And Maggie over lunch one day,
Begin took Beirut,		|  Took a cruiser with all hands,
Galtieri took the Union Jack	|  Apparently to make him give it back
			-- Pink Floyd, "Get Your Filthy Hands Off My Desert"
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 04:54:48 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id EAA20321; Fri, 6 Sep 1996 04:54:47 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id EAA20316 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 04:54:10 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA15474
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Fri, 6 Sep 1996 11:53:48 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA03149; Fri, 6 Sep 96 11:53:47 +0200
Date: Fri, 6 Sep 96 11:53:47 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609060953.AA03149@vta_host.auto.tuwien.ac.at>
To: matusita@ics.es.osaka-u.ac.jp
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <19960830030828G/matusita@ics.es.osaka-u.ac.jp> (message from Makoto MATSUSHITA on Fri, 30 Aug 1996 03:08:28 +0900)
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3

>>>>> Makoto MATSUSHITA writes:

M> Here is a patch for plain 2.0.43. It enables 'NOT sorted' WindowList.
M> This patch DOES NOT CHANGE current behavior of WindowList which is
M> written in manual page (it is just a little enhancement of WindowList).

M> To use the effect of this patch, simply say:
M> 	WindowList 6
M> or if you want to show iconname instead of windowname, say:
M> 	WindowList 7

M> I hope it'll be included in the next release. Sorry that this patch
M> does not include the addtional manual entry of this feature.

after applying this patch, I got every window listed twice.
I use plain old default windowlist.

albrecht
-- 
Plans?  Who needs plans?  Just decide on the structural elements,
and the design follows...  form follows function, and that doesn't
preclude double curves.		-- Tom Perigrin in rec.woodworking
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 05:38:27 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id FAA21080; Fri, 6 Sep 1996 05:38:26 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id FAA21074; Fri, 6 Sep 1996 05:37:50 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA15536
  (5.65c/IDA-1.4.4); Fri, 6 Sep 1996 12:37:44 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA03996; Fri, 6 Sep 96 12:37:42 +0200
Date: Fri, 6 Sep 96 12:37:42 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609061037.AA03996@vta_host.auto.tuwien.ac.at>
To: FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>,
        FVWM2 mailing list <fvwm@hpc.uh.edu>
Subject: LEFT_MENUS
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


I tried the leftmenus
(#define LEFT_MENUS im menus.c)

menus pop up left, if you hit the triange first.
If you have larger icons in the menu, and you point the mouse _below_ the
triangle, menus still pop up right.

Also, it looks somewhat strange, that the right side of the left menu is
flush with the left side of the previous menu.
If the menu has enough space on the right side, it overlaps about a quarter
to a half of the original window, which look _much_ better.
(The amount of overlap depends on mouse pos, the menu is apparently
centered around mouse position, when opened)

I'd like to have the following changes to the triangles in menus: 
	left, if there's not much (1/2 the new popup or simply guess)
		space on the right.
	centered vertically (i.e: at the same height as the text)

which oneof the patches out there comes closest ?

albrecht
-- 
Well I've always had a deep respect, and I mean that most sincerely.
The band is just fantastic, that is really what I think. Oh by the way,
   which one's Pink?						-- Pink Floyd
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 09:25:17 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id JAA25283; Fri, 6 Sep 1996 09:25:16 -0500 (CDT)
Received: from skylark.ics.es.osaka-u.ac.jp (root@skylark.ics.es.osaka-u.ac.jp [133.1.240.35]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id JAA25275 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 09:25:09 -0500 (CDT)
Received: from localhost (matusita@localhost [127.0.0.1]) by skylark.ics.es.osaka-u.ac.jp (8.7.5+2.6Wbeta7/3.5Wbeta/ICS-2.1Wv6-SKYLARK) with ESMTP id XAA10817; Fri, 6 Sep 1996 23:24:57 +0900 (JST)
To: albrecht@auto.tuwien.ac.at
Cc: fvwm-workers@hpc.uh.edu
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
In-Reply-To: Your message of "Fri, 6 Sep 96 11:53:47 +0200"
References: <9609060953.AA03149@vta_host.auto.tuwien.ac.at>
X-Mailer: Mew version 1.06 on Emacs 19.28.1, Mule 2.3
X-FaceAnim: (-O_O-)(O_O- )(_O-  )(O-   )(-   -)(   -O)(  -O_)( -O_O)(-O_O-)
X-Fingerprint: 0C AC 93 FC E3 9D 9E 5B  3D B8 AC 5C 4A 79 D8 A6
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Message-Id: <19960906232455V/matusita@ics.es.osaka-u.ac.jp>
Date: Fri, 06 Sep 1996 23:24:55 +0900
From: Makoto MATSUSHITA <matusita@ics.es.osaka-u.ac.jp>
X-Dispatcher: impost version 0.92+ (Aug. 9, 1996)
Lines: 8
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


albrecht> after applying this patch, I got every window listed twice.

Sorry, I forgot that WindowList is invoked with no argument. Please
forgive me...

- -
Makoto `MAR_kun' MATSUSHITA
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 09:35:02 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id JAA25815; Fri, 6 Sep 1996 09:35:01 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id JAA25592 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 09:31:25 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA15830
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Fri, 6 Sep 1996 16:30:49 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA04267; Fri, 6 Sep 96 16:30:48 +0200
Date: Fri, 6 Sep 96 16:30:48 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609061430.AA04267@vta_host.auto.tuwien.ac.at>
To: matusita@ics.es.osaka-u.ac.jp
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <19960906232455V/matusita@ics.es.osaka-u.ac.jp> (message from Makoto MATSUSHITA on Fri, 06 Sep 1996 23:24:55 +0900)
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3

>>>>> Makoto MATSUSHITA writes:

albrecht> after applying this patch, I got every window listed twice.

M> Sorry, I forgot that WindowList is invoked with no argument. Please
M> forgive me...

no problem.
I've dug around in the windowlist & menu code and wondered if I could
incorporate your patch also (to save chuck time).
But then I had to throw it out again.

I'm just wodering:
what would you need an unsorted (across desktops) list for ????

albrecht
-- 
The light at the end of the tunnel is the headlight of an oncoming train.
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 10:59:17 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id KAA29930; Fri, 6 Sep 1996 10:59:16 -0500 (CDT)
Received: from skylark.ics.es.osaka-u.ac.jp (root@skylark.ics.es.osaka-u.ac.jp [133.1.240.35]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id KAA29923 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 10:59:06 -0500 (CDT)
Received: from localhost (matusita@localhost [127.0.0.1]) by skylark.ics.es.osaka-u.ac.jp (8.7.5+2.6Wbeta7/3.5Wbeta/ICS-2.1Wv6-SKYLARK) with ESMTP id AAA11177 for <fvwm-workers@hpc.uh.edu>; Sat, 7 Sep 1996 00:58:37 +0900 (JST)
To: fvwm-workers@hpc.uh.edu
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
In-Reply-To: Your message of "Fri, 6 Sep 96 16:30:48 +0200"
References: <9609061430.AA04267@vta_host.auto.tuwien.ac.at>
X-Mailer: Mew version 1.06 on Emacs 19.28.1, Mule 2.3
X-FaceAnim: (-O_O-)(O_O- )(_O-  )(O-   )(-   -)(   -O)(  -O_)( -O_O)(-O_O-)
X-Fingerprint: 0C AC 93 FC E3 9D 9E 5B  3D B8 AC 5C 4A 79 D8 A6
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Message-Id: <19960907005836G/matusita@ics.es.osaka-u.ac.jp>
Date: Sat, 07 Sep 1996 00:58:36 +0900
From: Makoto MATSUSHITA <matusita@ics.es.osaka-u.ac.jp>
X-Dispatcher: impost version 0.92+ (Aug. 9, 1996)
Lines: 18
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


albrecht> I'm just wodering:
albrecht> what would you need an unsorted (across desktops) list for ????

Not me, my friend want to do.

He said to me: "I do not want to sort by 'desktop number'. Listing
order of sorted windowlist is not always what I expected."

He really want to give a static number to a window, i.e., "This window
is always numbered *1* in the windowlist." But it's a little bit
difficult:) so I proposed to him 'not-sorted windowlist', and he
agreed.

I think he want to control the order of windowlist by himself.

- -
Makoto `MAR_kun' MATSUSHITA
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 12:27:09 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id MAA04656; Fri, 6 Sep 1996 12:27:08 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id MAA04611 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 12:26:41 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA15918
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Fri, 6 Sep 1996 19:26:27 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA04600; Fri, 6 Sep 96 19:26:26 +0200
Date: Fri, 6 Sep 96 19:26:26 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609061726.AA04600@vta_host.auto.tuwien.ac.at>
To: matusita@ics.es.osaka-u.ac.jp
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <19960907005836G/matusita@ics.es.osaka-u.ac.jp> (message from Makoto MATSUSHITA on Sat, 07 Sep 1996 00:58:36 +0900)
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3

>>>>> Makoto MATSUSHITA writes:

albrecht> I'm just wodering:
albrecht> what would you need an unsorted (across desktops) list for ????

[...]
M> He really want to give a static number to a window, i.e., "This window
M> is always numbered *1* in the windowlist." But it's a little bit
M> difficult:) so I proposed to him 'not-sorted windowlist', and he
M> agreed.

would "unsorted" be the order of creation?
(think so) then if he did an automatic startup of all his programs in the
initfunction (with waits), and always using the "global" windowlist,
the order shouldn't change and should be the same for every login.
the windowlist would have a fixed part (standard login windows) and then
the variable-part of on-the-fly started applications.

I can see the use, now.

I think the first parameter is by now simply some sort of bit-field:
	0	1
bit 0:	name	iconname	(even)
bit 1:  all	current		desk
bit 3:  xxx	special desk in parameter 2

other bits & sign bit are ignored

I think this should be changed to one _text_ parameter for clarity:
(I always have to look up what -4 means :-) )
	i   for iconname
	u   for unsorted (default is sort by desktop
	a   for all (default and weakest-> overwritten by 
		     any other of the following option)
	c   for current
	#   for desktop # only

I'd like to implement this (as I'm currently digging the windowlist code
anyway) 

M> I think he want to control the order of windowlist by himself.


while looking around in the manpage, i found under windowlist:

          dows  is shown in brackets.  Selecting an item from the
          window list pop-up menu will cause that  window  to  be
          moved  onto  the  desktop if it is currently not on it,
WRONG
selecting a desktop 2 application takes ME to desktop 2 not the application
to desktop 1 which I currently am viewing.

albrecht
-- 
Strangers passing in the street		|  And no one calls us to the land
By chance two separate glances meet	|  And no one crosses there alive
And I am you and what I see is me	|  And no one speaks
And do I take you by the hand		|  And no one tries
And lead you through the land		|  And no one flies around the sun
And help me understand the best I can			-- Pink Floyd, "Echoes"
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep  6 12:54:39 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id MAA05830; Fri, 6 Sep 1996 12:54:38 -0500 (CDT)
Received: from skylark.ics.es.osaka-u.ac.jp (root@skylark.ics.es.osaka-u.ac.jp [133.1.240.35]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id MAA05821 for <fvwm-workers@hpc.uh.edu>; Fri, 6 Sep 1996 12:54:31 -0500 (CDT)
Received: from localhost (matusita@localhost [127.0.0.1]) by skylark.ics.es.osaka-u.ac.jp (8.7.5+2.6Wbeta7/3.5Wbeta/ICS-2.1Wv6-SKYLARK) with ESMTP id CAA11505 for <fvwm-workers@hpc.uh.edu>; Sat, 7 Sep 1996 02:53:48 +0900 (JST)
To: fvwm-workers@hpc.uh.edu
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
In-Reply-To: Your message of "Fri, 6 Sep 96 19:26:26 +0200"
References: <9609061726.AA04600@vta_host.auto.tuwien.ac.at>
X-Mailer: Mew version 1.06 on Emacs 19.28.1, Mule 2.3
X-FaceAnim: (-O_O-)(O_O- )(_O-  )(O-   )(-   -)(   -O)(  -O_)( -O_O)(-O_O-)
X-Fingerprint: 0C AC 93 FC E3 9D 9E 5B  3D B8 AC 5C 4A 79 D8 A6
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Message-Id: <19960907025346B/matusita@ics.es.osaka-u.ac.jp>
Date: Sat, 07 Sep 1996 02:53:46 +0900
From: Makoto MATSUSHITA <matusita@ics.es.osaka-u.ac.jp>
X-Dispatcher: impost version 0.92+ (Aug. 9, 1996)
Lines: 20
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


albrecht> would "unsorted" be the order of creation?

Maybe he wants so.

albrecht> I think this should be changed to one _text_ parameter for clarity:
albrecht> (I always have to look up what -4 means :-) )
albrecht> 	i   for iconname
albrecht> 	u   for unsorted (default is sort by desktop
albrecht> 	a   for all (default and weakest-> overwritten by 
albrecht> 		     any other of the following option)
albrecht> 	c   for current
albrecht> 	#   for desktop # only

Hmm. If it is implemented, does 'WindowList u' make what I (oh, not
me, just my friend :) want to do ? (sounds cool to me; args of
WindowList is like a magic...)

- -
Makoto `MAR_kun' MATSUSHITA
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep  9 03:54:38 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id DAA09493; Mon, 9 Sep 1996 03:54:37 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id DAA09488 for <fvwm-workers@hpc.uh.edu>; Mon, 9 Sep 1996 03:54:28 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA18000
  (5.65c/IDA-1.4.4); Mon, 9 Sep 1996 10:06:57 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA15448; Mon, 9 Sep 96 10:06:56 +0200
Date: Mon, 9 Sep 96 10:06:56 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609090806.AA15448@vta_host.auto.tuwien.ac.at>
To: matusita@ics.es.osaka-u.ac.jp
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <19960907025346B/matusita@ics.es.osaka-u.ac.jp> (message from Makoto MATSUSHITA on Sat, 07 Sep 1996 02:53:46 +0900)
Subject: Re: [2.0.43] PATCH: Do NOT sort WindowList
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3

>>>>> Makoto MATSUSHITA writes:

albrecht> I think this should be changed to one _text_ parameter for clarity:
albrecht> (I always have to look up what -4 means :-) )
albrecht> i   for iconname
albrecht> u   for unsorted (default is sort by desktop
albrecht> a   for all (default and weakest-> overwritten by 
albrecht>              any other of the following option)
albrecht> c   for current
albrecht> #   for desktop # only

M> Hmm. If it is implemented, does 'WindowList u' make what I (oh, not
M> me, just my friend :) want to do ? (sounds cool to me; args of
M> WindowList is like a magic...)

yes. It's always been a miracle for me, too. I have to read the complete
section in the manpage every time I mangle around with WindowList.

albrecht
-- 
Razors pain you;	Rivers are damp;
Acids stain you;        And drugs cause cramp.
Guns aren't lawful;	Nooses give;
Gas smells awful;	You might as well live.		-- Dorothy Parker
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep  9 06:22:49 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id GAA11414; Mon, 9 Sep 1996 06:22:49 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id GAA11401; Mon, 9 Sep 1996 06:22:37 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA18249
  (5.65c/IDA-1.4.4); Mon, 9 Sep 1996 13:22:35 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA16752; Mon, 9 Sep 96 13:22:33 +0200
Date: Mon, 9 Sep 96 13:22:33 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609091122.AA16752@vta_host.auto.tuwien.ac.at>
To: FVWM2 mailing list <fvwm@hpc.uh.edu>,
        FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>
Subject: [BUG/PATCH] resize race condition
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


Hi,

There is an odd interaction between resize stick & paging.

I wanted to resize a sticky perfmeter window:

I select resize from the root window menu (no decorations on my
perfmeters).

When dragging the lower left border of the perfmeter into the lower left
border of the page (lower middle page of my 4x2 desktop), I release the
button, just while the page flips.

Then the window is gone.

Not on any page, of the desktop any more (I use only one desktop)

Simply not mapped.

The process is still there and must be killed.

If I release the button AFTER the pageflip, everything is fine (not
exactly, as I wanted the window to stay on that page, and not to span over
two pages, but well, it's still there at least).

Ok, so I changed my .fvwm2rc for perfmeters to be seen in the windowlist:

When I select the "missing" perfmeter, I get warped to the next (right)
page. 

Strange. nothing's there.
I retry.
I get warped to the next page.

And so on, till I'm at the rightmost page.

A closer look at the windowlist reveals: position: +1400-74


It's now a sticky window with position on "right page" (i.e:
screenxsize+xxx), so it's always just on the _next_ page.

Always just one page away, but forever unreachable.
Unless I could do some "unstick -> select from windowlist" :-(

BTW: Chuck, have you decided on my windowlist/menu changes yet?

so I got 2 possible fixes: read comments for more info.


*** resize.c.orig	Mon Sep  9 11:45:24 1996
--- resize.c	Mon Sep  9 13:08:32 1996
***************
*** 217,224 ****
  	  /* need to move the viewport */
  	  HandlePaging(Scr.EdgeScrollX,Scr.EdgeScrollY,&x,&y,
  		       &delta_x,&delta_y,False);
! 	  origx -= delta_x;
! 	  origy -= delta_y;
  	  dragx -= delta_x;
  	  dragy -= delta_y;
  
--- 217,235 ----
  	  /* need to move the viewport */
  	  HandlePaging(Scr.EdgeScrollX,Scr.EdgeScrollY,&x,&y,
  		       &delta_x,&delta_y,False);
! 
! /* This is a little big-sisterish, as a sticky window cannot grow larger than */
! /* the screen now (well you can resize-move-resize-move-... but that's yucky */
! /* Also the not-being-moved border of the sticky window hops to the current page */
! /* after a flip. It's rather, uhm, "unmotivated & not-asked-for hopping around". */
! #if 1
! /* DON'T adjust origin for sticky windows !!! albrecht */
! 	  if (!(tmp_win->flags & STICKY))
! #endif
! 	  {
! 	      origx -= delta_x;
! 	      origy -= delta_y;
!           }
  	  dragx -= delta_x;
  	  dragy -= delta_y;
  
***************
*** 248,253 ****
--- 259,283 ----
    if(!abort)
      {
        ConstrainSize (tmp_win, &dragWidth, &dragHeight);
+ 
+ #if 0
+ /* maybe better, less limiting fix for offscreen sticky windows: resize */
+ /* normally, then fetch it back to the current screen upon finish, if the */
+ /* dammned race condition hit. I know it's not pretty, but I can't find the */
+ /* race, I'm no X programmer.		albrecht */
+       if (tmp_win->flags & STICKY) /* if it was a sticky window, move it's */
+       {				   /* origin back to the visible page */
+ 	  while (origx >= Scr.MyDisplayWidth)
+ 	      origx -= Scr.MyDisplayWidth;
+ 	  while (origy >= Scr.MyDisplayHeight)
+ 	      origx -= Scr.MyDisplayHeight;
+ 	  while (origx+dragWidth <= 0)
+ 	      origx += Scr.MyDisplayWidth;
+     	  while (origy+dragHeight <= 0)
+ 	      origy += Scr.MyDisplayHeight;
+       }
+ #endif
+ 
        SetupFrame (tmp_win, dragx - tmp_win->bw, 
  		  dragy - tmp_win->bw, dragWidth, dragHeight,FALSE);
      }


albrecht

BTW: what has happened to the workers list, I only get matsushita san's and
     my own postings there since Aug 30th.
     Very private, but I'd like to see some more traffic there.
-- 
My boss thinks that giving developers enough memory helps
productivity, so as long as nobody tells him that it just makes us
write bloated software, I don't have a problem.
						-- Per Abrahamsen
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Tue Sep 10 08:13:12 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id IAA12129; Tue, 10 Sep 1996 08:13:11 -0500 (CDT)
Received: from VNET.IBM.COM (vnet.ibm.com [199.171.26.4]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id IAA12116 for <fvwm-workers@hpc.uh.edu>; Tue, 10 Sep 1996 08:13:05 -0500 (CDT)
Received: from FISHKILL by VNET.IBM.COM (IBM VM SMTP V2R3) with BSMTP id 8670;
   Tue, 10 Sep 96 09:13:10 EDT
Received: by FISHKILL (XAGENTA 4.0) id 2445; Tue, 10 Sep 1996 09:12:52 -0400 
Received: by cold.fishkill.ibm.com (AIX 3.2/UCB 5.64/4.03)
          id AA24732; Tue, 10 Sep 1996 09:12:42 -0400
Date: Tue, 10 Sep 1996 09:12:42 -0400
Message-Id: <9609101312.AA24732@cold.fishkill.ibm.com>
From: "Charles Hines" <chuck_hines@VNET.IBM.COM>
To: The FVWM Discussion List <fvwm@hpc.uh.edu>,
        The FVWM Workers List <fvwm-workers@hpc.uh.edu>
Subject: my silence of late
X-Face: 'pn"gAx+&w4-=-}\z>*.Y*@(lC;t1<P);@iwiv';)vn3H2\/.x#;>J[a,/Q.Yv0^Wwc6_"H]}}-"?%)ETS`1v[]P`w4,E.9Bgf*XI4<H{C}Mf@'Ms)z?Bqzf"8v/oY\9K){w}\pw
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


Howdy all,

Just wanted to let you all know that I'm still alive, and that 2.1 is
nearing completion, although it's going extremely slowly right now due
to my already taxed 'free time' becoming almost nil over the past
month or two.

That's also why I haven't really said much on the lists lately, so I
apologize if I have failed to answer any questions or participate in
various discussions lately.  I will try to get to them, belatedly.

I'm going to try and make some more time for fvwm over the next couple
of weeks to try and get 2.1 out there finially.  Not every bug will be
fixed, of course, since that's an impossible task...

Chuck

--
*******************************************************************************
Charles K. Hines <chuck_hines@vnet.ibm.com>
IBM Logic Synthesis Developer [BooleDozer (TM)]
Martial Arts Instructor [Modern Arnis, Presas Style Filipino Martial Arts]

         "Go back to sleep, Chuck.  You're just havin' a nightmare
             -- of course, we ARE still in Hell." (Gary Larson)
*******************************************************************************
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Wed Sep 11 03:01:52 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id DAA23400; Wed, 11 Sep 1996 03:01:49 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id DAA23372 for <fvwm-workers@hpc.uh.edu>; Wed, 11 Sep 1996 03:01:35 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA01227
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Wed, 11 Sep 1996 10:01:30 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA22383; Tue, 10 Sep 96 15:43:53 +0200
Date: Tue, 10 Sep 96 15:43:53 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609101343.AA22383@vta_host.auto.tuwien.ac.at>
To: FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>
Subject: bug in expand allocation
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


try adding this lines to the very end of the expand function in complex.c

if (j!=l2)
fprintf(stderr,"ERROR: expand failed: %d != %d %d:%s\n",l2,j,strlen(out),out);

and look at the log.
l2= allocated length,
strlen(out) should be equal to j = actual length
out is the expanded string.
it's no tragedy since in most cases, too much is allocated (4 to 12 char's).


this comes from change-anomalies:
the two while-if-trees should be identical, but they aren't.

found these while hacking up some things.
can't submit a proper patch, since I've mangled too much while hacking.

albrecht
-- 
The more I see the more I hear the more I find the fewer answers
I close my mind, I shut it out but you know its getting harder
to calm down, to reason out, to come to terms with
what it's all about					-- Marillion
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Wed Sep 11 03:01:55 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id DAA23420; Wed, 11 Sep 1996 03:01:54 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id DAA23375 for <fvwm-workers@hpc.uh.edu>; Wed, 11 Sep 1996 03:01:37 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA01218
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Wed, 11 Sep 1996 10:01:25 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA23450; Tue, 10 Sep 96 18:05:49 +0200
Date: Tue, 10 Sep 96 18:05:49 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609101605.AA23450@vta_host.auto.tuwien.ac.at>
To: fvwm-workers@hpc.uh.edu
In-Reply-To: message from albrecht on Tue, 10 Sep 96 15:43:51 +0200
Subject: Re: bug in expand allocation
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3

>>>>> albrecht  writes:

A> try adding this lines to the very end of the expand function in complex.c

A> if (j!=l2)
A> fprintf(stderr,"ERROR: expand failed: %d != %d %d:%s\n",l2,j,strlen(out),out);

A> and look at the log.
A> l2= allocated length,
A> strlen(out) should be equal to j = actual length
A> out is the expanded string.
A> it's no tragedy since in most cases, too much is allocated (4 to 12 char's).
                            ^^^^
not entirely correct: in ALL cases.
l2 is an upper bound to the length, and that's ok to make it speedy.

sorry, I posted too early,
albrecht
-- 
What is history but a fable we have all agreed upon ? -- Napoleon
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Sun Sep 15 09:36:29 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id JAA27646; Sun, 15 Sep 1996 09:36:28 -0500 (CDT)
Received: from intrepid.engin.umich.edu (intrepid.engin.umich.edu [141.212.192.14]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id JAA27641 for <fvwm-workers@hpc.uh.edu>; Sun, 15 Sep 1996 09:36:24 -0500 (CDT)
Received: from localhost (localhost.engin.umich.edu [127.0.0.1]) by intrepid.engin.umich.edu (8.6.12/8.6.4) with ESMTP id KAA11782; Sun, 15 Sep 1996 10:36:24 -0400
Message-Id: <199609151436.KAA11782@intrepid.engin.umich.edu>
To: fvwm-workers@hpc.uh.edu
cc: anon@engin.umich.edu
Subject: testing
Date: Sun, 15 Sep 1996 10:36:23 -0400
From: Omar S Juma <anon@engin.umich.edu>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-alpha9-jlt3


...anon...
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 16 14:52:42 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id OAA06187; Mon, 16 Sep 1996 14:52:41 -0500 (CDT)
Received: from porsta.cs.Helsinki.FI (root@porsta.cs.Helsinki.FI [128.214.48.124]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id OAA06181 for <fvwm-workers@hpc.uh.edu>; Mon, 16 Sep 1996 14:52:31 -0500 (CDT)
Received: from karhu (ituohela@karhu.Helsinki.FI [128.214.4.13]) by porsta.cs.Helsinki.FI (8.6.10/8.6.9) with SMTP id WAA08902 for <fvwm-workers@hpc.uh.edu>; Mon, 16 Sep 1996 22:52:24 +0300
Message-ID: <323DAFF8.4150@iki.fi>
Date: Mon, 16 Sep 1996 22:52:24 +0300
From: Hile Tuohela <hile@iki.fi>
Organization: Helsingin yliopisto
X-Mailer: Mozilla 3.0 (X11; I; HP-UX A.09.01 9000/735)
MIME-Version: 1.0
To: fvwm-workers@hpc.uh.edu
Subject: Little fix to fvwm2's configure.h
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

In fvwm's configure.h there are rows

#ifdef __alpha
#define NEEDS_ALPHA_HEADER
#undef BROKEN_SUN_HEADERS
#endif /* (__alpha) */

These shouldn't be defined for linux on alpha. __alpha matches
on linuxes too, so we should test here maybe
#if defined __alpha && !defined __linux__
or something like that. At least this works for me ;)

Please change this before fvwm 2.1 comes out.

	*hile*
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 16 15:02:57 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id PAA06559; Mon, 16 Sep 1996 15:02:56 -0500 (CDT)
Received: from porsta.cs.Helsinki.FI (root@porsta.cs.Helsinki.FI [128.214.48.124]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id PAA06550 for <fvwm-workers@hpc.uh.edu>; Mon, 16 Sep 1996 15:02:50 -0500 (CDT)
Received: from karhu (ituohela@karhu.Helsinki.FI [128.214.4.13]) by porsta.cs.Helsinki.FI (8.6.10/8.6.9) with SMTP id XAA08972 for <fvwm-workers@hpc.uh.edu>; Mon, 16 Sep 1996 23:02:46 +0300
Message-ID: <323DB266.706F@iki.fi>
Date: Mon, 16 Sep 1996 23:02:46 +0300
From: Hile Tuohela <hile@iki.fi>
Organization: Helsingin yliopisto
X-Mailer: Mozilla 3.0 (X11; I; HP-UX A.09.01 9000/735)
MIME-Version: 1.0
To: fvwm-workers@hpc.uh.edu
Subject: fvwm2 and linux on alpha
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

Sorry for another posting, but there was still one error.

In Fvwm.tmpl KLUDGE_LIBS is defined for AlphaArchitecture
and linux once again doesn't need this. I suggest same 
change, instead of testing #ifdef AlphaArchitecture
we should test for example 
#if defined AlphaArchitecture && !defined __linux__

Maybe that was all...

	*hile*
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Wed Sep 18 19:37:03 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id TAA20237; Wed, 18 Sep 1996 19:37:03 -0500 (CDT)
Received: from bobcat.cs.duke.edu (bobcat.cs.duke.edu [152.3.140.36]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id TAA20233 for <fvwm-workers@hpc.uh.edu>; Wed, 18 Sep 1996 19:36:58 -0500 (CDT)
Received: from moa.cs.duke.edu (moa.cs.duke.edu [152.3.140.97]) by bobcat.cs.duke.edu (8.7.5/8.6.9) with ESMTP id UAA29758 for <fvwm-workers@hpc.uh.edu>; Wed, 18 Sep 1996 20:36:56 -0400 (EDT)
Received: from localhost (gjb@localhost) 
	by moa.cs.duke.edu (8.7.5/8.6.9) with SMTP
	id UAA24866 for <fvwm-workers@hpc.uh.edu>; Wed, 18 Sep 1996 20:36:40 -0400 (EDT)
X-Authentication-Warning: moa.cs.duke.edu: gjb owned process doing -bs
Date: Wed, 18 Sep 1996 20:36:40 -0400 (EDT)
From: "Greg J. Badros" <gjb@cs.duke.edu>
To: fvwm-workers@hpc.uh.edu
Subject: Fvwm-2.0.43 patches
Message-ID: <Pine.SOL.3.93.960918202632.24793B-200000@moa.cs.duke.edu>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-851401618-843093400=:24793"
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-851401618-843093400=:24793
Content-Type: TEXT/PLAIN; charset=US-ASCII

Here are a couple of patches that fix some annoyances with Fvwm-2.0.43.
They do the following:

o Make a negative second argument to window list show only icons, and
  reinterpret the argument as a positive. (eg. WindowList 1 -1 means show
  icon names of only icons from all desktops-- an excellent, efficient
  icon manager)

o Fixes a bug in FvwmButtons which caused a seg fault in the module during
  initialization sometimes.

o Adds a new command, "InfoMsg"  that just echos a message to the error
  channel-- useful for debugging output when you've a complicated .fvwm2rc

o Improves FvwmM4 so that the -debug is implicit (w/o it modules could
  fail to work-- the output file needs to stay around), and added
  "-outfile" option to specify the name of the m4-processed file.
  Also made -m4opt mostly unnecessary by passing "-*" on to m4--
  specifically this gives you -I<dir> and -D<define> for free.
  The relevant part of my .xsession now looks like this:

------
env > $HOME/.Xrootenv.$$
FVWMDIR=$HOME/.fvwm
FVWMBIN=fvwm2
# -I/etc/X11/TheNextLevel

rm -f $HOME/.fvwm2rc
exec $FVWMBIN -cmd "FvwmM4 -debug -D_TRACE -I$FVWMDIR -outfile
$HOME/.fvwm2rc $FVWMDIR/fvwm2rc.m4" -display :0 | tee $HOME/.FVWM2-errors
> /dev/console 2>&1
rm $HOME/.Xrootenv.$$
------
This will use .fvwm/fvwm2rc.m4 as the main initialization file, allowing
it to include other m4-files from the .fvwm directory.

Hopefully, others will find these patches useful.  I'd welcome their
addition to the main distribution.

Greg J. Badros
gjb@cs.duke.edu
http://www.cs.duke.edu/~gjb





---559023410-851401618-843093400=:24793
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="fvwm-gjb.patch"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.SOL.3.93.960918203640.24793C@moa.cs.duke.edu>
Content-Description: 

KioqIHZlcnNpb24uaAkxOTk2LzA5LzE4IDE3OjA3OjM5CTEuMQ0KLS0tIHZl
cnNpb24uaAkxOTk2LzA5LzE4IDE3OjA3OjQ3DQoqKioqKioqKioqKioqKioN
CioqKiAxLDIgKioqKg0KISAjZGVmaW5lIFZFUlNJT04gIjIuMC40MyINCiAg
DQotLS0gMSwyIC0tLS0NCiEgI2RlZmluZSBWRVJTSU9OICIyLjAuNDMtZ2pi
Ig0KICANCioqKiBmdndtL2J1aWx0aW5zLmMJMTk5Ni8wOS8xOCAxNzoxNDoz
NAkxLjENCi0tLSBmdndtL2J1aWx0aW5zLmMJMTk5Ni8wOS8xOCAxNzoyMjoy
Ng0KKioqKioqKioqKioqKioqDQoqKiogMTIwNywxMjEyICoqKioNCi0tLSAx
MjA3LDEyMTkgLS0tLQ0KICAgIGZyZWUodG1wKTsNCiAgfQ0KICANCisgdm9p
ZCBJbmZvTXNnKFhFdmVudCAqZXZlbnRwLFdpbmRvdyB3LEZ2d21XaW5kb3cg
KnRtcF93aW4sDQorIAkgICAgIHVuc2lnbmVkIGxvbmcgY29udGV4dCwgY2hh
ciAqYWN0aW9uLCBpbnQqIE1vZHVsZSkNCisgew0KKyAgICAgYWN0aW9uW3N0
cmxlbihhY3Rpb24pLTFdID0gMDsgLyogY2hvcCBvZmYgXG4gKi8NCisgICAg
IGZ2d21fbXNnKElORk8sIlBhcnNlciIsYWN0aW9uKTsNCisgfQ0KKyANCiAg
I2lmZGVmIEZWV01fTU9EVUxFRElSDQogIGNoYXIgKk1vZHVsZVBhdGggPSBG
VldNX01PRFVMRURJUjsNCiAgI2Vsc2UNCioqKiBmdndtL2Z1bmN0aW9ucy5j
CTE5OTYvMDkvMTggMTc6MTE6MjUJMS4xDQotLS0gZnZ3bS9mdW5jdGlvbnMu
YwkxOTk2LzA5LzE4IDE3OjEyOjE1DQoqKioqKioqKioqKioqKioNCioqKiA2
Myw2OCAqKioqDQotLS0gNjMsNjkgLS0tLQ0KICAgIHsiSWNvbmlmeSIsICAg
ICAgaWNvbmlmeV9mdW5jdGlvbiwgRl9JQ09OSUZZLCAgICAgICAgICAgICBG
VU5DX05FRURTX1dJTkRPV30sDQogICAgeyJJY29uRm9udCIsICAgICBMb2Fk
SWNvbkZvbnQsICAgICBGX0lDT05GT05ULCAgICAgICAgICAgIEZVTkNfTk9f
V0lORE9XfSwNCiAgICB7Ikljb25QYXRoIiwgICAgIHNldEljb25QYXRoLCAg
ICAgIEZfSUNPTl9QQVRILCAgICAgICAgICAgRlVOQ19OT19XSU5ET1d9LA0K
KyAgIHsiSW5mb01zZyIsICAgICAgSW5mb01zZywgICAgICAgICAgRl9JTkZP
X01TRywgICAgICAgICAgICBGVU5DX05PX1dJTkRPV30sDQogICAgeyJLZXki
LCAgICAgICAgICBQYXJzZUtleUVudHJ5LCAgICBGX0tFWSwgICAgICAgICAg
ICAgICAgIEZVTkNfTk9fV0lORE9XfSwNCiAgICB7Ikxvd2VyIiwgICAgICAg
IGxvd2VyX2Z1bmN0aW9uLCAgIEZfTE9XRVIsICAgICAgICAgICAgICAgRlVO
Q19ORUVEU19XSU5ET1d9LA0KICAgIHsiTWF4aW1pemUiLCAgICAgTWF4aW1p
emUsICAgICAgICAgRl9NQVhJTUlaRSwgICAgICAgICAgICBGVU5DX05FRURT
X1dJTkRPV30sDQoqKiogZnZ3bS9taXNjLmgJMTk5Ni8wOS8xOCAxNzoxOTow
MgkxLjENCi0tLSBmdndtL21pc2MuaAkxOTk2LzA5LzE4IDE3OjE5OjI1DQoq
KioqKioqKioqKioqKioNCioqKiA0MzksNDQ0ICoqKioNCi0tLSA0MzksNDQ2
IC0tLS0NCiAgdm9pZCBzZXRQaXhtYXBQYXRoKFhFdmVudCAqZXZlbnRwLFdp
bmRvdyB3LEZ2d21XaW5kb3cgKnRtcF93aW4sDQogIAkJICAgICB1bnNpZ25l
ZCBsb25nIGNvbnRleHQsIGNoYXIgKmFjdGlvbixpbnQqIE1vZHVsZSk7DQog
IA0KKyB2b2lkIEluZm9Nc2coWEV2ZW50ICpldmVudHAsV2luZG93IHcsRnZ3
bVdpbmRvdyAqdG1wX3dpbiwNCisgCSAgICAgdW5zaWduZWQgbG9uZyBjb250
ZXh0LCBjaGFyICphY3Rpb24saW50KiBNb2R1bGUpOw0KICB2b2lkIFByb2Nl
c3NOZXdTdHlsZShYRXZlbnQgKmV2ZW50cCxXaW5kb3cgdyxGdndtV2luZG93
ICp0bXBfd2luLHVuc2lnbmVkIGxvbmcgY29udGV4dCwNCiAgCSAgY2hhciAq
YWN0aW9uLCBpbnQgKk1vZHVsZSk7DQogIHZvaWQgU2V0SGlDb2xvcihYRXZl
bnQgKmV2ZW50cCxXaW5kb3cgdyxGdndtV2luZG93ICp0bXBfd2luLA0KKioq
IGZ2d20vcGFyc2UuaAkxOTk2LzA5LzE4IDE3OjEzOjM3CTEuMQ0KLS0tIGZ2
d20vcGFyc2UuaAkxOTk2LzA5LzE4IDE3OjEzOjQyDQoqKioqKioqKioqKioq
KioNCioqKiA3Myw3OCAqKioqDQotLS0gNzMsNzkgLS0tLQ0KICAjZGVmaW5l
IEZfQ09MT1JNQVBfRk9DVVMgICAgICAgIDU1DQogICNkZWZpbmUgRl9USVRM
RVNUWUxFICAgICAgICAgICAgNTYNCiAgI2RlZmluZSBGX0VYRUNfU0VUVVAg
ICAgICAgICAgICA1Nw0KKyAjZGVmaW5lIEZfSU5GT19NU0cgICAgICAgICAg
ICAgIDU4DQogIC8qIEZ1bmN0aW9ucyB3aGljaCByZXF1aXJlIGEgdGFyZ2V0
IHdpbmRvdyAqLw0KICAjZGVmaW5lIEZfUkVTSVpFCQkxMDANCiAgI2RlZmlu
ZSBGX1JBSVNFCQkJMTAxDQoqKiogZnZ3bS93aW5kb3dzLmMJMTk5Ni8wOS8x
OCAxNjoyNjoxMgkxLjENCi0tLSBmdndtL3dpbmRvd3MuYwkxOTk2LzA3LzA4
IDE5OjMwOjU0DQoqKioqKioqKioqKioqKioNCioqKiA0OCw1NyAqKioqDQog
ICAgaW50IHZhbDEsIHZhbDIsIHZhbDFfdW5pdCx2YWwyX3VuaXQsbjsNCiAg
ICBjaGFyICp0X2hvdDsJCQkvKiBNZW51IGxhYmVsIHdpdGggaG90a2V5IGFk
ZGVkICovDQogICAgY2hhciBzY3V0ID0gJzAnOwkJLyogQ3VycmVudCBzaG9y
dCBjdXQga2V5ICovDQogIA0KICAgIG4gPSBHZXRUd29Bcmd1bWVudHMoYWN0
aW9uLCAmdmFsMSwgJnZhbDIsICZ2YWwxX3VuaXQsICZ2YWwyX3VuaXQpOw0K
ICANCiEgICBzcHJpbnRmKHRsYWJlbCwiQ3VycmVudERlc2s6ICVkXHRHZW9t
ZXRyeSIsU2NyLkN1cnJlbnREZXNrKTsNCiAgICBtcj1OZXdNZW51Um9vdCh0
bGFiZWwsMCk7DQogICAgQWRkVG9NZW51KG1yLCB0bGFiZWwsICJUSVRMRSIp
OyAgICAgIA0KICANCi0tLSA0OCw2NiAtLS0tDQogICAgaW50IHZhbDEsIHZh
bDIsIHZhbDFfdW5pdCx2YWwyX3VuaXQsbjsNCiAgICBjaGFyICp0X2hvdDsJ
CQkvKiBNZW51IGxhYmVsIHdpdGggaG90a2V5IGFkZGVkICovDQogICAgY2hh
ciBzY3V0ID0gJzAnOwkJLyogQ3VycmVudCBzaG9ydCBjdXQga2V5ICovDQor
ICAgaW50IGZPbmx5SWNvbnM7DQogIA0KICAgIG4gPSBHZXRUd29Bcmd1bWVu
dHMoYWN0aW9uLCAmdmFsMSwgJnZhbDIsICZ2YWwxX3VuaXQsICZ2YWwyX3Vu
aXQpOw0KICANCiEgICBmT25seUljb25zID0gKHZhbDIgPCAwKTsNCiEgICBp
ZiAoIHZhbDIgPCAwICkNCiEgICAgIHZhbDIgPSAtdmFsMjsNCiEgDQohICAg
aWYgKCFmT25seUljb25zKQ0KISAgICAgc3ByaW50Zih0bGFiZWwsIkN1cnJl
bnREZXNrOiAlZFx0R2VvbWV0cnkiLFNjci5DdXJyZW50RGVzayk7DQohICAg
ZWxzZQ0KISAgICAgc3ByaW50Zih0bGFiZWwsIkN1cnJlbnREZXNrOiAlZFx0
SWNvbnMiLFNjci5DdXJyZW50RGVzayk7DQohIA0KICAgIG1yPU5ld01lbnVS
b290KHRsYWJlbCwwKTsNCiAgICBBZGRUb01lbnUobXIsIHRsYWJlbCwgIlRJ
VExFIik7ICAgICAgDQogIA0KKioqKioqKioqKioqKioqDQoqKiogODgsOTMg
KioqKg0KLS0tIDk3LDEwNCAtLS0tDQogIAkgIGlmKCh0LT5EZXNrID09IG5l
eHRfZGVzaykmJg0KICAJICAgICghKHQtPmZsYWdzICYgV0lORE9XTElTVFNL
SVApKSkNCiAgCSAgICB7DQorIAkgICAgICBpZiAoZk9ubHlJY29ucyAmJiAh
ICh0LT5mbGFncyAmIElDT05JRklFRCkpDQorIAkJY29udGludWU7DQogIAkg
ICAgICBpZiAoKytzY3V0ID09ICgnOScgKyAxKSkgc2N1dCA9ICdBJzsJLyog
TmV4dCBzaG9ydGN1dCBrZXkgKi8NCiAgCSAgICAgIGlmKHZhbDElMiAhPSAw
KQ0KICAJCW5hbWUgPSB0LT5pY29uX25hbWU7DQoqKioqKioqKioqKioqKioN
CioqKiA5OCwxMzIgKioqKg0KICAJICAgICAgDQogIAkgICAgICB0bmFtZSA9
IHNhZmVtYWxsb2MoNDApOw0KICAJICAgICAgdG5hbWVbMF09MDsNCiEgCSAg
ICAgIGlmKHQtPmZsYWdzICYgSUNPTklGSUVEKQ0KISAJCXN0cmNweSh0bmFt
ZSwgIigiKTsNCiEgCSAgICAgIHNwcmludGYobG9jLCIlZDoiLHQtPkRlc2sp
Ow0KISAJICAgICAgc3RyY2F0KHRuYW1lLGxvYyk7DQohIAkgICAgICBpZih0
LT5mcmFtZV94ID49MCkNCiEgCQlzcHJpbnRmKGxvYywiKyVkIix0LT5mcmFt
ZV94KTsNCiEgCSAgICAgIGVsc2UNCiEgCQlzcHJpbnRmKGxvYywiJWQiLHQt
PmZyYW1lX3gpOw0KISAJICAgICAgc3RyY2F0KHRuYW1lLCBsb2MpOw0KISAJ
ICAgICAgaWYodC0+ZnJhbWVfeSA+PTApDQohIAkJc3ByaW50Zihsb2MsIisl
ZCIsdC0+ZnJhbWVfeSk7DQohIAkgICAgICBlbHNlDQohIAkJc3ByaW50Zihs
b2MsIiVkIix0LT5mcmFtZV95KTsNCiEgCSAgICAgIHN0cmNhdCh0bmFtZSwg
bG9jKTsNCiEgCSAgICAgIGRoZWlnaHQgPSB0LT5mcmFtZV9oZWlnaHQgLSB0
LT50aXRsZV9oZWlnaHQgLSAyKnQtPmJvdW5kYXJ5X3dpZHRoOw0KISAJICAg
ICAgZHdpZHRoID0gdC0+ZnJhbWVfd2lkdGggLSAyKnQtPmJvdW5kYXJ5X3dp
ZHRoOw0KISAJICAgICAgDQohIAkgICAgICBkd2lkdGggLT0gdC0+aGludHMu
YmFzZV93aWR0aDsNCiEgCSAgICAgIGRoZWlnaHQgLT0gdC0+aGludHMuYmFz
ZV9oZWlnaHQ7DQohIAkgICAgICANCiEgCSAgICAgIGR3aWR0aCAvPSB0LT5o
aW50cy53aWR0aF9pbmM7DQohIAkgICAgICBkaGVpZ2h0IC89IHQtPmhpbnRz
LmhlaWdodF9pbmM7DQogIA0KISAJICAgICAgc3ByaW50Zihsb2MsInglZCIs
ZHdpZHRoKTsNCiEgCSAgICAgIHN0cmNhdCh0bmFtZSwgbG9jKTsNCiEgCSAg
ICAgIHNwcmludGYobG9jLCJ4JWQiLGRoZWlnaHQpOw0KISAJICAgICAgc3Ry
Y2F0KHRuYW1lLCBsb2MpOw0KISAJICAgICAgaWYodC0+ZmxhZ3MgJiBJQ09O
SUZJRUQpDQohIAkJc3RyY2F0KHRuYW1lLCAiKSIpOw0KICAJICAgICAgc3By
aW50Zih0bGFiZWwsIlJBSVNFX0lUICVsZCAlbGQiLHQsdC0+dyk7DQogIAkg
ICAgICBzdHJjYXQodF9ob3QsIlx0Iik7DQogIAkgICAgICBzdHJjYXQodF9o
b3QsdG5hbWUpOw0KLS0tIDEwOSwxNDYgLS0tLQ0KICAJICAgICAgDQogIAkg
ICAgICB0bmFtZSA9IHNhZmVtYWxsb2MoNDApOw0KICAJICAgICAgdG5hbWVb
MF09MDsNCiEgCSAgICAgIGlmICghZk9ubHlJY29ucykNCiEgCQl7DQohIAkJ
aWYodC0+ZmxhZ3MgJiBJQ09OSUZJRUQpDQohIAkJICBzdHJjcHkodG5hbWUs
ICIoIik7DQohIAkJc3ByaW50Zihsb2MsIiVkOiIsdC0+RGVzayk7DQohIAkJ
c3RyY2F0KHRuYW1lLGxvYyk7DQohIAkJaWYodC0+ZnJhbWVfeCA+PTApDQoh
IAkJICBzcHJpbnRmKGxvYywiKyVkIix0LT5mcmFtZV94KTsNCiEgCQllbHNl
DQohIAkJICBzcHJpbnRmKGxvYywiJWQiLHQtPmZyYW1lX3gpOw0KISAJCXN0
cmNhdCh0bmFtZSwgbG9jKTsNCiEgCQlpZih0LT5mcmFtZV95ID49MCkNCiEg
CQkgIHNwcmludGYobG9jLCIrJWQiLHQtPmZyYW1lX3kpOw0KISAJCWVsc2UN
CiEgCQkgIHNwcmludGYobG9jLCIlZCIsdC0+ZnJhbWVfeSk7DQohIAkJc3Ry
Y2F0KHRuYW1lLCBsb2MpOw0KISAJCWRoZWlnaHQgPSB0LT5mcmFtZV9oZWln
aHQgLSB0LT50aXRsZV9oZWlnaHQgLSAyKnQtPmJvdW5kYXJ5X3dpZHRoOw0K
ISAJCWR3aWR0aCA9IHQtPmZyYW1lX3dpZHRoIC0gMip0LT5ib3VuZGFyeV93
aWR0aDsNCiEgDQohIAkJZHdpZHRoIC09IHQtPmhpbnRzLmJhc2Vfd2lkdGg7
DQohIAkJZGhlaWdodCAtPSB0LT5oaW50cy5iYXNlX2hlaWdodDsNCiEgDQoh
IAkJZHdpZHRoIC89IHQtPmhpbnRzLndpZHRoX2luYzsNCiEgCQlkaGVpZ2h0
IC89IHQtPmhpbnRzLmhlaWdodF9pbmM7DQogIA0KISAJCXNwcmludGYobG9j
LCJ4JWQiLGR3aWR0aCk7DQohIAkJc3RyY2F0KHRuYW1lLCBsb2MpOw0KISAJ
CXNwcmludGYobG9jLCJ4JWQiLGRoZWlnaHQpOw0KISAJCXN0cmNhdCh0bmFt
ZSwgbG9jKTsNCiEgCQlpZih0LT5mbGFncyAmIElDT05JRklFRCkNCiEgCQkg
IHN0cmNhdCh0bmFtZSwgIikiKTsNCiEgCQl9DQogIAkgICAgICBzcHJpbnRm
KHRsYWJlbCwiUkFJU0VfSVQgJWxkICVsZCIsdCx0LT53KTsNCiAgCSAgICAg
IHN0cmNhdCh0X2hvdCwiXHQiKTsNCiAgCSAgICAgIHN0cmNhdCh0X2hvdCx0
bmFtZSk7DQoqKiogbW9kdWxlcy9GdndtQnV0dG9ucy9GdndtQnV0dG9ucy5j
CTE5OTYvMDkvMTggMjI6Mzc6NDAJMS4xDQotLS0gbW9kdWxlcy9GdndtQnV0
dG9ucy9GdndtQnV0dG9ucy5jCTE5OTYvMDkvMTggMjI6Mzg6MDANCioqKioq
KioqKioqKioqKg0KKioqIDExMDAsMTEwNiAqKioqDQogICAgZ2NtID0gR0NG
b3JlZ3JvdW5kfEdDQmFja2dyb3VuZDsNCiAgICBnY3YuZm9yZWdyb3VuZCA9
IGZvcmVfcGl4Ow0KICAgIGdjdi5iYWNrZ3JvdW5kID0gYmFja19waXg7DQoh
ICAgaWYodWItPmZvbnQpDQogICAgICB7DQogICAgICAgIGdjdi5mb250ID0g
dWItPmMtPmZvbnQtPmZpZDsNCiAgICAgICAgZ2NtIHw9IEdDRm9udDsNCi0t
LSAxMTAwLDExMDYgLS0tLQ0KICAgIGdjbSA9IEdDRm9yZWdyb3VuZHxHQ0Jh
Y2tncm91bmQ7DQogICAgZ2N2LmZvcmVncm91bmQgPSBmb3JlX3BpeDsNCiAg
ICBnY3YuYmFja2dyb3VuZCA9IGJhY2tfcGl4Ow0KISAgIGlmKHViLT5jICYm
IHViLT5jLT5mb250KQ0KICAgICAgew0KICAgICAgICBnY3YuZm9udCA9IHVi
LT5jLT5mb250LT5maWQ7DQogICAgICAgIGdjbSB8PSBHQ0ZvbnQ7DQoqKiog
bW9kdWxlcy9GdndtTTQvRnZ3bU00LmMJMTk5Ni8wOS8xOCAxNjoyNzoyMwkx
LjENCi0tLSBtb2R1bGVzL0Z2d21NNC9GdndtTTQuYwkxOTk2LzA5LzE4IDE2
OjU2OjA2DQoqKioqKioqKioqKioqKioNCioqKiA2Myw2OCAqKioqDQotLS0g
NjMsNjkgLS0tLQ0KICBpbnQgIG00X2VuYWJsZTsgICAgICAgICAgICAgICAg
IC8qIHVzZSBtND8gKi8NCiAgaW50ICBtNF9wcmVmaXg7ICAgICAgICAgICAg
ICAgICAvKiBEbyBHTlUgbTQgcHJlZml4aW5nICgtUCkgKi8NCiAgY2hhciBt
NF9vcHRpb25zW0JVRlNJWl07ICAgICAgICAvKiBDb21tYW5kIGxpbmUgb3B0
aW9ucyB0byBtNCAqLw0KKyBjaGFyIG00X291dGZpbGVbQlVGU0laXSA9ICIi
OyAgIC8qIFRoZSBvdXRwdXQgZmlsZW5hbWUgZm9yIG00ICovDQogIGNoYXIg
Km00X3Byb2cgPSAibTQiOyAgICAgICAgICAgLyogTmFtZSBvZiB0aGUgbTQg
cHJvZ3JhbSAqLw0KICBpbnQgIG00X2RlZmF1bHRfcXVvdGVzOyAgICAgICAg
IC8qIFVzZSBkZWZhdWx0IG00IHF1b3RlcyAqLw0KICBjaGFyICptNF9zdGFy
dHF1b3RlID0gImAiOyAgICAgICAgIC8qIExlZnQgcXVvdGUgY2hhcmFjdGVy
cyBmb3IgbTQgKi8NCioqKioqKioqKioqKioqKg0KKioqIDgyLDg4ICoqKioN
CiAgICBjaGFyICpkaXNwbGF5X25hbWUgPSBOVUxMOw0KICAgIGNoYXIgKmZp
bGVuYW1lOw0KICAgIGNoYXIgKnRtcF9maWxlLCByZWFkX3N0cmluZ1s4MF0s
ZGVsZXRlX3N0cmluZ1s4MF07DQohICAgaW50IGksbTRfZGVidWcgPSAwOw0K
ICANCiAgICBtNF9lbmFibGUgPSBUUlVFOw0KICAgIG00X3ByZWZpeCA9IEZB
TFNFOw0KLS0tIDgzLDg5IC0tLS0NCiAgICBjaGFyICpkaXNwbGF5X25hbWUg
PSBOVUxMOw0KICAgIGNoYXIgKmZpbGVuYW1lOw0KICAgIGNoYXIgKnRtcF9m
aWxlLCByZWFkX3N0cmluZ1s4MF0sZGVsZXRlX3N0cmluZ1s4MF07DQohICAg
aW50IGk7DQogIA0KICAgIG00X2VuYWJsZSA9IFRSVUU7DQogICAgbTRfcHJl
Zml4ID0gRkFMU0U7DQoqKioqKioqKioqKioqKioNCioqKiAxMzUsMTQwICoq
KioNCi0tLSAxMzYsMTQzIC0tLS0NCiAgCX0NCiAgICAgICAgZWxzZSBpZiht
eXN0cmNhc2VjbXAoYXJndltpXSwiLW00b3B0IikgPT0gMCkNCiAgCXsNCisg
CSAgLyogbGVhdmluZyB0aGlzIGluIGp1c3QgaW4gY2FzZS0tIGFueSBvcHRp
b24gc3RhcnRpbmcgd2l0aCAnLScNCisgCSAgICAgd2lsbCBnZXQgcGFzc2Vk
IG9uIHRvIG00IGFueXdheSAqLw0KICAJICBzdHJjYXQobTRfb3B0aW9ucywg
YXJndlsrK2ldKTsNCiAgCSAgc3RyY2F0KG00X29wdGlvbnMsICIgIik7CSAg
ICANCiAgCX0NCioqKioqKioqKioqKioqKg0KKioqIDE1MiwxNjEgKioqKg0K
ICAJew0KICAJICBtNF9wcm9nID0gYXJndlsrK2ldOw0KICAJfQ0KICAgICAg
ICBlbHNlIGlmKG15c3RyY2FzZWNtcChhcmd2W2ldLCAiLWRlYnVnIikgPT0g
MCkNCiAgCXsNCiEgCSAgbTRfZGVidWcgPSAxOw0KICAJfQ0KICAgICAgICBl
bHNlDQogIAlmaWxlbmFtZSA9IGFyZ3ZbaV07DQogICAgICB9DQotLS0gMTU1
LDE3NCAtLS0tDQogIAl7DQogIAkgIG00X3Byb2cgPSBhcmd2WysraV07DQog
IAl9DQorICAgICAgIGVsc2UgaWYobXlzdHJjYXNlY21wKGFyZ3ZbaV0sICIt
b3V0ZmlsZSIpID09IDApDQorIAl7DQorIAkgIHN0cmNweShtNF9vdXRmaWxl
LGFyZ3ZbKytpXSk7DQorIAl9DQogICAgICAgIGVsc2UgaWYobXlzdHJjYXNl
Y21wKGFyZ3ZbaV0sICItZGVidWciKSA9PSAwKQ0KICAJew0KISAJICBmcHJp
bnRmKHN0ZGVyciwibTQncyAtZGVidWcgb3B0aW9uIGlzIG9ic29sZXRlZC5c
biIpOw0KICAJfQ0KKyAgICAgICBlbHNlIGlmIChteXN0cm5jYXNlY21wKGFy
Z3ZbaV0sIi0iLDEpID09IDApDQorIAl7DQorIAkgIC8qIHBhc3Mgb24gYW55
IG90aGVyIGFyZ3VtZW50cyBzdGFydGluZyB3aXRoICctJyB0byBtNCAqLw0K
KyAJICBzdHJjYXQobTRfb3B0aW9ucywgYXJndltpXSk7DQorIAkgIHN0cmNh
dChtNF9vcHRpb25zLCAiICIpOwkgICAgDQorICAgICAgICAgfQ0KICAgICAg
ICBlbHNlDQogIAlmaWxlbmFtZSA9IGFyZ3ZbaV07DQogICAgICB9DQoqKioq
KioqKioqKioqKioNCioqKiAxNzgsMTkwICoqKioNCiAgICBzcHJpbnRmKHJl
YWRfc3RyaW5nLCJyZWFkICVzXG4iLHRtcF9maWxlKTsNCiAgICBTZW5kSW5m
byhmZCxyZWFkX3N0cmluZywwKTsNCiAgDQohICAgLyogRm9yIGEgZGVidWdn
aW5nIHZlcnNpb24sIHdlIG1heSB3aXNoIHRvIG9taXQgdGhpcyBwYXJ0LiAq
Lw0KISAgIC8qIEknbGwgbGV0IHNvbWUgbTQgYWR2b2NhdGVzIGNsZWFuIHRo
aXMgdXAgKi8NCiEgICBpZighbTRfZGVidWcpDQohICAgICB7DQohICAgICAg
IHNwcmludGYoZGVsZXRlX3N0cmluZywiZXhlYyBybSAlc1xuIix0bXBfZmls
ZSk7DQohICAgICAgIFNlbmRJbmZvKGZkLGRlbGV0ZV9zdHJpbmcsMCk7DQoh
ICAgICB9DQogIH0NCiAgDQogIA0KLS0tIDE5MSwxOTcgLS0tLQ0KICAgIHNw
cmludGYocmVhZF9zdHJpbmcsInJlYWQgJXNcbiIsdG1wX2ZpbGUpOw0KICAg
IFNlbmRJbmZvKGZkLHJlYWRfc3RyaW5nLDApOw0KICANCiEgICAvKiBXZSBk
b24ndCB3YW50IHRvIHJlbW92ZSB0aGUgZmlsZSwgc2luY2UgbW9kdWxlcyBu
ZWVkIGl0IGFyb3VuZCAqLw0KICB9DQogIA0KICANCioqKioqKioqKioqKioq
Kg0KKioqIDIwNSwyMTcgKioqKg0KICAgIC8qIEdlbmVyYXRlIGEgdGVtcG9y
YXJ5IGZpbGVuYW1lLiAgSG9ub3IgdGhlIFRNUERJUiBlbnZpcm9ubWVudCB2
YXJpYWJsZSwNCiAgICAgICBpZiBzZXQuIEhvcGUgbm9ib2R5IGRlbGV0ZXMg
dGhpcyBmaWxlISAqLw0KICANCiEgICBpZiAoKHZjPWdldGVudigiVE1QRElS
IikpKSB7DQohICAgICBzdHJjcHkodG1wX25hbWUsIHZjKTsNCiAgICB9IGVs
c2Ugew0KISAgICAgc3RyY3B5KHRtcF9uYW1lLCAiL3RtcCIpOw0KICAgIH0N
Ci0gICBzdHJjYXQodG1wX25hbWUsICIvZnZ3bXJjWFhYWFhYIik7DQotICAg
bWt0ZW1wKHRtcF9uYW1lKTsNCiAgICAgIA0KICAgIGlmICgqdG1wX25hbWUg
PT0gJ1wwJykNCiAgICB7DQotLS0gMjEyLDIyOCAtLS0tDQogICAgLyogR2Vu
ZXJhdGUgYSB0ZW1wb3JhcnkgZmlsZW5hbWUuICBIb25vciB0aGUgVE1QRElS
IGVudmlyb25tZW50IHZhcmlhYmxlLA0KICAgICAgIGlmIHNldC4gSG9wZSBu
b2JvZHkgZGVsZXRlcyB0aGlzIGZpbGUhICovDQogIA0KISAgIGlmIChzdHJs
ZW4obTRfb3V0ZmlsZSkgPT0gMCkgew0KISAgICAgaWYgKCh2Yz1nZXRlbnYo
IlRNUERJUiIpKSkgew0KISAgICAgICBzdHJjcHkodG1wX25hbWUsIHZjKTsN
CiEgICAgIH0gZWxzZSB7DQohICAgICAgIHN0cmNweSh0bXBfbmFtZSwgIi90
bXAiKTsNCiEgICAgIH0NCiEgICAgIHN0cmNhdCh0bXBfbmFtZSwgIi9mdndt
cmNYWFhYWFgiKTsNCiEgICAgIG1rdGVtcCh0bXBfbmFtZSk7DQogICAgfSBl
bHNlIHsNCiEgICAgIHN0cmNweSh0bXBfbmFtZSxtNF9vdXRmaWxlKTsNCiAg
ICB9DQogICAgICANCiAgICBpZiAoKnRtcF9uYW1lID09ICdcMCcpDQogICAg
ew0KKioqKioqKioqKioqKioqDQoqKiogMjIyLDIzMCAqKioqDQogICAgLyoN
CiAgICAqKiBjaGVjayB0byBtYWtlIHN1cmUgaXQgZG9lc24ndCBleGlzdCBh
bHJlYWR5LCB0byBwcmV2ZW50IHNlY3VyaXR5IGhvbGUNCiAgICAqLw0KICAg
IGlmICgoZmQgPSBvcGVuKHRtcF9uYW1lLCBPX1dST05MWXxPX0VYQ0x8T19D
UkVBVCwgMDYwMCkpIDwgMCkNCiAgICB7DQohICAgICBwZXJyb3IoImV4Y2x1
c2l2ZSBvcGVuIGZvciB0bXBfbmFtZSBmYWlsZWQgaW4gbTRfZGVmcyIpOw0K
ICAgICAgZXhpdCgwMzc3KTsNCiAgICB9DQogICAgY2xvc2UoZmQpOw0KLS0t
IDIzMywyNDIgLS0tLQ0KICAgIC8qDQogICAgKiogY2hlY2sgdG8gbWFrZSBz
dXJlIGl0IGRvZXNuJ3QgZXhpc3QgYWxyZWFkeSwgdG8gcHJldmVudCBzZWN1
cml0eSBob2xlDQogICAgKi8NCisgICAvKiBXaHkgaXMgdGhpcyBhIHNlY3Vy
aXR5IGhvbGU/ICBJc24ndCBGdndtTTQgcnVuIHcvIHVzZXIncyBwZXJtaXNz
aW9ucz8gKi8NCiAgICBpZiAoKGZkID0gb3Blbih0bXBfbmFtZSwgT19XUk9O
TFl8T19FWENMfE9fQ1JFQVQsIDA2MDApKSA8IDApDQogICAgew0KISAgICAg
cGVycm9yKCJleGNsdXNpdmUgb3BlbiBmb3Igb3V0cHV0IGZpbGUgZmFpbGVk
IGluIG00X2RlZnMiKTsNCiAgICAgIGV4aXQoMDM3Nyk7DQogICAgfQ0KICAg
IGNsb3NlKGZkKTsNCg==
---559023410-851401618-843093400=:24793--
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Wed Sep 18 22:25:01 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id WAA25578; Wed, 18 Sep 1996 22:25:00 -0500 (CDT)
Received: from mail1.its.rpi.edu (mail1.its.rpi.edu [128.113.100.7]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id WAA25568; Wed, 18 Sep 1996 22:24:55 -0500 (CDT)
Received: from pluto.solarsystem.org (rts4p2.xyp.rpi.edu [128.113.29.71]) by mail1.its.rpi.edu (8.6.9/8.6.4) with ESMTP id XAA23219; Wed, 18 Sep 1996 23:24:39 -0400
Received: (from drewvel@localhost) by pluto.solarsystem.org (8.7.4/8.7.3) id XAA10400; Wed, 18 Sep 1996 23:25:24 -0400
Date: Wed, 18 Sep 1996 23:25:24 -0400
Message-Id: <199609190325.XAA10400@pluto.solarsystem.org>
From: Andrew Veliath <veliaa@rpi.edu>
To: FVWM List <fvwm@hpc.uh.edu>
Cc: fvwm-workers@hpc.uh.edu
Subject: Experimental Titlebar Addition
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

Uh oh, here is an experimental [i.e., first implementation :] patch
which textures pixmaps in the window frame background... Please note
this may or may not cause problems for you, but please email me
problems you have [or don't have].  I've not tested it extensively.

All it does is add a new titlestyle, i.e.:

titlestyle activetexture <a pixmap>

or 

titlestyle inactivetexture <a pixmap>

The options can be combined to one line.  Use at your own risk! :)
Sorry for the length.  It is not large, but for email it is not small
either.  You should be able to omit the pixmap to get rid of the
texture.  If response to this is okay and it is refined, I might
integrate this into my next titlebar patch.

Dare you try it, you need to apply my tbp5 patch and then this one (in
that order).

-- 
Andrew Veliath <veliaa@rpi.edu>        http://www.rpi.edu/~veliaa
Finger for PGP Public Key
Key fingerprint =  51 56 5D 3E 51 43 8B 74  7C B2 E4 B6 84 8E 8B 08

-- cut here --
diff -cr orig/fvwm-2.0.43.tbp5/fvwm/add_window.c fvwm-2.0.43/fvwm/add_window.c
*** orig/fvwm-2.0.43.tbp5/fvwm/add_window.c	Thu Apr 11 11:25:58 1996
--- fvwm-2.0.43/fvwm/add_window.c	Wed Sep 18 22:56:53 1996
***************
*** 82,87 ****
--- 82,90 ----
  {
    FvwmWindow *tmp_win;		        /* new fvwm window structure */
    unsigned long valuemask;		/* mask for create windows */
+ #if defined(XPM) && defined(PIXMAP_TITLEBARS)
+   Pixmap TexturePixmap;
+ #endif
    XSetWindowAttributes attributes;	/* attributes for create windows */
    int i,width,height;
    int a,b;
***************
*** 305,310 ****
--- 308,326 ----
    ConstrainSize(tmp_win, &tmp_win->frame_width, &tmp_win->frame_height);
  
    valuemask = CWBorderPixel | CWCursor | CWEventMask; 
+ #if defined(XPM) && defined(PIXMAP_TITLEBARS)
+   TexturePixmap = Scr.TitleStyle.inactiveTexture ?
+       Scr.TitleStyle.inactiveTexture->picture : None;
+   if(Scr.d_depth < 2 || TexturePixmap)
+     {
+       attributes.background_pixmap = 
+ 	  TexturePixmap ? TexturePixmap : Scr.light_gray_pixmap;
+       if(tmp_win->flags & STICKY)
+ 	attributes.background_pixmap =
+ 	    TexturePixmap ? TexturePixmap : Scr.sticky_gray_pixmap;
+       valuemask |= CWBackPixmap;
+     }
+ #else
    if(Scr.d_depth < 2)
      {
        attributes.background_pixmap = Scr.light_gray_pixmap ;
***************
*** 312,317 ****
--- 328,334 ----
  	attributes.background_pixmap = Scr.sticky_gray_pixmap;
        valuemask |= CWBackPixmap;
      }
+ #endif
    else
      {
        attributes.background_pixel = tmp_win->BackPixel;
diff -cr orig/fvwm-2.0.43.tbp5/fvwm/borders.c fvwm-2.0.43/fvwm/borders.c
*** orig/fvwm-2.0.43.tbp5/fvwm/borders.c	Wed Sep 18 22:44:19 1996
--- fvwm-2.0.43/fvwm/borders.c	Wed Sep 18 22:42:16 1996
***************
*** 71,76 ****
--- 71,79 ----
    GC ReliefGC,ShadowGC;
    Pixel BorderColor,BackColor;
    Pixmap BackPixmap,TextColor;
+ #if defined(XPM) && defined(PIXMAP_TITLEBARS)
+   Pixmap TexturePixmap;
+ #endif
    Bool NewColor = False;
    XSetWindowAttributes attributes;
    unsigned long valuemask;
***************
*** 84,97 ****
    
    if(!t)
      return;
!   
    if (onoroff) 
    {
      /* don't re-draw just for kicks */
      if((!force)&&(Scr.Hilite == t))
        return;
!       
!       
      if(Scr.Hilite != t)
        NewColor = True;
        
--- 87,103 ----
    
    if(!t)
      return;
! 
! 
    if (onoroff) 
    {
      /* don't re-draw just for kicks */
      if((!force)&&(Scr.Hilite == t))
        return;
!     
!     TexturePixmap = Scr.TitleStyle.activeTexture ?
! 	Scr.TitleStyle.activeTexture->picture : None;
!     
      if(Scr.Hilite != t)
        NewColor = True;
        
***************
*** 108,114 ****
--- 114,124 ----
      Scr.Hilite = t;
        
      TextColor = Scr.HiColors.fore;
+ #if defined(XPM) && defined(PIXMAP_TITLEBARS)
+     BackPixmap= TexturePixmap ? TexturePixmap : Scr.gray_pixmap;
+ #else
      BackPixmap= Scr.gray_pixmap;
+ #endif
      BackColor = Scr.HiColors.back;
      ReliefGC = Scr.HiReliefGC;
      ShadowGC = Scr.HiShadowGC;
***************
*** 119,124 ****
--- 129,137 ----
      /* don't re-draw just for kicks */
      if((!force)&&(Scr.Hilite != t))
        return;
+ 
+     TexturePixmap = Scr.TitleStyle.inactiveTexture ?
+ 	Scr.TitleStyle.inactiveTexture->picture : None;
        
      if(Scr.Hilite == t)
      {
***************
*** 127,135 ****
      }
        
      TextColor =t->TextPixel;
!     BackPixmap = Scr.light_gray_pixmap;
      if(t->flags & STICKY)
        BackPixmap = Scr.sticky_gray_pixmap;
      BackColor = t->BackPixel;
      Globalgcv.foreground = t->ReliefPixel;
      Globalgcm = GCForeground;
--- 140,154 ----
      }
        
      TextColor =t->TextPixel;
! #if defined(XPM) && defined(PIXMAP_TITLEBARS)
!     BackPixmap = TexturePixmap ? TexturePixmap : Scr.gray_pixmap;
!     if(t->flags & STICKY)
!       BackPixmap = TexturePixmap ? TexturePixmap : Scr.sticky_gray_pixmap;
! #else
!     BackPixmap = Scr.gray_pixmap;
      if(t->flags & STICKY)
        BackPixmap = Scr.sticky_gray_pixmap;
+ #endif
      BackColor = t->BackPixel;
      Globalgcv.foreground = t->ReliefPixel;
      Globalgcm = GCForeground;
***************
*** 150,156 ****
--- 169,180 ----
    
    valuemask = CWBorderPixel;
    attributes.border_pixel = BorderColor;
+ 
+ #if defined(XPM) && defined(PIXMAP_TITLEBARS)
+   if(Scr.d_depth < 2 || TexturePixmap)
+ #else
    if(Scr.d_depth < 2)
+ #endif
    {
      attributes.background_pixmap = BackPixmap;
      valuemask |= CWBackPixmap;
***************
*** 548,553 ****
--- 572,578 ----
    int hor_off, w,i, state;
    GC ReliefGC,ShadowGC,tGC;
    Pixel Forecolor, BackColor;
+   Pixmap TexturePixmap;
  
    if(!t)
      return;
***************
*** 610,626 ****
    
    NewFontAndColor(Scr.WindowFont.font->fid,Forecolor, BackColor);
  
!   if (onoroff)
        if (PressedW == t->title_w) state = 2;
        else state = 1;
!   else
        state = 0;
  
    if (Scr.TitleStyle.face[state].style == SolidButton
        || Scr.TitleStyle.face[state].style == FullSolidButton)
        XSetWindowBackground(dpy,t->title_w,Scr.TitleStyle.face[state].u.back);
!   else
!       XSetWindowBackground(dpy,t->title_w,BackColor);
  
    XClearWindow(dpy,t->title_w);
    
--- 635,666 ----
    
    NewFontAndColor(Scr.WindowFont.font->fid,Forecolor, BackColor);
  
!   if (onoroff) {
! #if defined(XPM) && defined(PIXMAP_TITLEBARS)
!       TexturePixmap = Scr.TitleStyle.activeTexture ?
! 	  Scr.TitleStyle.activeTexture->picture : None;
! #endif
        if (PressedW == t->title_w) state = 2;
        else state = 1;
!   } else {
! #if defined(XPM) && defined(PIXMAP_TITLEBARS)
!       TexturePixmap = Scr.TitleStyle.inactiveTexture ?
! 	  Scr.TitleStyle.inactiveTexture->picture : None;
! #endif
        state = 0;
+   }
  
    if (Scr.TitleStyle.face[state].style == SolidButton
        || Scr.TitleStyle.face[state].style == FullSolidButton)
        XSetWindowBackground(dpy,t->title_w,Scr.TitleStyle.face[state].u.back);
!   else {
! #if defined(XPM) && defined(PIXMAP_TITLEBARS)
!       if (TexturePixmap)
! 	  XSetWindowBackgroundPixmap(dpy,t->title_w,TexturePixmap);
!       else
! #endif
! 	  XSetWindowBackground(dpy,t->title_w,BackColor);
!   }
  
    XClearWindow(dpy,t->title_w);
    
diff -cr orig/fvwm-2.0.43.tbp5/fvwm/builtins.c fvwm-2.0.43/fvwm/builtins.c
*** orig/fvwm-2.0.43.tbp5/fvwm/builtins.c	Wed Sep 18 22:44:19 1996
--- fvwm-2.0.43/fvwm/builtins.c	Wed Sep 18 22:34:15 1996
***************
*** 1562,1568 ****
      {
        Scr.TitleStyle.appearance = TITLE_MWM;
      }
!     else if (mystrncasecmp(parm,"inactive",8)==0
  	     || mystrncasecmp(parm,"activeup",8)==0
  	     || mystrncasecmp(parm,"activedown",10)==0)
      {
--- 1562,1568 ----
      {
        Scr.TitleStyle.appearance = TITLE_MWM;
      }
!     else if (mystrcasecmp(parm,"inactive")==0 /* full check here */
  	     || mystrncasecmp(parm,"activeup",8)==0
  	     || mystrncasecmp(parm,"activedown",10)==0)
      {
***************
*** 1588,1593 ****
--- 1588,1645 ----
  	free(tmp);
  	action = end + 1;
      }
+ #ifdef XPM
+ #ifdef PIXMAP_TITLEBARS
+     else if (mystrncasecmp(parm,"activetexture",12)==0)
+     {
+ 	char *file;
+ 	action = GetNextToken(action,&file);
+ 	if (file) {
+ 	    if (Scr.TitleStyle.activeTexture)
+ 		DestroyPicture(dpy, Scr.TitleStyle.activeTexture);
+ 	    
+ 	    Scr.TitleStyle.activeTexture = CachePicture(dpy,
+ 							Scr.Root,
+ 							IconPath,
+ 							PixmapPath,
+ 							file);
+ 	    if (Scr.TitleStyle.activeTexture == NULL)
+ 		fvwm_msg(ERR,"SetTitleStyle","Couldn't load active texture %s: %s", 
+ 			 file, action);
+ 	    free(file);
+ 	} 
+ 	else
+ 	{
+ 	    DestroyPicture(dpy, Scr.TitleStyle.activeTexture);
+ 	    Scr.TitleStyle.activeTexture = NULL;
+ 	}
+     }
+     else if (mystrncasecmp(parm,"inactivetexture",14)==0)
+     {
+ 	char *file;
+ 	action = GetNextToken(action,&file);
+ 	if (file) {
+ 	    if (Scr.TitleStyle.inactiveTexture)
+ 		DestroyPicture(dpy, Scr.TitleStyle.inactiveTexture);
+ 	    
+ 	    Scr.TitleStyle.inactiveTexture = CachePicture(dpy,
+ 							  Scr.Root,
+ 							  IconPath,
+ 							  PixmapPath,
+ 							  file);
+ 	    if (Scr.TitleStyle.inactiveTexture == NULL)
+ 		fvwm_msg(ERR,"SetTitleStyle","Couldn't load active texture %s: %s", 
+ 			 file, action);
+ 	    free(file);
+ 	} 
+ 	else
+ 	{
+ 	    DestroyPicture(dpy, Scr.TitleStyle.inactiveTexture);
+ 	    Scr.TitleStyle.inactiveTexture = NULL;
+ 	}	    
+     }
+ #endif
+ #endif
      else if (mystrncasecmp(parm,"height",6)==0)
      {
  	int height, next;
diff -cr orig/fvwm-2.0.43.tbp5/fvwm/fvwm.c fvwm-2.0.43/fvwm/fvwm.c
*** orig/fvwm-2.0.43.tbp5/fvwm/fvwm.c	Wed Sep 18 22:44:19 1996
--- fvwm-2.0.43/fvwm/fvwm.c	Wed Sep 18 21:39:32 1996
***************
*** 1021,1026 ****
--- 1021,1028 ----
  	Scr.TitleStyle.face[i].style = SimpleButton;
  #ifdef XPM
  #ifdef PIXMAP_TITLEBARS
+ 	Scr.TitleStyle.activeTexture = NULL;
+ 	Scr.TitleStyle.inactiveTexture = NULL;
  	Scr.TitleStyle.face[i].u.picture = NULL;
  #endif
  #endif
diff -cr orig/fvwm-2.0.43.tbp5/fvwm/fvwm2.man fvwm-2.0.43/fvwm/fvwm2.man
*** orig/fvwm-2.0.43.tbp5/fvwm/fvwm2.man	Wed Sep 18 22:44:19 1996
--- fvwm-2.0.43/fvwm/fvwm2.man	Wed Sep 18 23:15:46 1996
***************
*** 1304,1322 ****
  
  .IP "TitleStyle \fI[state] (buttonstyle [args])\fP"
  Defines a face for one of the title-bar states, where state can be one
! of "ActiveUp," "ActiveDown" or "Inactive".  After the state, one
! should enclose in parenthesis a new button style command (see the
! ButtonStyle command).  Only pixmap button types are supported from the
! standard button style types, and only one pixmap can be given.  There
! are two additional styles, "Solid" and "FullSolid."  These styles,
! followed by a color, change the title-bar color in the given state.
  
! Pixmap justification flags are supported, and can optionally be
! prepended by "Tiled" (tiled pixmaps are not transparent).  Examples:
  .EX
  TitleStyle ActiveUp (Pixmap symbol.xpm -- Bottom Left)
  TitleStyle InActive (TiledFullPixmap pattern1.xpm)
  .EE
  
  .IP "WarpToWindow \fIx y\fP"
  Warps the cursor to the associated window.  The parameters x and y
--- 1304,1333 ----
  
  .IP "TitleStyle \fI[state] (buttonstyle [args])\fP"
  Defines a face for one of the title-bar states, where state can be one
! of "ActiveUp," "ActiveDown," "Inactive," "ActiveTexture," or
! "InactiveTexture".  
  
! For the first three, one should enclose in parenthesis a new button style
! command (see the ButtonStyle command).  Only pixmap button types are
! supported from the standard button style types, and only one pixmap
! can be given.  There are two additional styles, "Solid" and
! "FullSolid."  These styles, followed by a color, change the title-bar
! color in the given state.
! 
! The active and inactive texture commands should be followed by a
! single pixmap.  If either of these directives are given, the
! underlying window frame will be composed of a textured pixmap instead
! of a solid color.
! 
! Pixmap justification flags are supported for the first three states,
! and can optionally be prepended by "Tiled" (tiled pixmaps are not
! transparent).  Examples:
  .EX
  TitleStyle ActiveUp (Pixmap symbol.xpm -- Bottom Left)
  TitleStyle InActive (TiledFullPixmap pattern1.xpm)
+ TitleStyle InactiveTexture nicetexture.xpm
  .EE
+ 
  
  .IP "WarpToWindow \fIx y\fP"
  Warps the cursor to the associated window.  The parameters x and y
diff -cr orig/fvwm-2.0.43.tbp5/fvwm/screen.h fvwm-2.0.43/fvwm/screen.h
*** orig/fvwm-2.0.43.tbp5/fvwm/screen.h	Wed Sep 18 22:44:19 1996
--- fvwm-2.0.43/fvwm/screen.h	Wed Sep 18 21:39:38 1996
***************
*** 202,207 ****
--- 202,213 ----
    {
      int justify;                /* left, right, centered */
      int appearance;             /* raised, sunk, flat, not implemented yet */
+ #ifdef XPM
+ #ifdef PIXMAP_TITLEBARS
+     Picture *activeTexture;
+     Picture *inactiveTexture;
+ #endif
+ #endif
      TitleFace face[3];
    } TitleStyle;
    FvwmWindow *Hilite;		/* the fvwm window that is highlighted 
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 01:02:52 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id BAA29576; Thu, 19 Sep 1996 01:02:51 -0500 (CDT)
Received: from mail1.its.rpi.edu (mail1.its.rpi.edu [128.113.100.7]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id BAA29548 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 01:02:41 -0500 (CDT)
Received: from pluto.solarsystem.org (rts4p2.xyp.rpi.edu [128.113.29.71]) by mail1.its.rpi.edu (8.6.9/8.6.4) with ESMTP id CAA15428 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 02:02:34 -0400
Received: (from drewvel@localhost) by pluto.solarsystem.org (8.7.4/8.7.3) id CAA12119; Thu, 19 Sep 1996 02:03:21 -0400
Date: Thu, 19 Sep 1996 02:03:21 -0400
Message-Id: <199609190603.CAA12119@pluto.solarsystem.org>
From: Andrew Veliath <veliaa@rpi.edu>
To: fvwm-workers@hpc.uh.edu
Subject: ...that small titlebar addition...
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

I put a small picture of the effect on my page (along with that same
experimental patch, see near the bottom of the page).

http://www.rpi.edu/~veliaa/projects/fvwm_patches/fvwm_title_picture.html

Andy
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 04:27:33 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id EAA03455; Thu, 19 Sep 1996 04:27:33 -0500 (CDT)
Received: from aliboron.emi.u-bordeaux.fr (aliboron.emi.u-bordeaux.fr [147.210.12.128]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id EAA03450 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 04:27:27 -0500 (CDT)
Received: from edwood.emi.u-bordeaux.fr by aliboron.emi.u-bordeaux.fr; Thu, 19 Sep 1996 11:27:24 +0200 (MET DST)
Received: (from fortier@localhost) by edwood.emi.u-bordeaux.fr (8.7.5/) id LAA14514; Thu, 19 Sep 1996 11:27:23 +0200 (MET DST)
Date: Thu, 19 Sep 1996 11:27:23 +0200 (MET DST)
Message-Id: <199609190927.LAA14514@edwood.emi.u-bordeaux.fr>
From: Patrice Fortier <Patrice.Fortier@emi.u-bordeaux.fr>
To: fvwm-workers@hpc.uh.edu
In-reply-to: <199609190325.XAA10400@pluto.solarsystem.org> (message from
	Andrew Veliath on Wed, 18 Sep 1996 23:25:24 -0400)
Subject: Re: FVWM: Experimental Titlebar Addition
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2


Andrew Veliath <veliaa@rpi.edu> wrote:
> Uh oh, here is an experimental [i.e., first implementation :] patch
> which textures pixmaps in the window frame background... Please note
> this may or may not cause problems for you, but please email me
> problems you have [or don't have].  I've not tested it extensively.

you know, we're here to test it :).

You put your patch at the wrong place in your page:

> Latest Version -- 9/11/96 
>
> <...>
>
> Experimental Addition (9/19/96)

.....


Lokh.

--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 07:22:43 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id HAA06886; Thu, 19 Sep 1996 07:22:43 -0500 (CDT)
Received: from mail1.its.rpi.edu (mail1.its.rpi.edu [128.113.100.7]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id HAA06877; Thu, 19 Sep 1996 07:22:36 -0500 (CDT)
Received: from pluto.solarsystem.org (rts4p2.xyp.rpi.edu [128.113.29.71]) by mail1.its.rpi.edu (8.6.9/8.6.4) with ESMTP id IAA14103; Thu, 19 Sep 1996 08:22:30 -0400
Received: (from drewvel@localhost) by pluto.solarsystem.org (8.7.4/8.7.3) id IAA14446; Thu, 19 Sep 1996 08:23:28 -0400
Date: Thu, 19 Sep 1996 08:23:28 -0400
Message-Id: <199609191223.IAA14446@pluto.solarsystem.org>
From: Andrew Veliath <veliaa@rpi.edu>
To: M.Cartwright@Queens-Belfast.AC.UK (Martin Cartwright)
Cc: fvwm@hpc.uh.edu, fvwm-workers@hpc.uh.edu
Subject: FVWM: WindowFrame Pixmaps
In-Reply-To: <199609191123.MAA17198@qusun11.qub.ac.uk>
References: <199609191123.MAA17198@qusun11.qub.ac.uk>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

>>>>> Regarding FVWM: WindowFrame Pixmaps;
>>>>> M.Cartwright@Queens-Belfast.AC.UK (Martin Cartwright) adds:

    Martin> =>From: Andrew Veliath <veliaa@rpi.edu> =>Dare you try it,
    Martin> you need to apply my tbp5 patch and then this one (in
    Martin> =>that order).

    Martin> Righto. Have done. After finding that you have to put the
    Martin> whole path for the pixmaps even when pixmap path is
    Martin> specified I now have really groovy window frames. Thank
    Martin> you very much! Nice One! and Good Work Fella! etc etc etc.

    Martin> Now in a good impression of never being satisfied.. How
    Martin> about completing the look with textured menus and textured
    Martin> bacckgrounds for FvwmButtons and possibly icons???

Good to hear it seems to work there.  I am not sure why you need the
entire path there, as it is working here with pixmap path. 

Well, as for new features, I just put a *new* patch on the page which
also allows one to turn off the resizing handles (down side is that
the texture maps don't smoothly connect).  Selectively too, since it
is just a flag for each ActiveUp, ActiveDown or Inactive, i.e., to
turn the flag on even after you've configured the pixmap, say you
might:

Check out

http://www.rpi.edu/~veliaa/projects/fvwm_patches/fvwm_title_picture.html#patches

for the new patch (tbp5b) and a small pic.

Whew... :)

Enjoy,
Andy

-- 
Andrew Veliath <veliaa@rpi.edu>        http://www.rpi.edu/~veliaa
Finger for PGP Public Key
Key fingerprint =  51 56 5D 3E 51 43 8B 74  7C B2 E4 B6 84 8E 8B 08
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 07:23:11 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id HAA06953; Thu, 19 Sep 1996 07:23:10 -0500 (CDT)
Received: from aliboron.emi.u-bordeaux.fr (aliboron.emi.u-bordeaux.fr [147.210.12.128]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id HAA06933; Thu, 19 Sep 1996 07:23:01 -0500 (CDT)
Received: from edwood.emi.u-bordeaux.fr by aliboron.emi.u-bordeaux.fr; Thu, 19 Sep 1996 14:22:56 +0200 (MET DST)
Received: (from fortier@localhost) by edwood.emi.u-bordeaux.fr (8.7.5/) id OAA15609; Thu, 19 Sep 1996 14:22:55 +0200 (MET DST)
Date: Thu, 19 Sep 1996 14:22:55 +0200 (MET DST)
Message-Id: <199609191222.OAA15609@edwood.emi.u-bordeaux.fr>
From: Patrice Fortier <Patrice.Fortier@emi.u-bordeaux.fr>
To: fvwm@hpc.uh.edu, fvwm-workers@hpc.uh.edu
In-reply-to: <199609191123.MAA17198@qusun11.qub.ac.uk>
	(M.Cartwright@Queens-Belfast.AC.UK)
Subject: Re: FVWM: WindowFrame Pixmaps
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2


Martin Cartwright wrote:
> Righto. Have done. After finding that you have to put the whole path for the
> pixmaps even when pixmap path is specified I now have really groovy window
> frames. Thank you very much! Nice One! and Good Work Fella! etc etc etc.

Strange. I've tested the patch at noon and had not such a problem.
Is your PixmapPath like this?
PixmapPath /.../pixmaps/:/.../pixmaps2/
                       ^^^


> Now in a good impression of never being satisfied.. How about completing 
> the look with textured menus and textured bacckgrounds for FvwmButtons and
> possibly icons???

FvwmButtons is maintained by Jarl:
http://www.fm.unit.no/~jatotal/fvwm.html
I'm waiting for the FvwmButtons background too... I read that Jarl's
made the changes 6 months ago but broke his hard disk. I had no news
since then :(.

Icons???
What do you want to do with icons????

Lokh.
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 14:13:57 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id OAA24655; Thu, 19 Sep 1996 14:13:56 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id OAA24643 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 14:13:46 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA04229
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Thu, 19 Sep 1996 21:13:39 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA22044; Thu, 19 Sep 96 21:13:38 +0200
Date: Thu, 19 Sep 96 21:13:38 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609191913.AA22044@vta_host.auto.tuwien.ac.at>
To: FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>
Subject: lib dependencies wrong?
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2


hey you imake gurus:

I changed a lib .c component
and said make install in the fvwm root dir.
nothing was done.

is this normal ?
I thought make install should depend on "all", which should take care that
everything is correct & new.

or is this a known deficiency?

albrecht
-- 
They don't call this place an institution for nothing.
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 15:02:30 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id PAA26552; Thu, 19 Sep 1996 15:02:30 -0500 (CDT)
Received: from mail1.its.rpi.edu (mail1.its.rpi.edu [128.113.100.7]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id PAA26546 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 15:02:24 -0500 (CDT)
Received: from pluto.solarsystem.org (rts4p2.xyp.rpi.edu [128.113.29.71]) by mail1.its.rpi.edu (8.6.9/8.6.4) with ESMTP id QAA27818 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 16:02:05 -0400
Received: (from drewvel@localhost) by pluto.solarsystem.org (8.7.4/8.7.3) id QAA17054; Thu, 19 Sep 1996 16:03:05 -0400
Date: Thu, 19 Sep 1996 16:03:05 -0400
Message-Id: <199609192003.QAA17054@pluto.solarsystem.org>
From: Andrew Veliath <veliaa@rpi.edu>
To: FVWM Workers <fvwm-workers@hpc.uh.edu>
Subject: Patch Update
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

The third iteration (tbp5c) of the texture patch is at my page, and
the changes from the last one are that NeverHandles has been renamed
HiddenHandles (suggestion from Steve Blake), and a window close
speedup (upon window destruction, background doesn't flash texture
anymore).

http://www.rpi.edu/~veliaa/projects/fvwm_patches/fvwm_title_picture.html#patches

Enjoy,
Andy

-- 
Andrew Veliath <veliaa@rpi.edu>        http://www.rpi.edu/~veliaa
Finger for PGP Public Key
Key fingerprint =  51 56 5D 3E 51 43 8B 74  7C B2 E4 B6 84 8E 8B 08
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 15:20:46 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id PAA27123; Thu, 19 Sep 1996 15:20:45 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id PAA27056 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 15:19:36 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA04259
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Thu, 19 Sep 1996 22:19:02 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA24616; Thu, 19 Sep 96 22:19:01 +0200
Date: Thu, 19 Sep 96 22:19:01 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609192019.AA24616@vta_host.auto.tuwien.ac.at>
To: FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>,
        Charles Hines <chuck_hines@VNET.IBM.COM>
Subject: [Bug & Patch] clumsy & wrong token parsing
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

Hi all,

I nosed & hacked around on my windowlist, when I was bitten by a
sudden need to speed up some code ;^)

& here it is, my first routine for what could become a more powerful
libfvwm2:

Ta-daaa

It's called TokenCmp() and is a drop in bugfix/speedup/beautify replacement
for mystrncasecmp()

It fixes the annoying bug, that all token parsing was done by
mystrncasecmp(line,token,strlen(token)) which doesn't assert, that 
e.g: "ColorType" isn't matched to the "Color" token.

(I wanted to define a function "Execute" and all the time the builtin
"Exec" was used)

There might be some complaints, that AddToFunction isn't parsed as
AddToFunc any more, but what the heck, that was the bug!!!

It implicitly handles token-end and just returns boolean equal (1)/not
equal (0) which is all, that is needed and can be computed much faster.

I just wrote it, did the 
#define mystrncasecmp(a,b,n) (!TokenCmp(a,b))
make && make install
restart fvwm2
and it worked (well not the first time, but after I had fixed my
misinterpretation of the ispunct man page).


While I was there I inserted Andrew's trimleft & trimright macros to the
header file.

Now all I want to see the ugly mystrncasecmp constructs be replaced by
TokenCmp calls and all the 
        while(isspace(*restofline))restofline++;
replaced by 
	trimleft(restofline);
          
If no one else volunteers, I'll do it next week (at least for main fvwm2,
since some modules are heavily hacked upon by their respective authors).
This should make style.c readable again.

albrecht

save this to libs/TokenCmp.c and apply the diffs below

/* -*- C -*-
   File:		TokenCmp.c
   Date:		Thu Sep 19 19:25:16 1996
   Author:		Albrecht Kadlec (albrecht)

   Description:		replacement for mystrncasecmp abuse to parse tokens.
                        requires isspace(nextchar), otherwise it's another
			token!    

   Modifications:	$Log$
*/


#include <ctype.h>
#include <stdio.h>
#include <assert.h>

/* replacement for !mystrncasecmp

#if 0
   int mystrncasecmp(char *a, char *b,int n);
#else
  int TokenCmp(register char *s,register char *t)
# define mystrncasecmp(a,b,n) (!TokenCmp(a,b))
#endif

should be equivalent, except for one fact:
TokenCmp requires s to be delimited by isspace(), ispunct() or '\0'

compare string s to token t, until t finished or unequal
s may be NULL, t may NOT
n was dropped, since it is strlen(t) and isn't used by design 

the return code is just =0 or != 0 the sign isn't specified
*/
int TokenCmp(register char *s,register char *t)
{
    if (s==NULL) return 0;
#if 0
    if (t==NULL) return 0;
#else
    assert(t!=NULL);	/* the token may not be NULL -> design flaw */
#endif

    while (*t && (*s==*t || toupper(*s)==toupper(*t)))
	s++,t++;			/* loop as tight as possible */	

/* second toupper could be dropped, if tokens are required to be */
/* specified in uppercase -> would have to go through code */
/* isupper(*s) && _toupper(*s)==*t would be faster */

    if (*t=='\0')			/* end of token */
	return !*s || ispunct(*s) || my_isspace(*s);
/* \0 is punctuation ? 
my manual says: "neither control nor alphanumerical", 
but it didn't match whitespace either */
    else return 0;			/* no match */
}




*** ../fvwm-2.0.43/libs/fvwmlib.h       Fri Mar 22 21:32:32 1996
--- fvwmlib.h   Thu Sep 19 22:05:13 1996
***************
*** 4,10 ****
--- 4,30 ----
  #include <X11/Xutil.h>

  int mystrcasecmp(char *a, char *b);
+
+ #if 0
    int mystrncasecmp(char *a, char *b,int n);
+ #else
+   int TokenCmp(register char *s,register char *t);
+ #define mystrncasecmp(a,b,n) (!TokenCmp(a,b))
+
+ #if 1
+ #define isspace(c)    ((c)==' ' || (c)=='\t' || (c)=='\n')
+ #else
+ #include <ctype.h>
+ #endif
+
+ /* ----------- shamelessly stolen from FvwmButtons/parse.c  ------------ */
+ #define trimleft(s) {while(isspace(*s))(s)++;}
+ #define trimright(s) {                                      \
+   register char *t=(s);while(*t) t++;                       \
+   --t; while(t>=s && isspace(*t)) t--;                      \
+   t[1]=0;}
+ #endif
+
  char *CatString3(char *a, char *b, char *c);
  int mygethostname(char *client, int namelen);
  void SendText(int *fd,char *message,unsigned long window);






*** ../fvwm-2.0.43/libs/Imakefile       Sat Feb 17 02:17:26 1996
--- Imakefile   Thu Sep 19 19:35:11 1996
***************
*** 5,10 ****
--- 5,11 ----
  #include "../Fvwm.tmpl"

  SRCS = \
+       TokenCmp.c \
        CatString3.c \
        CopyString.c \
        GetFdWidth.c \
***************
*** 26,31 ****
--- 27,33 ----
        wild.c

  OBJS = \
+       TokenCmp.o \
        CatString3.o \
        CopyString.o \
        GetFdWidth.o \

-- 
Did you hear about the termite who went into a bar and asked
"Where's the bar tender?"		-- Bob Woodfield
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 19 16:04:35 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id QAA29699; Thu, 19 Sep 1996 16:04:34 -0500 (CDT)
Received: from mail1.its.rpi.edu (mail1.its.rpi.edu [128.113.100.7]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id QAA29684 for <fvwm-workers@hpc.uh.edu>; Thu, 19 Sep 1996 16:04:29 -0500 (CDT)
Received: from pluto.solarsystem.org (rts4p2.xyp.rpi.edu [128.113.29.71]) by mail1.its.rpi.edu (8.6.9/8.6.4) with ESMTP id RAA12566; Thu, 19 Sep 1996 17:04:22 -0400
Received: (from drewvel@localhost) by pluto.solarsystem.org (8.7.4/8.7.3) id RAA17664; Thu, 19 Sep 1996 17:05:23 -0400
Date: Thu, 19 Sep 1996 17:05:23 -0400
Message-Id: <199609192105.RAA17664@pluto.solarsystem.org>
From: Andrew Veliath <veliaa@rpi.edu>
To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Cc: fvwm-workers@hpc.uh.edu
Subject: [Bug & Patch] clumsy & wrong token parsing
In-Reply-To: <9609192019.AA24616@vta_host.auto.tuwien.ac.at>
References: <9609192019.AA24616@vta_host.auto.tuwien.ac.at>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

>>>>> Regarding [Bug & Patch] clumsy & wrong token parsing;
>>>>> albrecht@auto.tuwien.ac.at (Albrecht Kadlec) adds:

    Albrecht> While I was there I inserted Andrew's trimleft &
    Albrecht> trimright macros to the header file.

-- he means *Jarl's* trimleft & trimright :) (the author of FvwmButtons)

Nonetheless, the mystrncasecmp multimatching is annoying in
situations, a workaround might be appropriate.

later,
andy

-- 
Andrew Veliath <veliaa@rpi.edu>        http://www.rpi.edu/~veliaa
Finger for PGP Public Key
Key fingerprint =  51 56 5D 3E 51 43 8B 74  7C B2 E4 B6 84 8E 8B 08
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep 20 02:29:31 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id CAA15944; Fri, 20 Sep 1996 02:29:30 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id CAA15940 for <fvwm-workers@hpc.uh.edu>; Fri, 20 Sep 1996 02:29:23 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA04534
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Fri, 20 Sep 1996 09:29:17 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA28090; Fri, 20 Sep 96 09:29:16 +0200
Date: Fri, 20 Sep 96 09:29:16 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609200729.AA28090@vta_host.auto.tuwien.ac.at>
To: veliaa@rpi.edu
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <199609192105.RAA17664@pluto.solarsystem.org> (message from Andrew Veliath on Thu, 19 Sep 1996 17:05:23 -0400)
Subject: Re: Lib touch up (Re:[Bug & Patch] clumsy & wrong token parsing)
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

>>>>> Andrew Veliath writes:

>>>>> Regarding [Bug & Patch] clumsy & wrong token parsing;
>>>>> albrecht@auto.tuwien.ac.at (Albrecht Kadlec) adds:

Albrecht> While I was there I inserted Andrew's trimleft &
Albrecht> trimright macros to the header file.

A> -- he means *Jarl's* trimleft & trimright :) (the author of FvwmButtons)

A> Nonetheless, the mystrncasecmp multimatching is annoying in
A> situations, a workaround might be appropriate.

oh shoot, sorry, jarl. I used it for fvwmaudio some time ago, and thought
it was from andrew (while I remember, I fetched it from FvwmButtons)
it was late yesterday.



Today in the morning I thought SH^*@, I should have named it 
MatchToken and have it return the ENDPOINTER, or NULL if it couldn't match
the token.
MatchToken will be in the new lib, too.


BTW: I'm currently wading through the libs code, to look at awful things &
speed it up.
I'd like to do some alpha-checking on the workers list, before sending it
to chuck. (you know, the multi-platform test)


I'll do it as a drop-in replacement/enhancement for current function.
The hard test will be to recompile fvwm with the new lib & use for a week.


If chuck then says: "go on, I'll include it" I'll take the tedious task of
beautifying the code (style.c & maybe others), too.
But I'll be pretty much unavailable from Oct. 1st, though, so I'm sure I'll
finish the lib, & maybe fvwm, but I'm pretty sure I won't touch the
modules.

hello, chuck?
albrecht
-- 
Time keeps everything from happening at one time.
Space keeps everything from happening to YOU.	-- unknown
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep 20 04:20:07 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id EAA17980; Fri, 20 Sep 1996 04:20:06 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id EAA17955 for <fvwm-workers@hpc.uh.edu>; Fri, 20 Sep 1996 04:19:11 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA04585
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Fri, 20 Sep 1996 11:16:19 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA29835; Fri, 20 Sep 96 11:16:19 +0200
Date: Fri, 20 Sep 96 11:16:19 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609200916.AA29835@vta_host.auto.tuwien.ac.at>
To: veliaa@rpi.edu
Cc: fvwm-workers@hpc.uh.edu
In-Reply-To: <199609192105.RAA17664@pluto.solarsystem.org> (message from Andrew Veliath on Thu, 19 Sep 1996 17:05:23 -0400)
Subject: Re: Lib touch up (Re:[Bug & Patch] clumsy & wrong token parsing)
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-prebeta2

>>>>> Andrew Veliath writes:

>>>>> Regarding [Bug & Patch] clumsy & wrong token parsing;
>>>>> albrecht@auto.tuwien.ac.at (Albrecht Kadlec) adds:

Albrecht> While I was there I inserted Andrew's trimleft &
Albrecht> trimright macros to the header file.

A> -- he means *Jarl's* trimleft & trimright :) (the author of FvwmButtons)

A> Nonetheless, the mystrncasecmp multimatching is annoying in
A> situations, a workaround might be appropriate.

oh shoot, sorry, jarl. I used it for fvwmaudio some time ago, and thought
it was from andrew (while I remember, I fetched it from FvwmButtons,
it was late yesterday).



Today in the morning I thought SH^*@, I should have named it 
MatchToken and have it return the ENDPOINTER, or NULL if it couldn't match
the token.
MatchToken will be in the new lib, too.


BTW: I'm currently wading through the libs code, to look at awful things &
speed it up.
I'd like to do some alpha-checking on the workers list, before sending it
to chuck. (you know, the multi-platform test)


I'll do it as a drop-in replacement/enhancement for current functions.
The hard test will be to recompile fvwm with the new lib & use for a week.


If chuck then says: "go on, I'll include it" I'll take the tedious task of
beautifying the code (style.c & maybe others), too.
But I'll be pretty much unavailable from Oct. 1st, though, so I'm sure I'll
finish the lib, & maybe fvwm, but I'm pretty sure I won't touch the
modules.

alright, chuck?
albrecht
-- 
Time keeps everything from happening at one time.
Space keeps everything from happening to YOU.	-- unknown
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Sun Sep 22 09:53:42 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id JAA09143; Sun, 22 Sep 1996 09:53:41 -0500 (CDT)
Received: from pangaea.engin.umich.edu (pangaea.engin.umich.edu [141.212.192.185]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id JAA09139 for <fvwm-workers@hpc.uh.edu>; Sun, 22 Sep 1996 09:53:36 -0500 (CDT)
Received: from localhost (localhost.engin.umich.edu [127.0.0.1]) by pangaea.engin.umich.edu (8.6.12/8.6.4) with ESMTP id KAA20820; Sun, 22 Sep 1996 10:53:28 -0400
Message-Id: <199609221453.KAA20820@pangaea.engin.umich.edu>
To: fvwm-workers@hpc.uh.edu
cc: anon@engin.umich.edu
Subject: fvwm-1.24r & C++ => ewm ...
Date: Sun, 22 Sep 1996 10:53:27 +0100
From: Omar S Juma <anon@engin.umich.edu>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2


greetings.

announcing a c++ alpha code preview of fvwm, based on 1.24r.  this effort
began last november, and has proceeded on available spare time.  the
present c++ version is close to exact functional equivalence with
fvwm-1.24r, with all the sundry nasty bugs removed.

after the first c++ version is stabilized, a major revamping effort
will be undertaken.  this hopefully will include all functional features
of fvwm-2.xx, fvwm95, afterstep, bowman, etc, etc.  in other words,
all visual features of various fvwm incarnations will be available in
one version; will be user-settable; will be configurable interactively...

worth noting:

 => there currently are no plans to adhere to fvwm input file syntax,
    as we are already planning to take the input file(s) into
    very different directions.  whatever syntax evolves will be easier
    to work with and control than the present syntax.
 => the memory footprint is likely to be somewhat larger than fvwm.
    although this may be a sore point for some folks, i believe most
    can afford ~1 meg of working space for a window manager, especially
    given the current ram price curve.
 => the shape and xpm code is in for good; there are no plans to isolate
    that code with ifdefs.
 => this is a source code preview; i.e., you cannot build a fully
    working binary out of this code.
 => this code is hotlinked into the current testing version; i.e., what
    you see is what i compile.
 => the code is subtantially easier to read, to understand, and hopefully,
    to extend.
 => the working name of this window manager is "ewm".

you are all invited to preview the source code on the web.  any and all
comments are welcome, as are any offers to assist in further development
on the c++ code.

the ewm web site is at:  http://pangaea.engin.umich.edu/ewm/

anyone interested in discussing the fvwm <-> module protocols, please
drop me a line.


regards.

...anon...
anon@umich.edu
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 23 22:08:46 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id WAA02855; Mon, 23 Sep 1996 22:08:45 -0500 (CDT)
Received: from darkstar (root@167.donet.com [205.133.113.167]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id WAA02838; Mon, 23 Sep 1996 22:08:38 -0500 (CDT)
Received: from darkstar (dmahurin@loopback [127.0.0.1]) by darkstar (8.6.12/8.6.9) with SMTP id WAA01370; Mon, 23 Sep 1996 22:15:16 -0400
Message-ID: <32474433.58A73F18@donet.com>
Date: Mon, 23 Sep 1996 22:15:15 -0400
From: Don Mahurin <dmahurin@donet.com>
Organization: Home (via Dayton Ohio Net)
X-Mailer: Mozilla 3.0Gold (X11; I; Linux 2.0.12 i486)
MIME-Version: 1.0
To: fvwm-workers@hpc.uh.edu
CC: fvwm@hpc.uh.edu
Subject: TaskBar for Fvwm2
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

Hi again

I modified FvwmTaskBar for the new MiniIcon patch.
(I dont use it, but did it anyway.)

Some modifications were specific to new Fvwm95 EVENTS. I used  
#ifdef FVWM95 for those.  I think the Auto Hide Functionally is disabled
because of this.

Get this FvwmTaskBar for Fvwm2(with MiniIcon patch) here:
http://www.donet.com/dmahurin/pub/FvwmTaskBar.don2.tgz

Have Fun.

Don Mahurin
dmahurin@donet.com
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Tue Sep 24 04:02:57 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id EAA10975; Tue, 24 Sep 1996 04:02:55 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id EAA10970 for <fvwm-workers@hpc.uh.edu>; Tue, 24 Sep 1996 04:02:40 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA07708
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Tue, 24 Sep 1996 11:01:33 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA02907; Tue, 24 Sep 96 11:01:32 +0200
Date: Tue, 24 Sep 96 11:01:32 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609240901.AA02907@vta_host.auto.tuwien.ac.at>
To: FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>
Subject: make install doesn't make in fvwm/libs
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2


thus if you 
make clean; make install 

The modules complain about the missing lib...

otherwise, make install seems to do a 'make all'

albrecht
-- 
It's getting late in the game to show any pride or shame
We burn a little brighter now, burn a little brighter now
						-- Marillion
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Wed Sep 25 20:38:10 1996
Received: (from lists@localhost) by sina.hpc.uh.edu (8.7.3/8.7.3) id UAA10275; Wed, 25 Sep 1996 20:38:10 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id UAA10264; Wed, 25 Sep 1996 20:37:53 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA09487
  (5.65c/IDA-1.4.4); Thu, 26 Sep 1996 03:37:11 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA05721; Thu, 26 Sep 96 03:37:09 +0200
Date: Thu, 26 Sep 96 03:37:09 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609260137.AA05721@vta_host.auto.tuwien.ac.at>
To: Charles Hines <chuck_hines@VNET.IBM.COM>,
        FVWM2 mailing list <fvwm@hpc.uh.edu>,
        FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>
Subject: Library, WindowList, MouseWarp & Menu patch
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2



patch (including man pages) at:
	<URL:http://www.auto.tuwien.ac.at:80/~albrecht>

attached a small overview over the new features.

check it out,
Bugs not reported till Okt 1st have to be take care of by YOU

(You see, the men in green will take me away.
It'll take for at least a month, till I can look into my account again.)
I've finally put my money where my mouth was, and put a week of effort into
this. 

Hope, you can use it.
Hope it finds it's way into the release.

albrecht





User level changes:

MenuStyle forecolor backcolor shadecolor font style mousewarp

	mousewarp separated from mwm/fvwm distinction

Popup PopupName command
Menu MenuName double_click_action command
	optional Command parameter

Prev [condition] command
Next [condition] command
None [condition] command
	enhanced condition to recognize all binary style flags
	and "WindowID #"
	(is there any test, if a windowid is valid, fvwm coredumps, 
	if the user hardcodes an invalid windowid ?) 
	(PS to Chuck: I'd still like to have the functions that need a
	window parse an optional numeric windowID argument.)

WindowList option[condition] command
	included #ifdef MINI_ICON support (by Brady Montz)
	added IconName, Geometry, MiniIcon & Sorted option
	added condition (a'la Prev/Next/None)
	added optional command (a'la Menu/PopUp) to WindowList,

	I now use:
	WindowList -geometry+miniicon[.iconic-sticky-ontop-circulateskip]

	and 
	AddToFunc WindowListFunction "I" Next [windowid $0] focus
	+			"I"	Next [windowid $0] raise
	+			"I"	Next [windowid $0] iconify -1



this all uses my reworked library (somewhat):

	it's a drop in of current lib.

	prototypes added to fvwmlib.h
		(module authors should include fvwmlib.h and remove  
		lib prototypes from their files in the long run)
	
	provided parsetables concept to get rid of endless 
		if (!mystrcasecmp(line,"Windowlistskip",14))
		parsing constructs for binary options.

	consistent use of isspace() ... macros
		(they're faster than if's anyway) 

	MatchToken
		faster way to parse options than mystrncasecmp
		currently there's a 
		#define mystrncasecmp(a,b,n) (!MatchToken(a,b))
		to use the new function for parsing
		(mystrncasecmp was _never_ used for anything else)
		This will vanish as soon as the last mystrncasecmp
		vanishes.

	SkipSpaces & other handy macros (ripped from here & there)

	stripcpy merged with CopyString
		they both did the same, but had different weaknesses
		#defined CopyString using stripcpy

	#define SendInfo SendText
		since they were the same anyway.

	seekright()
		This should be the base for consistent parsing in
		fvwm: if only this function is used, quoting will be
		consistent throughout .fvwm2rc.

		If you need extended functionality, add it here, so
		everybody will benefit. (e.g: I could imagine moving
		the environment variable expansion in here)

	#define GetNextToken with seekright() 
		(ripped from FvwmButtons, thanks, Jarl)

		This is an attempt to clear the quoting jungle:
		(somewhere there's NO quote parsing, somplace
		GetNextToken() was used, and somewhere seekright() was
		used, with GetNextToken being halfways between the
		other two possibilities.

		This could have serious effects on existing .fvwm2rc
		files, since it makes the quoting djungle more
		consistent, therefore there are now less places where
		unquoted (backslashed) quotes are handed down to the 
		application.
		My .fvwm2rc works without changes.

		When all occurences of GetNextToken are replace by
		seekright, this macro will vanish.
		GetNextToken might then reappear with a new parameter
		format and new semantic (maybe non-malloc-copying)

		(I would have liked to keep the name GetNextToken,
		but it simply has the worse Interface.)
	
BUGS:
	on a last glance the menu delimiters don't seem to work any more.
	will look into this tomorrow.
-- 
Jesus, Mother Mary and a cloaked man are playing golf. Jesus tees off
and gets a hole-in-one. Mother Mary tees off and gets a hole-in-one.
The cloaked man tees off and misses the green completely and goes into
the water-trap. A fish spurts the ball out of the water, a bird
catches it and gives it to a squirrel, who drops it in the hole. Jesus
says "Dad, are you going to play golf, or what?"
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 26 09:48:13 1996
Received: by sina.hpc.uh.edu (TLB v0.05a (1.14 tibbs 1996/09/26 00:38:39)); Thu, 26 Sep 1996 09:48:13 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id JAA00398; Thu, 26 Sep 1996 09:42:50 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA10055
  (5.65c/IDA-1.4.4); Thu, 26 Sep 1996 16:42:46 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA10640; Thu, 26 Sep 96 16:42:45 +0200
Date: Thu, 26 Sep 96 16:42:45 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609261442.AA10640@vta_host.auto.tuwien.ac.at>
To: chuck_hines@VNET.IBM.COM
Cc: FVWM2 mailing list <fvwm@hpc.uh.edu>,
        FVWM-Workers mailing list <fvwm-workers@hpc.uh.edu>
In-Reply-To: <9609261428.AA48150@cold.fishkill.ibm.com> (chuck_hines@VNET.IBM.COM)
Subject: Re: Library, WindowList, MouseWarp & Menu patch
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

>>>>> Charles Hines writes:

>>>>> "A" == Albrecht Kadlec <albrecht@auto.tuwien.ac.at> writes:
A> patch (including man pages) at:
A> <URL:http://www.auto.tuwien.ac.at:80/~albrecht>

C> Grabbed it.

the last version from me will be put onto the web on Mon, Sept 30th.
(then I'll be away for more than a month, 8 months max. Oh those men in
green.. I know how Jarl felt last year, when he put out the FvwmButtons)
I'll scan the list from time to time.

A> attached a small overview over the new features.
C> ....
A> Hope, you can use it.
A> Hope it finds it's way into the release.

C> At least some of it will (in some form, not necessarily exactly the
C> same) be incorporated, like we discussed previously.
Feel free to use it as you like, I did the same with fvwm-2.0.43, which led
to this patch.

The seekright implementation is not optimal (that's the menu-nop bug,
fixed by now) and anotehr bug if you use excessive function hierarchies and
therefore excessive quoting.

I'll followup with a new version, probably today, maybe tomorrow.

Use #define OLD_GETNEXTTOKEN in fvwmlib.h till then.

albrecht
-- 
Yesterday I was a dog.  Today I'm a dog.  Tomorrow I'll probably still
be a dog. Sigh!  There's so little hope for advancement.	-- Snoopy
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Thu Sep 26 13:13:29 1996
Received: by sina.hpc.uh.edu (TLB v0.05a (1.14 tibbs 1996/09/26 00:38:39)); Thu, 26 Sep 1996 13:13:29 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id NAA11278; Thu, 26 Sep 1996 13:07:39 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA10203
  (5.65c/IDA-1.4.4); Thu, 26 Sep 1996 20:07:26 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA14142; Thu, 26 Sep 96 20:07:25 +0200
Date: Thu, 26 Sep 96 20:07:25 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609261807.AA14142@vta_host.auto.tuwien.ac.at>
To: chuck_hines@VNET.IBM.COM, fvwm@hpc.uh.edu, fvwm-workers@hpc.uh.edu
In-Reply-To: <9609260137.AA05721@vta_host.auto.tuwien.ac.at> (albrecht@auto.tuwien.ac.at)
Subject: Re: FVWM: Library, WindowList, MouseWarp & Menu patch
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

>>>>> Albrecht Kadlec writes:

seekright problems fixed.
I can now even predict the quotes needed for several layers of functions,
being arguments of functions ;^)

A> patch (including man pages) at:
A> 	<URL:http://www.auto.tuwien.ac.at:80/~albrecht>

A> check it out,
A> Bugs not reported till Okt 1st have to be taken care of by YOU

albrecht
-- 
A news reader I have used "WinVn" sometimes would say "busy, what a
bit", which meant try again in a little while.... :^)
					-- found in a newsgroup
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep 27 18:56:05 1996
Received: by sina.hpc.uh.edu (TLB v0.05a (1.14 tibbs 1996/09/26 00:38:39)); Fri, 27 Sep 1996 18:56:05 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id SAA13241; Fri, 27 Sep 1996 18:45:20 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA11705
  (5.65c/IDA-1.4.4); Sat, 28 Sep 1996 01:45:02 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA04278; Sat, 28 Sep 96 01:44:58 +0200
Date: Sat, 28 Sep 96 01:44:58 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609272344.AA04278@vta_host.auto.tuwien.ac.at>
To: albrecht@auto.tuwien.ac.at
Cc: chuck_hines@VNET.IBM.COM, fvwm@hpc.uh.edu, fvwm-workers@hpc.uh.edu
In-Reply-To: <9609261807.AA14142@vta_host.auto.tuwien.ac.at> (albrecht@auto.tuwien.ac.at)
Subject: Patches, more patches !!!
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2


(some more tiny bugs ironed out)

Library, WindowList, MouseWarp & Menu patch V3 (includes the other 2)

FvwmAudio (rsynth say or arbitrary command / parameter support)
FvwmAuto (arbitrary command support, don't use "close" with a low timeout :)

both as patch and .tar.gz

FvwmAuto.c has grown by -876 bytes (hmm... should be called "shrunk")

>>>>> Albrecht Kadlec writes:

A> patch (including man pages) at:
A> <URL:http://www.auto.tuwien.ac.at:80/~albrecht>

A> check it out,
A> Bugs reported after Okt 1st have to be taken care of by YOU

albrecht
-- 
You're just another coffin on its way down the emerald aisle
  Where the children's stoney glances mourn your death
in a terrorist's smile.				-- Marillion
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep 27 20:03:54 1996
Received: by sina.hpc.uh.edu (TLB v0.05a (1.14 tibbs 1996/09/26 00:38:39)); Fri, 27 Sep 1996 20:03:54 -0500 (CDT)
Received: from pangaea.engin.umich.edu (anon@pangaea.engin.umich.edu [141.212.192.185]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id UAA15937 for <fvwm-workers@hpc.uh.edu>; Fri, 27 Sep 1996 20:03:48 -0500 (CDT)
Received: from localhost (anon@localhost) by pangaea.engin.umich.edu (8.7.5/8.7.3/a1) with ESMTP id VAA16338; Fri, 27 Sep 1996 21:03:40 -0400 (EDT)
Message-Id: <199609280103.VAA16338@pangaea.engin.umich.edu>
To: fvwm-workers@hpc.uh.edu
cc: anon@engin.umich.edu
Subject: some leftover questions
Date: Fri, 27 Sep 1996 21:03:39 -0400
From: Omar S Juma <anon@engin.umich.edu>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2


in 2.0.43 sources...

does anyone know the origin of these questions, and/or whether they
should be of concern vis-a-vis the current code?  none of them appears
to be of major import.

policing windows is hard work.


menus.c:497
======================================================================
      /* Unfortunately, this is needed (why?) for multi-screen 
	 operation */
      /* flush_expose(ActiveMenu->w);*/
======================================================================


fvwm.c:1083
[btw, can anyone explain exactly what SaveDesktopState() does?]
======================================================================
  if(restart)
  {
    SaveDesktopState();		/* I wonder why ... */
======================================================================


events.c:1017
[a rather confusing patch seems to have been applied here...]
======================================================================
	  /* Why is this here? Seems to cause breakage with
	   * non-focusing windows! */
	  if(!(Tmp_win->flags & ICONIFIED))
	    {
	      XSync(dpy,0);
#if 1 /* pass click event to just clicked to focus window */
	      XAllowEvents(dpy,ReplayPointer,CurrentTime);
#else /* don't pass click to just focused window */
	      XAllowEvents(dpy,AsyncPointer,CurrentTime);
#endif /* 0 */
	      XSync(dpy,0);
	      return;
	    }
======================================================================


bindings.c:299
======================================================================
  /*
  ** why wasn't XKeysymToKeycode used instead of this for loop?
  */
  XDisplayKeycodes(dpy, &min, &max);
======================================================================


...anon...
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Fri Sep 27 21:23:26 1996
Received: by sina.hpc.uh.edu (TLB v0.05a (1.14 tibbs 1996/09/26 00:38:39)); Fri, 27 Sep 1996 21:23:26 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id VAA19275 for <fvwm-workers@hpc.uh.edu>; Fri, 27 Sep 1996 21:23:18 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA11936
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Sat, 28 Sep 1996 04:23:15 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA07685; Sat, 28 Sep 96 04:23:14 +0200
Date: Sat, 28 Sep 96 04:23:14 +0200
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609280223.AA07685@vta_host.auto.tuwien.ac.at>
To: anon@engin.umich.edu
Cc: fvwm-workers@hpc.uh.edu, anon@engin.umich.edu
In-Reply-To: <199609280103.VAA16338@pangaea.engin.umich.edu> (message from Omar S Juma on Fri, 27 Sep 1996 21:03:39 -0400)
Subject: Re: some leftover questions
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

>>>>> Omar S Juma writes:

O> in 2.0.43 sources...

O> does anyone know the origin of these questions, and/or whether they
O> should be of concern vis-a-vis the current code?  none of them appears
O> to be of major import.

good question. I found some more.
I try to not touch the code around them unless I'm 120% sure I don't break
anything (e.g: multi-screen code). 
I guess that's why Chuck (or Rob?) put them in there.

Think of it as "sticky" code. It's been attached there and now sticks
forever, since nobody dares to remove it, even if all of the code around
has changed. 

O> policing windows is hard work.
yes.
You may have noticed: I grabbed all sort of parsing code from fvwm & some
modules and built them into the lib, while using only the best of each
implementation and optimizing the whole for stability & speed.
 It's not smooth now, and there are some ugly #defines
(e.g. to redirect GetNectToken() calls to seekright() calls.

fvwm is in dear need of a person sponsoring a weekend, renaming some
variables or functions and prettyfying the code.
(GetNextToken -> seekright would be an example. I this replace is finished,
we could rename it back to GetNextToken, since that's the better name)

There's an awkard convention mix 
(see style #defines: there's a set of definitions in fvwm.h:
	WINDOWLISTSKIP CirculateSkipIcon NOICON_TITL
	ALLCAPS		CapitalFirst	 UNDERSCORE_SPACED
it's a holy mess.
And I found a second set of style flags in misc.h which is somewhat more
consistent in nameing conventions (UNDERSCORE_SEPARATED_FLAG)
Best thing: It has to stay in sync with fvwm.h and vice versa, 
but both sets define numerical constants of their own !!!

The lesson learned from this:
Never dare to change anything unless you've grepped the whole source tree !!!
(I found 3 implementations of GetNextToken() !!! )



But this weekend-beautifying would need a _total_ (NOBODY TOUCH) codefreeze
over this one weekend and an immediate release afterwards.
And I'm not sure what to do with the modules, which are maintained by their
authors, mostly.

Maybe some more lib rewriting/moving to lib should be done first, then 
waiting for the module authors to catch up, then do it.

albrecht
-- 
You learned your lesson far too late  from the links in a chemist chain.
								-- Marillion
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Sat Sep 28 16:27:21 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Sat, 28 Sep 1996 16:27:21 -0500 (CDT)
Received: from VNET.IBM.COM (vnet.ibm.com [199.171.26.4]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id QAA15824 for <fvwm-workers@hpc.uh.edu>; Sat, 28 Sep 1996 16:27:11 -0500 (CDT)
Received: from FISHKILL by VNET.IBM.COM (IBM VM SMTP V2R3) with BSMTP id 9788;
   Sat, 28 Sep 96 17:27:21 EDT
Received: by FISHKILL (XAGENTA 4.0) id 5094; Sat, 28 Sep 1996 17:27:04 -0400 
Received: by cold.fishkill.ibm.com (AIX 3.2/UCB 5.64/4.03)
          id AA18784; Sat, 28 Sep 1996 17:12:30 -0400
Date: Sat, 28 Sep 1996 17:12:30 -0400
Message-Id: <9609282112.AA18784@cold.fishkill.ibm.com>
From: "Charles Hines" <chuck_hines@VNET.IBM.COM>
To: Brady Montz <bradym@mac-bradym.cs.arizona.edu>
Cc: The FVWM Discussion List <fvwm@hpc.uh.edu>,
        The FVWM Workers List <fvwm-workers@hpc.uh.edu>
Subject: Re: New FvwmIconMan released, and update on miniicon patch
In-Reply-To: <199609280115.SAA08333@mac-bradym.cs.arizona.edu>
References: <199609280115.SAA08333@mac-bradym.cs.arizona.edu>
X-Face: 'pn"gAx+&w4-=-}\z>*.Y*@(lC;t1<P);@iwiv';)vn3H2\/.x#;>J[a,/Q.Yv0^Wwc6_"H]}}-"?%)ETS`1v[]P`w4,E.9Bgf*XI4<H{C}Mf@'Ms)z?Bqzf"8v/oY\9K){w}\pw
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

>>>>> "BM" == Brady Montz <bradym@mac-bradym.cs.arizona.edu> writes:

BM> I released version 0.8 of FvwmIconMan. You can get it at:

Ok, I'll be sure to get it.

BM> It contains the miniicon stuff (handled a little bit better than
BM> the rough one that was contained in that mega miniicons patch I
BM> mailed in last week), and more importantly, it tries to minimize
BM> the number of times it redraws the manager windows when you switch
BM> pages.

Oh good.  I was going to chat with you about that, because with lots
of windows on each page it would take several seconds to redraw when I
tested it last.  I'll have to check out the improvement!

BM> You don't need the miniicons patch to compile this version, it
BM> works fine without it.

Oh good.  But I've decided to try and make everyone happy on this one
and actually add the mini icon support.  Since it's #ifdef'ed in
there, I guess it won't hurt anything.  As I've said in the past I
don't like all these #ifdef's in there for various features, but I've
decided that it's the only way to get closer to pleasing everyone.

Which brings me to another point.  Between that, adding Andrew's
Titlebar pixmap patch (without the border textures just yet, although
I may merge some variant of that in as well), the patches from
Albrecht, and all the other stuff that I've put into my local
development version, I think one more beta before 2.1.0 might be in
order.

I really didn't want to do that, but I made the mistake of taking too
long to get it out and feeling the "need" to put a lot of things in.

So, since there will be one more beta, I also would like to take care
of a few more things, like ressurrecting CursorStyle and TogglePaging,
plus some other stuff from the TO-DO list that I think should probably
get done before 2.1.0 now that I've thought about it some more.

I'd like to get 2.0.44 out within a few weeks (it'll probably take a
little bit to pull all this together) then I'd like to get 2.1.0 out
no more than a week or two after that (with NOTHING but bugfixes and
absolute necessites so it won't get delayed again).  Then the
semi-mythical Great Style Flags Rewrite and general code cleanup for
the next beta releases (2.2.x) sometime after that (along with
official 2.1.x bugfix and minor enhancement releases, which I'm sure
will be needed).

Sound good?

Well, gotta get back to my weekend...

Chuck

--
*******************************************************************************
Charles K. Hines <chuck_hines@vnet.ibm.com>
IBM Logic Synthesis Developer [BooleDozer (TM)]
Martial Arts Instructor [Modern Arnis, Presas Style Filipino Martial Arts]

         "Go back to sleep, Chuck.  You're just havin' a nightmare
             -- of course, we ARE still in Hell." (Gary Larson)
*******************************************************************************
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Sat Sep 28 23:56:25 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Sat, 28 Sep 1996 23:56:25 -0500 (CDT)
Received: from pangaea.engin.umich.edu (anon@pangaea.engin.umich.edu [141.212.192.185]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id XAA24137 for <fvwm-workers@hpc.uh.edu>; Sat, 28 Sep 1996 23:56:18 -0500 (CDT)
Received: from localhost (anon@localhost) by pangaea.engin.umich.edu (8.7.5/8.7.3/a1) with ESMTP id AAA26717; Sun, 29 Sep 1996 00:56:13 -0400 (EDT)
Message-Id: <199609290456.AAA26717@pangaea.engin.umich.edu>
To: fvwm-workers@hpc.uh.edu, albrecht@auto.tuwien.ac.at
cc: anon@engin.umich.edu
Subject: Re: some leftover questions
Date: Sun, 29 Sep 1996 00:56:13 -0400
From: Omar S Juma <anon@engin.umich.edu>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2


> You may have noticed: I grabbed all sort of parsing code from fvwm & some
> modules and built them into the lib, while using only the best of each
> implementation and optimizing the whole for stability & speed.

yes, i did notice, and it's a welcome improvement.  one of the things that
has boggled my mind is the complexity of the parsing code, given the
simplicity of the supported input language.  i have been toying with the
idea of completely rewriting the parsing support in ewm, for several reasons:

 - smaller code.  yes, it's true, fvwm is compact, but it could be cut down
   in size even more if all those string comparisons, checks, handoffs, and
   traversals happened in a nice enclosed code set that would serve
   both program and modules.
 - parser/language improvements.  any changes to the input language
   would be awfully hard to implement with the "distributed" parsing
   scheme.  clarifying control over the input file(s) would shorten
   the idea-to-implementation time.
 - tokenization.  turning the input file into a token stream would
   greatly reduce the amount of immediate-tokenization code currently
   required to get the next string, chew the next whitespace, etc.
 - those ugly tabs.  using tabs as explicit tokens (at least for 1.xx)
   was an evil and homely act of coding.  this was stuff they did
   in the 70's with "sophisticated" fortran programs, and does not
   belong here.
 - full regexp support.  fvwm 1.xx only supported "*" and "?" for regexp
   processing.  [actually, the current ewm already uses regex; encapsulating
   string processing in a string class was the key].

> Never dare to change anything unless you've grepped the whole source tree !!!

i hear you.  some of those greps have required substantial and delicate
regex specification, and even then it's been a nightmare.  going to c++
has added to the difficulty, since grepping for x and y assignments can
lead to all sorts of unanticipated detours.  however, grepping an entire
source tree to learn about code structure should be relegated to the
fifth layer of hell.

also, and this is not to throw egg in anyone's face, since i've been
guilty of same, but there is code there that i can't even begin to understand,
and there is not a shred of in-code documentation to explain it.  it's taken
a lot of squinting, and several weekends, to reduce massive 600-line+ uncommented
procedures into something workable.  somebody out there either had a huge
monitor or a pretty impressive mind's eye.

as for naming "conventions", that probably was what finally drove me into
doing a rewrite, since it was quite difficult to follow different and
intermeshing coding styles.  but naming something "seekright" is, in
my opinion, quite an awful violation.


ewm notes:  [http://pangaea.engin.umich.edu/ewm/]

 - pangaea is back online as a solaris beast, and the ewm site is up
   and running once more.  watch for much new content in the next few days.
   as always, you can see exactly what the current code looks like by taking
   the code tour; once i find a decent c++-to-html translator, there will
   be a pretty html version to work with as well.
 - a beta-1 version should be available by mid october.  the purpose of this
   version will be to test base functionality and shake out any glaring bugs,
   especially on the iccc front.  however, the way-cool ewm floating palettes
   should be part of this release.
 - a beta-2 version is planned for early/mid november.  this will contain the
   personality support code, which will enable a variety of visual and
   behavioral flavors, from beos to mwm.  it will also be the last version
   to support the current module conventions.
 - an ewm<->module ipc spec document will be available for review in mid november.
   watch for more bells and whistles, as well as much simpler module-writing
   requirements; tastes great, less filling...
 - down with crappy mwm hints; ewm hints are coming...


...anon...

--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Sun Sep 29 07:44:54 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Sun, 29 Sep 1996 07:44:54 -0500 (CDT)
Received: from email.aston.ac.uk (email.aston.ac.uk [134.151.79.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id HAA00454; Sun, 29 Sep 1996 07:39:25 -0500 (CDT)
Received: from sun.aston.ac.uk (actually host dirac.aston.ac.uk) 
          by email.aston.ac.uk with SMTP (PP); Sun, 29 Sep 1996 13:41:36 +0100
Message-Id: <24461.199609291237@sun.aston.ac.uk>
To: chuck_hines@vnet.ibm.com
Cc: fvwm@hpc.uh.edu, fvwm-workers@hpc.uh.edu
Subject: Re: FVWM: Re: New FvwmIconMan released, and update on miniicon patch
In-Reply-To: Your message of "Sat, 28 Sep 1996 17:12:30 -0400"
References: <9609282112.AA18784@cold.fishkill.ibm.com>
X-Mailer: Mew version 1.06 on Emacs 19.33.3
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Date: Sun, 29 Sep 1996 13:36:55 +0100
From: Richard Lister <listerrj@helios.aston.ac.uk>
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

From: Charles Hines <chuck_hines@VNET.IBM.COM>
Subject: FVWM: Re: New FvwmIconMan released, and update on miniicon patch
Date: Sat, 28 Sep 1996 17:12:30 -0400

> 
> Which brings me to another point.  Between that, adding Andrew's
> Titlebar pixmap patch (without the border textures just yet, although
> I may merge some variant of that in as well), the patches from
> Albrecht, and all the other stuff that I've put into my local
> development version, I think one more beta before 2.1.0 might be in
> order.

Great, I'm pleased to see Andrew's patch going in. However, I feel
that it should include the ability to specify a foreground colour
for the titlebar, too. For example I have a solid light colour for
inactive windows, but dark for active, and need to change the text
colour accordingly.

A while back I submitted a patch to the patch that allowed, e.g.
  TitleStyle ActiveUp (Solid White/MediumPurple)
which corresponds to the standard fvwm colour-selecting syntax.
Unfortunately there's a bug in my code, but I'll try to fix
it in the next couple of days. 

> 
> I really didn't want to do that, but I made the mistake of taking too
> long to get it out and feeling the "need" to put a lot of things in.

Feeping creaturism :-) 

> Well, gotta get back to my weekend...

What's a weekend ?...

Ric

Richard J. Lister, Research Assistant    
Neural Computing Research Group, Aston University
r.j.lister@aston.ac.uk 
http://www.ncrg.aston.ac.uk/~listerrj/ 

--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 30 05:49:07 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Mon, 30 Sep 1996 05:49:07 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id FAA20665 for <fvwm-workers@hpc.uh.edu>; Mon, 30 Sep 1996 05:48:49 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA13603
  (5.65c/IDA-1.4.4 for <fvwm-workers@hpc.uh.edu>); Mon, 30 Sep 1996 12:48:42 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA19696; Mon, 30 Sep 96 11:48:41 +0100
Date: Mon, 30 Sep 96 11:48:41 +0100
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609301048.AA19696@vta_host.auto.tuwien.ac.at>
To: anon@engin.umich.edu
Cc: fvwm-workers@hpc.uh.edu, anon@engin.umich.edu
In-Reply-To: <199609290456.AAA26717@pangaea.engin.umich.edu> (message from Omar S Juma on Sun, 29 Sep 1996 00:56:13 -0400)
Subject: Re: some leftover questions
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

>>>>> Omar S Juma writes:

> You may have noticed: I grabbed all sort of parsing code from fvwm & some
> modules and built them into the lib, while using only the best of each
> implementation and optimizing the whole for stability & speed.

O> yes, i did notice, and it's a welcome improvement.  one of the things that
O> has boggled my mind is the complexity of the parsing code, given the
O> simplicity of the supported input language.  i have been toying with the
O> idea of completely rewriting the parsing support in ewm, for several reasons:

O>  - smaller code.  yes, it's true, fvwm is compact, but it could be cut down
O>    in size even more if all those string comparisons, checks, handoffs, and
O>    traversals happened in a nice enclosed code set that would serve
O>    both program and modules.

that's what I was trying to do:
all that page-filling if (mystrcasecmp(action, "TOKEN",5) is a huge waste
of code space (you can use a loop for the parameterless options !!!):



	while (action && (t=GetNextToken(action)))  /* != current syntax */
	{ register char *p; 
          int i=0;
		for (i=0; i < NUMOPTIONS &&
			  !(p=MatchToken(t,optiontable[i].string));
			  i++)
			;

		if (i < NUMOPTIONS)
		{
		    action=p;			/* skip token */
		    /* now do sth with a state and the 
			info provided in optiontable */
		} else
		{ /* check for special (e.g with parameter) options */
			if (p=MatchToken(t,"OPTION_WITH_PARAMETER"))
			{
				action=p; 	/* skip token */
				arg=GetNumericalArg(action);	/* NYI */
			}
		}
	}
		
		
		
This is generic enough to handle all, even the most special cases.
And if all parsing is done this way, it's a GOOD THING (Tm) to speed things
up.
i.e: 

	Asserting sortedness of optiontables -> use binary search with 
	tables.
	Doing the binary search in a routine of it's own (while still 
	supporting arbitrary parsetables: only the first element does have
	to be a string ptr.)
	(again out of time on this, any takers ?)
		

O>  - parser/language improvements.  any changes to the input language
O>    would be awfully hard to implement with the "distributed" parsing
O>    scheme.  clarifying control over the input file(s) would shorten
O>    the idea-to-implementation time.

well, but it's some kind of object-orientedness, that each object parses
its option all by himself. (I'd keep it this way!!!)

All we have to do is to supply commands which SHOULD be used to make
quoting etc. consistent.

O>  - tokenization.  turning the input file into a token stream would
O>    greatly reduce the amount of immediate-tokenization code currently
O>    required to get the next string, chew the next whitespace, etc.

use parsing tables, GetNextToken (=currently named seekright, due to old
meaning still being used), MatchToken, GetNumericalArgument (NYI),
and it's all neat.
Use of lex/yacc is neat too, but separates parsing completely from the code
and if you implement/change/remove a feature you've to tackle with the lex
& yacc scripts.
Fvwm as it is is highly modifyable, since you don't have to understand ALL
of it to make any change. Changes are very local.

(take me as an example: I changed a whole lot, and still don't know
anything of X in detail, there are great stretches of code, I didn't even
scan yet. I only did grep's to see in which forms mystrcasecmp was used.) 

O>  - those ugly tabs.  using tabs as explicit tokens (at least for 1.xx)
O>    was an evil and homely act of coding.  this was stuff they did
O>    in the 70's with "sophisticated" fortran programs, and does not
O>    belong here.
??? 

O>  - full regexp support.  fvwm 1.xx only supported "*" and "?" for regexp
O>    processing.  [actually, the current ewm already uses regex; encapsulating
O>    string processing in a string class was the key].
neat, but could also be added to GetNextToken, as it's the only way a
source string should be accessed (except for GetNumericalArgument).

> Never dare to change anything unless you've grepped the whole source tree !!!

O> i hear you.  some of those greps have required substantial and delicate
O> regex specification, and even then it's been a nightmare.  going to c++
O> has added to the difficulty, since grepping for x and y assignments can
O> lead to all sorts of unanticipated detours.  however, grepping an entire
O> source tree to learn about code structure should be relegated to the
O> fifth layer of hell.
:-)
but they're a hell of a lot practical, if you need an answer on 
"Is mystrncasecmp ever used as intended, or is it always used to match a
token?"

O> also, and this is not to throw egg in anyone's face, since i've been
O> guilty of same, but there is code there that i can't even begin to understand,
O> and there is not a shred of in-code documentation to explain it.  it's taken
O> a lot of squinting, and several weekends, to reduce massive 600-line+
O> uncommented

O> procedures into something workable.  somebody out there either had a huge
O> monitor or a pretty impressive mind's eye.

I just took a glance on the style parsing (wanted to reuse it for the 
prev/next/none parsing - might still be possible, but I'm out of time)
and just started to reprogram.

O> as for naming "conventions", that probably was what finally drove me into
O> doing a rewrite, since it was quite difficult to follow different and
O> intermeshing coding styles.  but naming something "seekright" is, in
O> my opinion, quite an awful violation.
yes, but 
	it's already been there (some module, I forget which) 
	it's a temporal: if the last reference to GetNextToken is gone,
		someone (I hope chuck) will do a global replace with
		GetNextToken, which is the ideal name.
		I didn't want to use sth similar sounding either, since
		it'd have confused things even more.
		And I didn't want to keep the current counter-intuitive
		arguments & return value.


O>  - down with crappy mwm hints; ewm hints are coming...
hopefully remaining compatible.

I'll have a look at this, when I'm back.
I like C++ it's more natural programming.
But you have to keep a close eye on efficiency:
C++ programs tend to bloat data and code (duplication).
But there're awfully nice features: use "const" consistently, and C++ will
do memcpy's for you, if you give a const object as a non const parameter.

After all, it's not that different to good written C code.
(you can even do object oriented stuff in assembler)

Well, we`ll se which way fvwm goes, and how ewm develops.
I'll re-evaluate, when I'm back.

albrecht
-- 
Night after night		     |	What's done is done
Going round and round my brain	     |	We cannot just write off his final scene
His dream is driving me insane	     |	Take heed of the dream
In the corner of some foreign field  |	Take heed
The gunner sleeps tonight		-- Pink Floyd, "The Gunners Dream"
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 30 09:44:17 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Mon, 30 Sep 1996 09:44:17 -0500 (CDT)
Received: from newton.auto.tuwien.ac.at (newton.auto.tuwien.ac.at [128.130.41.13]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id JAA26181; Mon, 30 Sep 1996 09:39:18 -0500 (CDT)
Received: from vta_host.auto.tuwien.ac.at by newton.auto.tuwien.ac.at with SMTP id AA13793
  (5.65c/IDA-1.4.4); Mon, 30 Sep 1996 16:34:47 +0200
Received: by vta_host.auto.tuwien.ac.at (4.1/JK-0.4.5a)
	id AA22814; Mon, 30 Sep 96 15:34:45 +0100
Date: Mon, 30 Sep 96 15:34:45 +0100
From: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Message-Id: <9609301434.AA22814@vta_host.auto.tuwien.ac.at>
To: chuck_hines@VNET.IBM.COM
Cc: bradym@mac-bradym.cs.arizona.edu, fvwm@hpc.uh.edu, fvwm-workers@hpc.uh.edu
In-Reply-To: <9609282112.AA18784@cold.fishkill.ibm.com> (chuck_hines@VNET.IBM.COM)
Subject: Re: New FvwmIconMan released, and update on miniicon patch
X-Attribution: A
Reply-To: albrecht@auto.tuwien.ac.at (Albrecht Kadlec)
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

>>>>> Charles Hines writes:

>>>>> "BM" == Brady Montz <bradym@mac-bradym.cs.arizona.edu> writes:

C> Which brings me to another point.  Between that, adding Andrew's
C> Titlebar pixmap patch (without the border textures just yet, although
C> I may merge some variant of that in as well), the patches from
C> Albrecht, and all the other stuff that I've put into my local
C> development version, I think one more beta before 2.1.0 might be in
C> order.

I hoped this would happen, as it's been way time that some things were
added/changed.
Do you plan on changing some names, before releasing this beta or the final
2.1 (seekright -> GetNextToken is on my wishlist, if GetNextToken is rooted
out)
Just after inclusion of all relevant patches and before the release would be
the optimal time.

C> I really didn't want to do that, but I made the mistake of taking too
C> long to get it out and feeling the "need" to put a lot of things in.

and we did ours and sent patches :-)
I think it's for the benefit of everyone: no one wants to change such
things after the official release (this would mean more questions of the
form:  "Are you using 1.24, 2.0 or 2.1 beta ?")

C> So, since there will be one more beta, I also would like to take care
C> of a few more things, like ressurrecting CursorStyle and TogglePaging,
C> plus some other stuff from the TO-DO list that I think should probably
C> get done before 2.1.0 now that I've thought about it some more.

good. this will halve the travel on the list:
"where did TogglePage go?" :-)

C> I'd like to get 2.0.44 out within a few weeks (it'll probably take a
C> little bit to pull all this together) then I'd like to get 2.1.0 out
C> no more than a week or two after that (with NOTHING but bugfixes and
C> absolute necessites so it won't get delayed again).  Then the
C> semi-mythical Great Style Flags Rewrite and general code cleanup for
C> the next beta releases (2.2.x) sometime after that (along with
C> official 2.1.x bugfix and minor enhancement releases, which I'm sure
C> will be needed).

C> Sound good?
GOOD (Tm)


C> Well, gotta get back to my weekend...
I postponed my fresh air- breathing till tomorrow :)

albrecht
-- 
... and, could someone please be so kind to present an algorithm to
cope with this world in real time, using incomplete knowledge !?
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 30 13:25:49 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Mon, 30 Sep 1996 13:25:49 -0500 (CDT)
Received: from forsmark.uu.se (bill.forsmark.uu.se [130.238.224.11]) by sina.hpc.uh.edu (8.7.3/8.7.3) with ESMTP id NAA07418 for <fvwm-workers@hpc.uh.edu>; Mon, 30 Sep 1996 13:25:39 -0500 (CDT)
Received: from draken.uu.se (draken [130.238.224.112]) by forsmark.uu.se (8.8.0/8.8.0) with SMTP id UAA20778 for <fvwm-workers@hpc.uh.edu>; Mon, 30 Sep 1996 20:24:19 +0200 (MET DST)
Received: from localhost by draken.uu.se (SMI-8.6/SMI-SVR4)
	id UAA02216; Mon, 30 Sep 1996 20:24:07 +0200
Date: Mon, 30 Sep 1996 20:24:06 +0200 (MET DST)
From: Andreas Ehliar <dt95aneh@forsmark.uu.se>
X-Sender: dt95aneh@draken
Reply-To: Andreas Ehliar <dt95aneh@forsmark.uu.se>
To: fvwm-workers@hpc.uh.edu
Subject: Patch for lowered menus...
Message-ID: <Pine.GSO.3.94.960927115117.17760A-100000@tunnan>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

This is just a little patch I put together to improve (imho) the look
of the menus. 
Use the added menustyle as follows:

MenuStyle black grey blue times fvwm lowered darkgrey
the above line will give lowered menus with bg color darkgrey
for selected menu items
The patch has been tested quite a lot on Solaris 2.5.1, but I have not
been able to test it on any other OS.
I don't think there should be any problems though...
NOTE: I'm not a very experienced X-windows programmer, this was merely
a work of cut-paste-and-modify... :)

It would be really nice to have pixmaps in the background for menus
though, anyone working on that?

//Andreas Ehliar


diff -cr fvwm-2.0.43/Fvwm.tmpl fvwm-2.0.43.lm/Fvwm.tmpl
*** fvwm-2.0.43/Fvwm.tmpl	Thu Jun 27 16:57:21 1996
--- fvwm-2.0.43.lm/Fvwm.tmpl	Fri Sep 27 09:47:39 1996
***************
*** 164,170 ****
   * 
   ***************************************************************************/
  
! OPTION_DEFINES = -DSHAPE -DPIXMAP_BUTTONS 
  
  
  
--- 164,170 ----
   * 
   ***************************************************************************/
  
! OPTION_DEFINES = -DSHAPE -DPIXMAP_BUTTONS -DLOWERED_MENUS
  
  
  
diff -cr fvwm-2.0.43/fvwm/builtins.c fvwm-2.0.43.lm/fvwm/builtins.c
*** fvwm-2.0.43/fvwm/builtins.c	Thu Jun 27 16:34:19 1996
--- fvwm-2.0.43.lm/fvwm/builtins.c	Mon Sep 30 19:13:26 1996
***************
*** 1266,1271 ****
--- 1266,1274 ----
    XGCValues gcv;
    unsigned long gcm;
    char *fore=NULL, *back=NULL, *stipple = NULL, *font= NULL, *style = 0;
+ #ifdef LOWERED_MENUS
+   char *lowered = NULL, *hicol = NULL;
+ #endif
    extern char *white,*black;
    int wid,hei;
  
***************
*** 1274,1280 ****
    action = GetNextToken(action,&stipple);
    action = GetNextToken(action,&font);
    action = GetNextToken(action,&style);
! 
    if((style != NULL)&&(mystrncasecmp(style,"MWM",3)==0))
    {
      Scr.flags |= MWMMenus;
--- 1277,1291 ----
    action = GetNextToken(action,&stipple);
    action = GetNextToken(action,&font);
    action = GetNextToken(action,&style);
! #ifdef LOWERED_MENUS
!   action = GetNextToken(action,&lowered);
!   action = GetNextToken(action,&hicol);
!   if((lowered != NULL) &&(mystrncasecmp(lowered,"lowered",8)==0)){
!     Scr.flags |= LoweredMenus;
!   }else{
!     Scr.flags &= ~LoweredMenus;
!   }
! #endif
    if((style != NULL)&&(mystrncasecmp(style,"MWM",3)==0))
    {
      Scr.flags |= MWMMenus;
***************
*** 1296,1301 ****
--- 1307,1319 ----
      Scr.MenuRelief.fore  = GetHilite(Scr.MenuColors.back);
      Scr.MenuStippleColors.back = Scr.MenuColors.back;
      Scr.MenuStippleColors.fore = GetColor(stipple); 
+ #ifdef LOWERED_MENUS    
+     if(hicol != NULL){
+ 	Scr.MenuHicol = GetColor(hicol);
+     }else{
+ 	Scr.MenuHicol = GetColor(fore);
+     }
+ #endif
    }
    else
    {
***************
*** 1305,1310 ****
--- 1323,1331 ----
      Scr.MenuRelief.fore  = GetColor(white);
      Scr.MenuStippleColors.back = GetColor(white);
      Scr.MenuStippleColors.fore = GetColor(black);
+ #ifdef LOWERED_MENUS
+     Scr.MenuHicol = Scr.MenuColors.back;
+ #endif
    }
  
    if ((font == NULL)||
***************
*** 1333,1339 ****
      XFreeGC(dpy,Scr.MenuReliefGC);
    }
    Scr.MenuReliefGC = XCreateGC(dpy, Scr.Root, gcm, &gcv);  
! 
    gcv.foreground = Scr.MenuRelief.back;
    gcv.background = Scr.MenuRelief.fore;
    if(Scr.MenuShadowGC != NULL)
--- 1354,1369 ----
      XFreeGC(dpy,Scr.MenuReliefGC);
    }
    Scr.MenuReliefGC = XCreateGC(dpy, Scr.Root, gcm, &gcv);  
! #ifdef LOWERED_MENUS
!   if(Scr.MenuHicol){
!       gcv.foreground = Scr.MenuHicol;    
!       if(Scr.MenuHicolGC)
! 	  {	      
! 	      XFreeGC(dpy,Scr.MenuHicolGC);	      
! 	  }
!       Scr.MenuHicolGC = XCreateGC(dpy, Scr.Root,gcm,&gcv);
!   }    
! #endif  
    gcv.foreground = Scr.MenuRelief.back;
    gcv.background = Scr.MenuRelief.fore;
    if(Scr.MenuShadowGC != NULL)
diff -cr fvwm-2.0.43/fvwm/fvwm.c fvwm-2.0.43.lm/fvwm/fvwm.c
*** fvwm-2.0.43/fvwm/fvwm.c	Thu Jun 27 16:08:08 1996
--- fvwm-2.0.43.lm/fvwm/fvwm.c	Fri Sep 27 09:45:32 1996
***************
*** 559,566 ****
--- 559,571 ----
    /* set up default colors, fonts, etc */
    ExecuteFunction("HilightColor black grey",NULL,&Event,C_ROOT,-1);
    ExecuteFunction("XORValue 255",NULL,&Event,C_ROOT,-1);
+ #ifdef LOWERED_MENUS
+   ExecuteFunction("MenuStyle black grey slategrey fixed fvwm lowered darkgrey",
+                   NULL,&Event,C_ROOT,-1);
+ #else
    ExecuteFunction("MenuStyle black grey slategrey fixed fvwm",
                    NULL,&Event,C_ROOT,-1);
+ #endif
    ExecuteFunction("TitleStyle Centered Raised",NULL,&Event,C_ROOT,-1);
    ExecuteFunction("IconFont fixed", NULL,&Event,C_ROOT,-1);
    ExecuteFunction("WindowFont fixed", NULL,&Event,C_ROOT,-1);
diff -cr fvwm-2.0.43/fvwm/menus.c fvwm-2.0.43.lm/fvwm/menus.c
*** fvwm-2.0.43/fvwm/menus.c	Thu Jun 27 21:00:56 1996
--- fvwm-2.0.43.lm/fvwm/menus.c	Fri Sep 27 09:40:28 1996
***************
*** 148,158 ****
   ***********************************************************************/
  void RelieveRectangle(Window win,int x,int y,int w, int h,GC Hilite,GC Shadow)
  {
!   XDrawLine(dpy, win, Hilite, x, y, w+x-1, y);
!   XDrawLine(dpy, win, Hilite, x, y, x, h+y-1);
! 
!   XDrawLine(dpy, win, Shadow, x, h+y-1, w+x-1, h+y-1);
!   XDrawLine(dpy, win, Shadow, w+x-1, y, w+x-1, h+y-1);
  }
  
  /***********************************************************************
--- 148,166 ----
   ***********************************************************************/
  void RelieveRectangle(Window win,int x,int y,int w, int h,GC Hilite,GC Shadow)
  {
! #ifdef LOWERED_MENUS
!     XDrawLine(dpy, win, Scr.flags & LoweredMenus ? Shadow:Hilite, x, y, w+x-1, y);
!     XDrawLine(dpy, win, Scr.flags & LoweredMenus ? Shadow:Hilite , x, y, x, h+y-1);
!     
!     XDrawLine(dpy, win, Scr.flags & LoweredMenus ? Hilite:Shadow, x, h+y-1, w+x-1,h+y-1);
!     XDrawLine(dpy, win, Scr.flags & LoweredMenus ? Hilite:Shadow, w+x-1, y, w+x-1, h+y-1);
! #else
!     XDrawLine(dpy, win, Hilite, x, y, w+x-1, y);
!     XDrawLine(dpy, win, Hilite, x, y, x, h+y-1);
!     
!     XDrawLine(dpy, win, Shadow, x, h+y-1, w+x-1, h+y-1);
!     XDrawLine(dpy, win, Shadow, w+x-1, y, w+x-1, h+y-1);
! #endif
  }
  
  /***********************************************************************
***************
*** 225,233 ****
        XClearArea(dpy, mr->w, 0,y_offset,mr->width,y_height,0);
        if ((mi->state)&&(mi->func_type != F_TITLE)&&
  	  (mi->func_type != F_NOP)&&(((*mi->item)!=0)||
! 				     mi->picture || mi->lpicture ))
! 	RelieveRectangle(mr->w, 2, y_offset, mr->width-4, mi->y_height,
! 			 ReliefGC,ShadowGC);
        RelieveHalfRectangle(mr->w, 0, y_offset, mr->width,
  			   y_height, ReliefGC, ShadowGC);
      }
--- 233,247 ----
        XClearArea(dpy, mr->w, 0,y_offset,mr->width,y_height,0);
        if ((mi->state)&&(mi->func_type != F_TITLE)&&
  	  (mi->func_type != F_NOP)&&(((*mi->item)!=0)||
! 				     mi->picture || mi->lpicture )){
! #ifdef LOWERED_MENUS       
! 	   if(Scr.MenuHicolGC){
! 	       XFillRectangle(dpy,mr->w,Scr.MenuHicolGC,3,y_offset,mr->width-3,y_height);
! 	   }
! #endif
! 	   RelieveRectangle(mr->w, 2, y_offset, mr->width-4, mi->y_height,
! 			    ReliefGC,ShadowGC);
!       }
        RelieveHalfRectangle(mr->w, 0, y_offset, mr->width,
  			   y_height, ReliefGC, ShadowGC);
      }
diff -cr fvwm-2.0.43/fvwm/screen.h fvwm-2.0.43.lm/fvwm/screen.h
*** fvwm-2.0.43/fvwm/screen.h	Fri Apr  5 02:18:23 1996
--- fvwm-2.0.43.lm/fvwm/screen.h	Mon Sep 30 11:59:05 1996
***************
*** 139,145 ****
  
    name_list *TheList;		/* list of window names with attributes */
    char *DefaultIcon;            /* Icon to use when no other icons are found */
! 
    ColorPair MenuColors;
    ColorPair MenuStippleColors;
    ColorPair MenuRelief;
--- 139,147 ----
  
    name_list *TheList;		/* list of window names with attributes */
    char *DefaultIcon;            /* Icon to use when no other icons are found */
! #ifdef LOWERED_MENUS
!   Pixel MenuHicol;
! #endif
    ColorPair MenuColors;
    ColorPair MenuStippleColors;
    ColorPair MenuRelief;
***************
*** 164,169 ****
--- 166,174 ----
    GC MenuStippleGC;
    GC MenuReliefGC;
    GC MenuShadowGC;
+ #ifdef LOWERED_MENUS
+   GC MenuHicolGC;
+ #endif
    GC ScratchGC1;
    GC ScratchGC2;
    GC ScratchGC3;
***************
*** 256,259 ****
--- 261,267 ----
  #define EdgeWrapX                 (64) /* Should EdgeScroll wrap around? */
  #define EdgeWrapY                (128) 
  #define MWMMenus                (1024)
+ #ifdef LOWERED_MENUS
+ #define LoweredMenus            (2048)
+ #endif
  #endif /* _SCREEN_ */



--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

From owner-fvwm-workers@hpc.uh.edu  Mon Sep 30 18:25:56 1996
Received: by sina.hpc.uh.edu (TLB v0.06a (1.15 tibbs 1996/09/28 08:48:32)); Mon, 30 Sep 1996 18:25:56 -0500 (CDT)
Received: from mail1.its.rpi.edu (mail1.its.rpi.edu [128.113.100.7]) by sina.hpc.uh.edu (8.7.3/8.7.3) with SMTP id SAA21086 for <fvwm-workers@hpc.uh.edu>; Mon, 30 Sep 1996 18:25:46 -0500 (CDT)
Received: from pluto.solarsystem.org (rts4p3.xyp.rpi.edu [128.113.29.72]) by mail1.its.rpi.edu (8.6.9/8.6.4) with ESMTP id PAA26643; Mon, 30 Sep 1996 15:04:32 -0400
Received: (from drewvel@localhost) by pluto.solarsystem.org (8.7.4/8.7.3) id PAA04479; Mon, 30 Sep 1996 15:04:45 -0400
Date: Mon, 30 Sep 1996 15:04:45 -0400
Message-Id: <199609301904.PAA04479@pluto.solarsystem.org>
From: Andrew Veliath <veliaa@rpi.edu>
To: "Charles Hines" <chuck_hines@VNET.IBM.COM>
Cc: FVWM Workers <fvwm-workers@hpc.uh.edu>
Subject: tbp6 patch
Sender: owner-fvwm-workers@hpc.uh.edu
Precedence: list
X-Majordomo: 1.94-beta2

Hi Chuck,

tbp6 is a minor update.  It lets you add title-style flags
without respecifying the entire title-style 
(e.g. 'titlestle inactive (-- left)'), and makes one of the error
messages a clearer.  tbp6 still has nothing to do with the 
border textures yet (I want to keep that "separate.")

I also stuck a tbp5-tbp6 context diff on there as well so if you
attempt to merge it in it should pretty easy.  The size of this diff
is mainly constituent of a reindentation.  The actual changes are
small.

Both updates are at the normal location.

-- 
Andrew Veliath <veliaa@rpi.edu>        http://www.rpi.edu/~veliaa
Finger for PGP Public Key
Key fingerprint =  51 56 5D 3E 51 43 8B 74  7C B2 E4 B6 84 8E 8B 08
--
Visit the official FVWM web page at <URL:http://www.hpc.uh.edu/fvwm/>.
To unsubscribe from the list, send "unsubscribe fvwm-workers" in the
body of a message to majordomo@hpc.uh.edu.
To report problems, send mail to fvwm-workers-owner@hpc.uh.edu.

