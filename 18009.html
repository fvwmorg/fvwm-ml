<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>Re: FVWM: [Fwd: need help with screen-shots under X11] from Martin Kraemer on 1996-09-30 (fvwm-users)</title>
<meta name="Author" content="Martin Kraemer (Martin.Kraemer_at_mch.sni.de)" />
<meta name="Subject" content="Re: FVWM: [Fwd: need help with screen-shots under X11]" />
<meta name="Date" content="1996-09-30" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<h1>Re: FVWM: [Fwd: need help with screen-shots under X11]</h1>
<!-- received="Mon Sep 30 03:50:30 1996" -->
<!-- isoreceived="19960930025030" -->
<!-- sent="Mon, 30 Sep 1996 09:50:09 +0100 (MET)" -->
<!-- isosent="19960930085009" -->
<!-- name="Martin Kraemer" -->
<!-- email="Martin.Kraemer_at_mch.sni.de" -->
<!-- subject="Re: FVWM: [Fwd: need help with screen-shots under X11]" -->
<!-- id="199609300850.AA01583_at_deejai.mch.sni.de" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="324E340F.2B2438EB_at_mpeg.org" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start18009" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="18010.html" accesskey="d" title="TeeJay: &quot;Re: FVWM: Still cant apply patches. Can anybody help me?&quot;">Next message</a> ]
[ <a href="18008.html" title="Kjetil Klonteig: &quot;FVWM: Still cant apply patches. Can anybody help me?&quot;">Previous message</a> ]
[ <a href="18003.html" title="Tristan RAMBO Savatier: &quot;FVWM: [Fwd: need help with screen-shots under X11]&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="18011.html" accesskey="t" title="Albrecht Kadlec: &quot;Re: FVWM: [Fwd: need help with screen-shots under X11]&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg18009" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg18009" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg18009" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg18009" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Martin Kraemer &lt;<a href="mailto:Martin.Kraemer_at_mch.sni.de?Subject=Re%3A%20FVWM%3A%20%5BFwd%3A%20need%20help%20with%20screen-shots%20under%20X11%5D">Martin.Kraemer_at_mch.sni.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 30 Sep 1996 09:50:09 +0100 (MET)</span><br />
</address>
<br />
Hello Tristan,
<br />
<br />I have two ways of getting Screenshots. One is &quot;directly to printer&quot; and
<br />
is done as an additional &quot;Print&quot; command in the window's pulldown menu
<br />
(the Hardcopy script tries to detect if the caught window has portrait or
<br />
landscape format and rotates it by 90 degrees if necessary):
<br />
<br />#### from: ~/.fvwm2rc95, works on any recent fvwm-2
<br />
AddToMenu &quot;Window-Ops2&quot; &quot;&amp;Restore&quot;        Iconify -1
<br />
+                       &quot;&amp;Move&quot;           Move-or-Raise
<br />
+                       &quot;&amp;Size&quot;           Resize-or-Raise
<br />
+                       &quot;&amp;Lower&quot;          Lower
<br />
+                       &quot;Mi&amp;nimize&quot;       Iconify 1
<br />
+                       &quot;Ma&amp;ximize&quot;       Maximize 100 100
<br />
+                       &quot;&amp;Print&quot;          PrintFunction $w
<br />
+                       &quot;&quot;                Nop
<br />
+                       &quot;&amp;Kill&quot;           Destroy
<br />
+                       &quot;&amp;Close	Alt+F4&quot;   Delete
<br />
<br /># Private: Print current window
<br />
AddToFunc PrintFunction		&quot;I&quot; Raise
<br />
+                               &quot;I&quot; Exec /home/martin/BIN/Hardcopy $w $1
<br />
<br />...and the other is used with the Ctrl-[Print] key (it doesn't actually
<br />
print but invokes xv to pre-view the currently active window's snapshot
<br />
for saving or printing):
<br />
<br />#### from: ~/.fvwm2rc95, works on any recent fvwm-2
<br />
Key Print       WIFST   C       Exec /home/martin/BIN/xvHardCopy $w $1
<br />
<br />&lt;&lt;Note: I've tried fiddling about with the $w parameter, but somehow it
<br />
works only in special places... Gotta re-read the man page for this. The
<br />
way I did it here works - even if it's incorrect&gt;&gt;
<br />
<br />Then there are the two scripts Hardcopy and xvHardCopy which get the
<br />
window (including frame) using the ImageMagick &quot;import&quot; function, the
<br />
first one is rotating automatically if necessary.
<br />
<br />&lt;&lt;Note: You'll have to adapt the paths and the lp/lpr printing parameters
<br />
as this is for the non-Linux system I'm using here&gt;&gt;
<br />
<br />#! /bin/sh
<br />
# This is a shell archive.  Remove anything before this line, then unpack
<br />
# it by saving it into a file and typing &quot;sh file&quot;.  To overwrite existing
<br />
# files, type &quot;sh file -c&quot;.  You can also feed this as standard input via
<br />
# unshar, or by typing &quot;sh &lt;file&quot;, e.g..  If this archive is complete, you
<br />
# will see the following message at the end:
<br />
#		&quot;End of shell archive.&quot;
<br />
# Contents:  /home/martin/BIN/Hardcopy /home/martin/BIN/xvHardCopy
<br />
# Wrapped by martin_at_deejai on Mon Sep 30 09:41:24 1996
<br />
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
<br />
if test -f '/home/martin/BIN/Hardcopy' -a &quot;${1}&quot; != &quot;-c&quot; ; then 
<br />
&nbsp;&nbsp;echo shar: Will not clobber existing file \&quot;'/home/martin/BIN/Hardcopy'\&quot;
<br />
else
<br />
echo shar: Extracting \&quot;'/home/martin/BIN/Hardcopy'\&quot; \(2302 characters\)
<br />
sed &quot;s/^X//&quot; &gt;'/home/martin/BIN/Hardcopy' &lt;&lt;'END_OF_FILE'
<br />
X#!/bin/sh
<br />
X# $Id: Hardcopy,v 1.4 1996/06/03 12:03:12 deejai!martin Exp deejai!martin $
<br />
XPATH=$PATH:/usr/bin/X11:/home/martin/BIN; export PATH
<br />
X
<br />
XError(){
<br />
X	echo '$Id: Hardcopy,v 1.4 1996/06/03 12:03:12 deejai!martin Exp deejai!martin $' &gt;&amp;2
<br />
X	echo &quot;$_at_&quot; &gt;&amp;2
<br />
X	exit 1
<br />
X}
<br />
X
<br />
Xcase &quot;$WINDOWID:$1&quot; in
<br />
X	&quot;:&quot;)    # neither WINDOWID nor Parameter given
<br />
X		xmessage -timeout 30 -file - &lt;&lt;. &amp;
<br />
Xxwininfo ==&gt; Please select the window about which you
<br />
X         ==&gt; would like information by clicking the
<br />
X         ==&gt; mouse in that window.
<br />
X  (...Or click THIS window to abort Hardcopy.)
<br />
X.
<br />
X		KID=$!
<br />
X		KIDWIN=`xwininfo -name xmessage 2&gt;&amp;1 | grep 'Window id: ' | awk '{ print $5; }'`
<br />
X		WINDOWID=`xwininfo 2&gt;&amp;1 | grep 'Window id: ' | awk '{ print $5; }'`
<br />
X		kill $KID
<br />
X		case &quot;$WINDOWID:$1&quot; in
<br />
X		  0x27:&quot;&quot;)
<br />
X			  Error &quot;Hardcopy aborted (clicked on root window)&quot;
<br />
X			  ;;
<br />
X		  $KIDWIN:&quot;&quot;)
<br />
X			  Error &quot;Hardcopy aborted (clicked on xmessage window)&quot;
<br />
X			  ;;
<br />
X		  &quot;:&quot;)    # neither WINDOWID nor Parameter given
<br />
X			  Error Specify '$WINDOWID' or a window id, please.
<br />
X			  ;;
<br />
X		esac;;
<br />
X	*:)     ;;
<br />
X	*)      WINDOWID=$1;;
<br />
Xesac
<br />
X
<br />
X# Sometimes popping is unwanted...
<br />
X#xwit -pop -id $WINDOWID || Error Invalid Window Id $WINDOWID
<br />
X
<br />
X# Berechnen von Landscape oder Portrait:
<br />
Xset -- `xwininfo -id $WINDOWID | grep Width:`   ; wid=$3
<br />
Xset -- `xwininfo -id $WINDOWID | grep Height:`  ; hite=$3
<br />
X[ $wid -gt $hite ] &amp;&amp; rotate=&quot;-rotate 90&quot; || rotate=&quot;&quot;
<br />
X
<br />
X# Wir verwenden nicht den $WINDOWID selbst, sondern 2 Stufen hoeher.
<br />
X# Dadurch bekommen wir auch den Rahmen mit drauf.
<br />
X# xwininfo sagt uns, wer der Vater von $WINDOWID ist.
<br />
X
<br />
X# Zur Sicherheit pruefen wir noch, ob der Vater das Rootfenster ist....
<br />
Xset -- `xwininfo -root | grep &quot;Window id:&quot;`
<br />
X[ &quot;$5&quot; = &quot;&quot; ] &amp;&amp; Error Cannot access display $DISPLAY
<br />
Xroot=$5
<br />
X
<br />
Xset -- `xwininfo -id $WINDOWID -tree | grep Parent`
<br />
X[ &quot;$2&quot; = &quot;Parent&quot; ] || Error Invalid Window ID $WINDOWID
<br />
X[ &quot;$5&quot; = &quot;$root&quot; ] &amp;&amp; Error Window ID $WINDOWID is not a normal window
<br />
X
<br />
Xset -- `xwininfo -id $5        -tree | grep Parent`
<br />
X[ &quot;$2&quot; = &quot;Parent&quot; ] || Error Invalid Window ID $WINDOWID
<br />
X[ &quot;$5&quot; = &quot;$root&quot; ] &amp;&amp; Error Window ID $WINDOWID is not a normal window
<br />
X
<br />
XWIN=$5
<br />
X
<br />
X#XtoPS $rotate -frame -border -window $WIN - | /bin/lp -d POST -t Win=$WINDOWID
<br />
X/mx3_54/local/bin/import $rotate -descend -frame -border -window $WIN - | /bin/lp -d POST -t Win=$WINDOWID
<br />
END_OF_FILE
<br />
if test 2302 -ne `wc -c &lt;'/home/martin/BIN/Hardcopy'`; then
<br />
&nbsp;&nbsp;&nbsp;&nbsp;echo shar: \&quot;'/home/martin/BIN/Hardcopy'\&quot; unpacked with wrong size!
<br />
fi
<br />
chmod +x '/home/martin/BIN/Hardcopy'
<br />
# end of '/home/martin/BIN/Hardcopy'
<br />
fi
<br />
if test -f '/home/martin/BIN/xvHardCopy' -a &quot;${1}&quot; != &quot;-c&quot; ; then 
<br />
&nbsp;&nbsp;echo shar: Will not clobber existing file \&quot;'/home/martin/BIN/xvHardCopy'\&quot;
<br />
else
<br />
echo shar: Extracting \&quot;'/home/martin/BIN/xvHardCopy'\&quot; \(2239 characters\)
<br />
sed &quot;s/^X//&quot; &gt;'/home/martin/BIN/xvHardCopy' &lt;&lt;'END_OF_FILE'
<br />
X#!/bin/sh
<br />
X# $Id: Hardcopy,v 1.4 1996/06/03 12:03:12 deejai!martin Exp deejai!martin $
<br />
XPATH=$PATH:/usr/bin/X11:/home/martin/BIN; export PATH
<br />
X
<br />
XError(){
<br />
X	echo '$Id: Hardcopy,v 1.4 1996/06/03 12:03:12 deejai!martin Exp deejai!martin $' &gt;&amp;2
<br />
X	echo &quot;$_at_&quot; &gt;&amp;2
<br />
X	exit 1
<br />
X}
<br />
X
<br />
Xcase &quot;$WINDOWID:$1&quot; in
<br />
X	&quot;:&quot;)    # neither WINDOWID nor Parameter given
<br />
X		xmessage -timeout 30 -file - &lt;&lt;. &amp;
<br />
Xxwininfo ==&gt; Please select the window about which you
<br />
X         ==&gt; would like information by clicking the
<br />
X         ==&gt; mouse in that window.
<br />
X  (...Or click THIS window to abort Hardcopy.)
<br />
X.
<br />
X		KID=$!
<br />
X		KIDWIN=`xwininfo -name xmessage 2&gt;&amp;1 | grep 'Window id: ' | awk '{ print $5; }'`
<br />
X		WINDOWID=`xwininfo 2&gt;&amp;1 | grep 'Window id: ' | awk '{ print $5; }'`
<br />
X		kill $KID
<br />
X		case &quot;$WINDOWID:$1&quot; in
<br />
X		  0x27:&quot;&quot;)
<br />
X			  Error &quot;Hardcopy aborted (clicked on root window)&quot;
<br />
X			  ;;
<br />
X		  $KIDWIN:&quot;&quot;)
<br />
X			  Error &quot;Hardcopy aborted (clicked on xmessage window)&quot;
<br />
X			  ;;
<br />
X		  &quot;:&quot;)    # neither WINDOWID nor Parameter given
<br />
X			  Error Specify '$WINDOWID' or a window id, please.
<br />
X			  ;;
<br />
X		esac;;
<br />
X	*:)     ;;
<br />
X	*)      WINDOWID=$1;;
<br />
Xesac
<br />
X
<br />
X# Sometimes popping is unwanted...
<br />
X#xwit -pop -id $WINDOWID || Error Invalid Window Id $WINDOWID
<br />
X
<br />
X# Berechnen von Landscape oder Portrait:
<br />
Xrotate=&quot;&quot;
<br />
X#set -- `xwininfo -id $WINDOWID | grep Width:`   ; wid=$3
<br />
X#set -- `xwininfo -id $WINDOWID | grep Height:`  ; hite=$3
<br />
X#[ $wid -gt $hite ] &amp;&amp; rotate=&quot;-rotate 90&quot; || rotate=&quot;&quot;
<br />
X
<br />
X# Wir verwenden nicht den $WINDOWID selbst, sondern 2 Stufen hoeher.
<br />
X# Dadurch bekommen wir auch den Rahmen mit drauf.
<br />
X# xwininfo sagt uns, wer der Vater von $WINDOWID ist.
<br />
X
<br />
X# Zur Sicherheit pruefen wir noch, ob der Vater das Rootfenster ist....
<br />
Xset -- `xwininfo -root | grep &quot;Window id:&quot;`
<br />
X[ &quot;$5&quot; = &quot;&quot; ] &amp;&amp; Error Cannot access display $DISPLAY
<br />
Xroot=$5
<br />
X
<br />
Xset -- `xwininfo -id $WINDOWID -tree | grep Parent`
<br />
X[ &quot;$2&quot; = &quot;Parent&quot; ] || Error Invalid Window ID $WINDOWID
<br />
X[ &quot;$5&quot; = &quot;$root&quot; ] &amp;&amp; Error Window ID $WINDOWID is not a normal window
<br />
X
<br />
Xset -- `xwininfo -id $5        -tree | grep Parent`
<br />
X[ &quot;$2&quot; = &quot;Parent&quot; ] || Error Invalid Window ID $WINDOWID
<br />
X[ &quot;$5&quot; = &quot;$root&quot; ] &amp;&amp; Error Window ID $WINDOWID is not a normal window
<br />
X
<br />
XWIN=$5
<br />
X
<br />
X#/mx3_54/local/bin/import $rotate -descend -frame -border -window $WIN gif:- | xv -
<br />
Xxwd -frame -id $WIN | xv -
<br />
END_OF_FILE
<br />
if test 2239 -ne `wc -c &lt;'/home/martin/BIN/xvHardCopy'`; then
<br />
&nbsp;&nbsp;&nbsp;&nbsp;echo shar: \&quot;'/home/martin/BIN/xvHardCopy'\&quot; unpacked with wrong size!
<br />
fi
<br />
chmod +x '/home/martin/BIN/xvHardCopy'
<br />
# end of '/home/martin/BIN/xvHardCopy'
<br />
fi
<br />
echo shar: End of shell archive.
<br />
exit 0
<br />
<br /><br />Hope this helps. It has proved to be a valuable tool for me!
<br />
&nbsp;&nbsp;&nbsp;&nbsp;Martin
<br />
<pre>
-- 
| S I E M E N S |  &lt;Martin.Kraemer_at_mch.sni.de&gt;  |      Siemens Nixdorf
| ------------- |   Voice: +49-89-636-46021     |  Informationssysteme AG
| N I X D O R F |   FAX:   +49-89-636-44994     |   81730 Munich, Germany
~~~~~~~~~~~~~~~~My opinions only, of course; pgp key available on request
--
Visit the official FVWM web page at &lt;URL:<a href="http://www.hpc.uh.edu/fvwm/">http://www.hpc.uh.edu/fvwm/</a>&gt;.
To unsubscribe from the list, send &quot;unsubscribe fvwm&quot; in the body of a
message to majordomo_at_hpc.uh.edu.
To report problems, send mail to fvwm-owner_at_hpc.uh.edu.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Sep 30 1996 - 03:50:30 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start18009">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="18010.html" title="Next message in the list">TeeJay: "Re: FVWM: Still cant apply patches. Can anybody help me?"</a></li>
<li><dfn>Previous message</dfn>: <a href="18008.html" title="Previous message in the list">Kjetil Klonteig: "FVWM: Still cant apply patches. Can anybody help me?"</a></li>
<li><dfn>In reply to</dfn>: <a href="18003.html" title="Message to which this message replies">Tristan RAMBO Savatier: "FVWM: [Fwd: need help with screen-shots under X11]"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="18011.html" title="Next message in this discussion thread">Albrecht Kadlec: "Re: FVWM: [Fwd: need help with screen-shots under X11]"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="18011.html" title="Message sent in reply to this message">Albrecht Kadlec: "Re: FVWM: [Fwd: need help with screen-shots under X11]"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#msg18009" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#msg18009" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg18009" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg18009" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Mon Aug 29 2016 - 19:37:59 BST
</em></small></p>
</body>
</html>
